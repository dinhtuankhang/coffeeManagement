/*! For license information please see main.21f982e4.js.LICENSE.txt */
(()=>{"use strict";var e={463:(e,t,n)=>{var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),E=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case E:return"Portal";case k:return"Profiler";case T:return"StrictMode";case P:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,xe=null,Te=null;function ke(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=Si(t),Ee(e.stateNode,e.type,t))}}function _e(e){xe?Te?Te.push(e):Te=[e]:xe=e}function Ce(){if(xe){var e=xe,t=Te;if(Te=xe=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ie(e,t){return e(t)}function Pe(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ie(e,t,n)}finally{Ae=!1,(null!==xe||null!==Te)&&(Pe(),Ce())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=Si(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ne=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Ne=!1}function Oe(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Fe=null,je=!1,Ve=null,Ue={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,o,s,a,l){Me=!1,Fe=null,Oe.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===r)return We(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ht(a):0!==(o&=s)&&(r=ht(o))}else 0!==(s=n&~i)?r=ht(s):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,Et,xt,Tt,kt,_t=!1,Ct=[],It=null,Pt=null,At=null,Rt=new Map,Dt=new Map,Nt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void kt(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Vt(e,t,n){jt(e)&&n.delete(t)}function Ut(){_t=!1,null!==It&&jt(It)&&(It=null),null!==Pt&&jt(Pt)&&(Pt=null),null!==At&&jt(At)&&(At=null),Rt.forEach(Vt),Dt.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Bt(It,e),null!==Pt&&Bt(Pt,e),null!==At&&Bt(At,e),Rt.forEach(t),Dt.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Nt.shift()}var Ht=w.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function Kt(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return Pt=Mt(Pt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rt.set(o,Mt(Rt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dt.set(o,Mt(Dt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&St(o),null===(o=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=Se(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),hn=F({},cn,{view:0,detail:0}),dn=on(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(F({},fn,{dataTransfer:0})),gn=on(F({},hn,{relatedTarget:0})),vn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(F({},cn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function kn(){return Tn}var _n=F({},hn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(_n),In=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=on(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),An=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=on(Rn),Nn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Mn=u&&"TextEvent"in window&&!On,Fn=u&&(!Ln||On&&8<On&&11>=On),jn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){_e(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){jr(e,0)}function Yn(e){if(G(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];qn(t,Gn,e,Se(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},xr={},Tr={};function kr(e){if(xr[e])return xr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return xr[e]=n[t];return e}u&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var _r=kr("animationend"),Cr=kr("animationiteration"),Ir=kr("animationstart"),Pr=kr("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ar.set(e,t),l(t,[e])}for(var Nr=0;Nr<Rr.length;Nr++){var Lr=Rr[Nr];Dr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Dr(_r,"onAnimationEnd"),Dr(Cr,"onAnimationIteration"),Dr(Ir,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=Fe;Me=!1,Fe=null,je||(je=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Vr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,s.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Xt(t)){case 1:var i=qt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Re((function(){var r=o,i=Se(n),s=[];e:{var a=Ar.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case _r:case Cr:case Ir:l=vn;break;case Pr:l=An;break;case"scroll":l=dn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=De(p,d))&&u.push(qr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Qr(s,a,l,u,!1),null!==c&&null!==h&&Qr(s,h,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(Wn(a))if($n)g=sr;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?qn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,zn=!0)),0<(v=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Ln&&Un(e,t)?(e=en(),Zt=Jt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}jr(s,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=De(e,n))&&r.unshift(qr(e,o,i)),null!=(o=De(e,t))&&r.push(qr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=De(n,o))&&s.unshift(qr(n,l,a)):i||null!=(l=De(n,o))&&s.push(qr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Si(e){return e[fi]||null}var Ei=[],xi=-1;function Ti(e){return{current:e}}function ki(e){0>xi||(e.current=Ei[xi],Ei[xi]=null,xi--)}function _i(e,t){xi++,Ei[xi]=e.current,e.current=t}var Ci={},Ii=Ti(Ci),Pi=Ti(!1),Ai=Ci;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){ki(Pi),ki(Ii)}function Li(e,t,n){if(Ii.current!==Ci)throw Error(o(168));_i(Ii,t),_i(Pi,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=Ii.current,_i(Ii,e),_i(Pi,Pi.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Oi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,ki(Pi),ki(Ii),_i(Ii,e)):ki(Pi),_i(Pi,n)}var ji=null,Vi=!1,Ui=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Vi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,zi),i}finally{bt=t,Ui=!1}}return null}var Hi=[],Wi=0,qi=null,Ki=0,Gi=[],Qi=0,Yi=null,Xi=1,$i="";function Ji(e,t){Hi[Wi++]=Ki,Hi[Wi++]=qi,qi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Yi=e;var r=Xi;e=$i;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xi=1<<32-st(t)+i|n<<i|r,$i=o+e}else Xi=1<<o|n<<i|r,$i=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===qi;)qi=Hi[--Wi],Hi[Wi]=null,Ki=Hi[--Wi],Hi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ti(null),bo=null,wo=null,So=null;function Eo(){So=wo=bo=null}function xo(e){var t=yo.current;ki(yo),e._currentValue=t}function To(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){bo=e,So=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function _o(e){var t=e._currentValue;if(So!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Co=null;function Io(e){null===Co?Co=[e]:Co.push(e)}function Po(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Io(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ao(e,r)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function No(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ao(e,n)}return null===(i=r.interleaved)?(t.next=t,Io(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ao(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var i=e.updateQueue;Ro=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(s=0,u=c=l=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Ro=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fl|=s,e.lanes=s,e.memoizedState=h}}function Vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Uo=(new r.Component).refs;function Bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zo={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Oo(e,o,i))&&(rc(t,e,i,r),Mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Oo(e,o,i))&&(rc(t,e,i,r),Mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oo(e,i,r))&&(rc(t,e,r,n),Mo(t,e,r))}};function Ho(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function Wo(e,t,n){var r=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=_o(o):(i=Di(t)?Ai:Ii.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function qo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zo.enqueueReplaceState(t,t.state,null)}function Ko(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Uo,Do(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=_o(o):(o=Di(t)?Ai:Ii.current,i.context=Ri(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zo.enqueueReplaceState(i,i.state,null),jo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Uo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function Xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===x?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===D&&Yo(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case E:return(t=Vc(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:h(e,t,n,r,null);Qo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return h(t,e=e.get(n)||null,r,i,null);Qo(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),o=s(v,o,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(i,h),io&&Ji(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=s(h,o,m),null===u?c=h:u.sibling=h,u=h);return io&&Ji(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),io&&Ji(i,m),c}function g(i,a,l,c){var u=O(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===h?u=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),io&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(a=s(y,a,g),null===h?u=y:h.sibling=y,h=y);return io&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===x&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case S:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===x){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Yo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=Go(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===x?((o=Mc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Oc(s.type,s.key,s.props,null,r.mode,l)).ref=Go(r,o,s),l.return=r,r=l)}return a(r);case E:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Vc(s,r.mode,l)).return=r,r=o}return a(r);case D:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(O(s))return g(r,o,s,l);Qo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=jc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var $o=Xo(!0),Jo=Xo(!1),Zo={},es=Ti(Zo),ts=Ti(Zo),ns=Ti(Zo);function rs(e){if(e===Zo)throw Error(o(174));return e}function is(e,t){switch(_i(ns,t),_i(ts,e),_i(es,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(es),_i(es,t)}function os(){ki(es),ki(ts),ki(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=le(t,e.type);t!==n&&(_i(ts,e),_i(es,n))}function as(e){ts.current===e&&(ki(es),ki(ts))}var ls=Ti(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=[];function hs(){for(var e=0;e<us.length;e++)us[e]._workInProgressVersionPrimary=null;us.length=0}var ds=w.ReactCurrentDispatcher,fs=w.ReactCurrentBatchConfig,ps=0,ms=null,gs=null,vs=null,ys=!1,bs=!1,ws=0,Ss=0;function Es(){throw Error(o(321))}function xs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Ts(e,t,n,r,i,s){if(ps=s,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ds.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),bs){s=0;do{if(bs=!1,ws=0,25<=s)throw Error(o(301));s+=1,vs=gs=null,t.updateQueue=null,ds.current=ca,e=n(r,i)}while(bs)}if(ds.current=sa,t=null!==gs&&null!==gs.next,ps=0,vs=gs=ms=null,ys=!1,t)throw Error(o(300));return e}function ks(){var e=0!==ws;return ws=0,e}function _s(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vs?ms.memoizedState=vs=e:vs=vs.next=e,vs}function Cs(){if(null===gs){var e=ms.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===vs?ms.memoizedState:vs.next;if(null!==t)vs=t,gs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===vs?ms.memoizedState=vs=e:vs=vs.next=e}return vs}function Is(e,t){return"function"===typeof t?t(e):t}function Ps(e){var t=Cs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var h=u.lane;if((ps&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,ms.lanes|=h,Fl|=h}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ms.lanes|=s,Fl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function As(e){var t=Cs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Rs(){}function Ds(e,t){var n=ms,r=Cs(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,wa=!0),r=r.queue,Ws(Os.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==vs&&1&vs.memoizedState.tag){if(n.flags|=2048,Vs(9,Ls.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(o(349));0!==(30&ps)||Ns(n,t,i)}return i}function Ns(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ls(e,t,n,r){t.value=n,t.getSnapshot=r,Ms(t)&&Fs(e)}function Os(e,t,n){return n((function(){Ms(t)&&Fs(e)}))}function Ms(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fs(e){var t=Ao(e,1);null!==t&&rc(t,e,1,-1)}function js(e){var t=_s();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,ms,e),[t.memoizedState,e]}function Vs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Us(){return Cs().memoizedState}function Bs(e,t,n,r){var i=_s();ms.flags|=e,i.memoizedState=Vs(1|t,n,void 0,void 0===r?null:r)}function zs(e,t,n,r){var i=Cs();r=void 0===r?null:r;var o=void 0;if(null!==gs){var s=gs.memoizedState;if(o=s.destroy,null!==r&&xs(r,s.deps))return void(i.memoizedState=Vs(t,n,o,r))}ms.flags|=e,i.memoizedState=Vs(1|t,n,o,r)}function Hs(e,t){return Bs(8390656,8,e,t)}function Ws(e,t){return zs(2048,8,e,t)}function qs(e,t){return zs(4,2,e,t)}function Ks(e,t){return zs(4,4,e,t)}function Gs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zs(4,4,Gs.bind(null,t,e),n)}function Ys(){}function Xs(e,t){var n=Cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $s(e,t){var n=Cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Js(e,t,n){return 0===(21&ps)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),ms.lanes|=n,Fl|=n,e.baseState=!0),t)}function Zs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{bt=n,fs.transition=r}}function ea(){return Cs().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Po(e,t,n,r))){rc(n,e,r,tc()),oa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Io(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Po(e,t,i,r))&&(rc(n,e,r,i=tc()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===ms||null!==t&&t===ms}function ia(e,t){bs=ys=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var sa={readContext:_o,useCallback:Es,useContext:Es,useEffect:Es,useImperativeHandle:Es,useInsertionEffect:Es,useLayoutEffect:Es,useMemo:Es,useReducer:Es,useRef:Es,useState:Es,useDebugValue:Es,useDeferredValue:Es,useTransition:Es,useMutableSource:Es,useSyncExternalStore:Es,useId:Es,unstable_isNewReconciler:!1},aa={readContext:_o,useCallback:function(e,t){return _s().memoizedState=[e,void 0===t?null:t],e},useContext:_o,useEffect:Hs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4194308,4,Gs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bs(4,2,e,t)},useMemo:function(e,t){var n=_s();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_s();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,ms,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_s().memoizedState=e},useState:js,useDebugValue:Ys,useDeferredValue:function(e){return _s().memoizedState=e},useTransition:function(){var e=js(!1),t=e[0];return e=Zs.bind(null,e[1]),_s().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ms,i=_s();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Al)throw Error(o(349));0!==(30&ps)||Ns(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Hs(Os.bind(null,r,s,e),[e]),r.flags|=2048,Vs(9,Ls.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=_s(),t=Al.identifierPrefix;if(io){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-st(Xi)-1)).toString(32)+n),0<(n=ws++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ss++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:_o,useCallback:Xs,useContext:_o,useEffect:Ws,useImperativeHandle:Qs,useInsertionEffect:qs,useLayoutEffect:Ks,useMemo:$s,useReducer:Ps,useRef:Us,useState:function(){return Ps(Is)},useDebugValue:Ys,useDeferredValue:function(e){return Js(Cs(),gs.memoizedState,e)},useTransition:function(){return[Ps(Is)[0],Cs().memoizedState]},useMutableSource:Rs,useSyncExternalStore:Ds,useId:ea,unstable_isNewReconciler:!1},ca={readContext:_o,useCallback:Xs,useContext:_o,useEffect:Ws,useImperativeHandle:Qs,useInsertionEffect:qs,useLayoutEffect:Ks,useMemo:$s,useReducer:As,useRef:Us,useState:function(){return As(Is)},useDebugValue:Ys,useDeferredValue:function(e){var t=Cs();return null===gs?t.memoizedState=e:Js(t,gs.memoizedState,e)},useTransition:function(){return[As(Is)[0],Cs().memoizedState]},useMutableSource:Rs,useSyncExternalStore:Ds,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Kl=r),da(0,t)},n}function ma(e,t,n){(n=Lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Lo(-1,1)).tag=2,Oo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=w.ReactCurrentOwner,wa=!1;function Sa(e,t,n,r){t.child=null===e?Jo(t,null,n,r):$o(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var o=t.ref;return ko(t,i),r=Ts(e,t,n,r,o,i),n=ks(),null===e||wa?(io&&n&&eo(t),t.flags|=1,Sa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function xa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Nc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ta(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return qa(e,t,i)}return t.flags|=1,(e=Lc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ta(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,qa(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ca(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Ll,Nl),Nl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Ll,Nl),Nl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,_i(Ll,Nl),Nl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,_i(Ll,Nl),Nl|=r;return Sa(e,t,i,n),t.child}function _a(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,i){var o=Di(n)?Ai:Ii.current;return o=Ri(t,o),ko(t,i),n=Ts(e,t,n,r,o,i),r=ks(),null===e||wa?(io&&r&&eo(t),t.flags|=1,Sa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Ia(e,t,n,r,i){if(Di(n)){var o=!0;Mi(t)}else o=!1;if(ko(t,i),null===t.stateNode)Wa(e,t),Wo(t,n,r),Ko(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=_o(c):c=Ri(t,c=Di(n)?Ai:Ii.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&qo(t,s,r,c),Ro=!1;var d=t.memoizedState;s.state=d,jo(t,r,s,i),l=t.memoizedState,a!==r||d!==l||Pi.current||Ro?("function"===typeof u&&(Bo(t,n,u,r),l=t.memoizedState),(a=Ro||Ho(t,n,a,r,d,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,No(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:vo(t.type,a),s.props=c,h=t.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=_o(l):l=Ri(t,l=Di(n)?Ai:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&qo(t,s,r,l),Ro=!1,d=t.memoizedState,s.state=d,jo(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||Pi.current||Ro?("function"===typeof f&&(Bo(t,n,f,r),p=t.memoizedState),(c=Ro||Ho(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Pa(e,t,n,r,o,i)}function Pa(e,t,n,r,i,o){_a(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),qa(e,t,o);r=t.stateNode,ba.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=$o(t,e.child,null,o),t.child=$o(t,null,a,o)):Sa(e,t,a,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),is(e,t.containerInfo)}function Ra(e,t,n,r,i){return po(),mo(i),t.flags|=256,Sa(e,t,n,r),t.child}var Da,Na,La,Oa,Ma={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,n){var r,i=t.pendingProps,s=ls.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),_i(ls,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fc(l,i,0,null),e=Mc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=Ma,e):Va(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=ha(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(s=Mc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&$o(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=Ma,s);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=ha(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Al)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Ao(e,i),rc(r,e,i,-1))}return gc(),Ua(e,t,a,r=ha(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Xi=e.id,$i=e.overflow,Yi=t),t=Va(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Lc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Lc(r,a):(a=Mc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Lc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Va(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&mo(r),$o(t,e.child,null,n),(e=Va(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),To(e.return,t,n)}function za(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ha(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Sa(e,t,r.children,n),0!==(2&(r=ls.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(ls,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),za(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===cs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}za(t,!0,n,null,o);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Di(t.type)&&Ni(),Ga(t),null;case 3:return r=t.stateNode,os(),ki(Pi),ki(Ii),hs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Na(e,t),Ga(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)La(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ga(t),null}if(e=rs(es.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[di]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Vr(Or[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":X(r,s),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Vr("invalid",r);break;case"textarea":ie(r,s),Vr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Da(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Vr(Or[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Vr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Oa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ga(t),null;case 13:if(ki(ls),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else null!==oo&&(ac(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ls.current)?0===Ol&&(Ol=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return os(),Na(e,t),null===e&&zr(t.stateNode.containerInfo),Ga(t),null;case 10:return xo(t.type._context),Ga(t),null;case 19:if(ki(ls),null===(s=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ka(s,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=cs(e))){for(t.flags|=128,Ka(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&$e()>Hl&&(t.flags|=128,r=!0,Ka(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ga(t),null}else 2*$e()-s.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Ka(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$e(),t.sibling=null,n=ls.current,_i(ls,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nl)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ya(e,t){switch(to(t),t.tag){case 1:return Di(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),ki(Pi),ki(Ii),hs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(ki(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ls),null;case 4:return os(),null;case 10:return xo(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Da=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Na=function(){},La=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Oa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,$a=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:$a||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!$a&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tl(n,t,s),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!$a&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?($a=(r=$a)||null!==n.memoizedState,fl(e,t,n),$a=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(o(160));pl(s,a,i),hl=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&$(i,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(l){case"input":J(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){kc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){kc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=$e())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?($a=(u=$a)||h,gl(t,e),$a=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){El(d);continue}}null!==p?(p.return=f,Za=p):El(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;cl(e,ll(e),s);break;default:throw Error(o(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Za=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Xa;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||$a;a=Xa;var c=$a;if(Xa=s,($a=l)&&!c)for(Za=i;null!==Za;)l=(s=Za).child,22===s.tag&&null!==s.memoizedState?xl(i):null!==l?(l.return=s,Za=l):xl(i);for(;null!==o;)Za=o,wl(o,t,n),o=o.sibling;Za=i,Xa=a,$a=c}Sl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Za=o):Sl(e)}}function Sl(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$a||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$a)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Vo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(o(163))}$a||512&t.flags&&ol(t)}catch(f){kc(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function El(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function xl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var o=t.return;try{ol(t)}catch(l){kc(t,o,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Tl,kl=Math.ceil,_l=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,Il=w.ReactCurrentBatchConfig,Pl=0,Al=null,Rl=null,Dl=0,Nl=0,Ll=Ti(0),Ol=0,Ml=null,Fl=0,jl=0,Vl=0,Ul=null,Bl=null,zl=0,Hl=1/0,Wl=null,ql=!1,Kl=null,Gl=null,Ql=!1,Yl=null,Xl=0,$l=0,Jl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Pl)?$e():-1!==Zl?Zl:Zl=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Dl?Dl&-Dl:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<$l)throw $l=0,Jl=null,Error(o(185));vt(e,n,r),0!==(2&Pl)&&e===Al||(e===Al&&(0===(2&Pl)&&(jl|=n),4===Ol&&lc(e,Dl)),ic(e,r),1===n&&0===Pl&&0===(1&t.mode)&&(Hl=$e()+500,Vi&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=dt(e,e===Al?Dl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),si((function(){0===(6&Pl)&&zi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Zl=-1,ec=0,0!==(6&Pl))throw Error(o(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=dt(e,e===Al?Dl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Pl;Pl|=2;var s=mc();for(Al===e&&Dl===t||(Wl=null,Hl=$e()+500,fc(e,t));;)try{bc();break}catch(l){pc(e,l)}Eo(),_l.current=s,Pl=i,null!==Rl?t=0:(Al=null,Dl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ml,fc(e,0),lc(e,r),ic(e,$e()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(s=pt(e))&&(r=s,t=sc(e,s))),1===t))throw n=Ml,fc(e,0),lc(e,r),ic(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Ec(e,Bl,Wl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=zl+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ec.bind(null,e,Bl,Wl),t);break}Ec(e,Bl,Wl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(Ec.bind(null,e,Bl,Wl),r);break}Ec(e,Bl,Wl);break;default:throw Error(o(329))}}}return ic(e,$e()),e.callbackNode===n?oc.bind(null,e):null}function sc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Bl,Bl=n,null!==t&&ac(t)),e}function ac(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lc(e,t){for(t&=~Vl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Pl))throw Error(o(327));xc();var t=dt(e,0);if(0===(1&t))return ic(e,$e()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ml,fc(e,0),lc(e,t),ic(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Bl,Wl),ic(e,$e()),null}function uc(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Hl=$e()+500,Vi&&zi())}}function hc(e){null!==Yl&&0===Yl.tag&&0===(6&Pl)&&xc();var t=Pl;Pl|=1;var n=Il.transition,r=bt;try{if(Il.transition=null,bt=1,e)return e()}finally{bt=r,Il.transition=n,0===(6&(Pl=t))&&zi()}}function dc(){Nl=Ll.current,ki(Ll)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:os(),ki(Pi),ki(Ii),hs();break;case 5:as(r);break;case 4:os();break;case 13:case 19:ki(ls);break;case 10:xo(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Al=e,Rl=e=Lc(e.current,null),Dl=Nl=t,Ol=0,Ml=null,Vl=jl=Fl=0,Bl=Ul=null,null!==Co){for(t=0;t<Co.length;t++)if(null!==(r=(n=Co[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Co=null}return e}function pc(e,t){for(;;){var n=Rl;try{if(Eo(),ds.current=sa,ys){for(var r=ms.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ys=!1}if(ps=0,vs=gs=ms=null,bs=!1,ws=0,Cl.current=null,null===n||null===n.return){Ol=1,Ml=t,Rl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ga(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(s,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),mo(ua(c,l));break e}}s=c=ua(c,l),4!==Ol&&(Ol=2),null===Ul?Ul=[s]:Ul.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,pa(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,ma(s,l,t));break e}}s=s.return}while(null!==s)}Sc(n)}catch(w){t=w,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function mc(){var e=_l.current;return _l.current=sa,null===e?sa:e}function gc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Al||0===(268435455&Fl)&&0===(268435455&jl)||lc(Al,Dl)}function vc(e,t){var n=Pl;Pl|=2;var r=mc();for(Al===e&&Dl===t||(Wl=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(Eo(),Pl=n,_l.current=r,null!==Rl)throw Error(o(261));return Al=null,Dl=0,Ol}function yc(){for(;null!==Rl;)wc(Rl)}function bc(){for(;null!==Rl&&!Ye();)wc(Rl)}function wc(e){var t=Tl(e.alternate,e,Nl);e.memoizedProps=e.pendingProps,null===t?Sc(e):Rl=t,Cl.current=null}function Sc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Nl)))return void(Rl=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Ol=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Ol&&(Ol=5)}function Ec(e,t,n){var r=bt,i=Il.transition;try{Il.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Yl);if(0!==(6&Pl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Al&&(Rl=Al=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Ac(tt,(function(){return xc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Il.transition,Il.transition=null;var a=bt;bt=1;var l=Pl;Pl|=4,Cl.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(S){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==s||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(S){kc(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Xe(),Pl=l,bt=a,Il.transition=s}else e.current=n;if(Ql&&(Ql=!1,Yl=e,Xl=i),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Kl,Kl=null,e;0!==(1&Xl)&&0!==e.tag&&xc(),s=e.pendingLanes,0!==(1&s)?e===Jl?$l++:($l=0,Jl=e):$l=0,zi()}(e,t,n,r)}finally{Il.transition=i,bt=r}return null}function xc(){if(null!==Yl){var e=wt(Xl),t=Il.transition,n=bt;try{if(Il.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&Pl))throw Error(o(331));var i=Pl;for(Pl|=4,Za=e.current;null!==Za;){var s=Za,a=s.child;if(0!==(16&Za.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:rl(8,h,s)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(sl(h),h===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Za=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Za=a;else e:for(;null!==Za;){if(0!==(2048&(s=Za).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Za=y;break e}Za=s.return}}var b=e.current;for(Za=b;null!==Za;){var w=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Za=w;else e:for(a=b;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(E){kc(l,l.return,E)}if(l===a){Za=null;break e}var S=l.sibling;if(null!==S){S.return=l.return,Za=S;break e}Za=l.return}}if(Pl=i,zi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{bt=n,Il.transition=t}}return!1}function Tc(e,t,n){e=Oo(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)Tc(e,e,n);else for(;null!==t;){if(3===t.tag){Tc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Oo(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Dl&n)===n&&(4===Ol||3===Ol&&(130023424&Dl)===Dl&&500>$e()-zl?fc(e,0):Vl|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ao(e,t))&&(vt(e,t,n),ic(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cc(e,n)}function Ac(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Rc(e,t,n,r)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Nc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case x:return Mc(n.children,i,s,t);case T:a=8,i|=8;break;case k:return(e=Dc(12,n,t,2|i)).elementType=k,e.lanes=s,e;case P:return(e=Dc(13,n,t,i)).elementType=P,e.lanes=s,e;case A:return(e=Dc(19,n,t,i)).elementType=A,e.lanes=s,e;case N:return Fc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:a=10;break e;case C:a=9;break e;case I:a=11;break e;case R:a=14;break e;case D:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Dc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Mc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,o,s,a,l){return e=new Uc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Dc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(o),e}function zc(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Di(n))return Oi(e,n,t)}return t}function Hc(e,t,n,r,i,o,s,a,l){return(e=Bc(n,r,!0,e,0,o,0,a,l)).context=zc(null),n=e.current,(o=Lo(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Oo(n,o,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,o=tc(),s=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oo(i,t,s))&&(rc(e,i,s,o),Mo(e,i,s)),s}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Tl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),po();break;case 5:ss(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(ls,1&ls.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ja(e,t,n):(_i(ls,1&ls.current),null!==(e=qa(e,t,n))?e.sibling:null);_i(ls,1&ls.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ha(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return qa(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,io&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Ri(t,Ii.current);ko(t,n),i=Ts(null,t,r,e,i,n);var s=ks();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(s=!0,Mi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Do(t),i.updater=zo,t.stateNode=i,i._reactInternals=t,Ko(t,r,e,n),t=Pa(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),Sa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Nc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===R)return 14}return 2}(r),e=vo(r,e),i){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=Ia(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=xa(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Aa(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,No(e,t),jo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ra(e,t,r,n,i=ua(Error(o(423)),t));break e}if(r!==i){t=Ra(e,t,r,n,i=ua(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=qa(e,t,n);break e}Sa(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),_a(e,t),Sa(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return ja(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$o(t,null,r,n):Sa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return Sa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Sa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,_i(yo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Pi.current){t=qa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Lo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),To(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),To(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Sa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),r=r(i=_o(i)),t.flags|=1,Sa(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),xa(e,t,r,i=vo(r.type,i),n);case 15:return Ta(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),Wa(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,ko(t,n),Wo(t,r,i),Ko(t,r,i,n),Pa(null,t,r,!0,e,n);case 19:return Ha(e,t,n);case 22:return ka(e,t,n)}throw Error(o(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=qc(s);a.call(e)}}Wc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=qc(s);o.call(e)}}var s=Hc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),hc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=qc(l);a.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,l,n,r)})),l}(n,t,e,i,r);return qc(s)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Ft(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,$e()),0===(6&Pl)&&(Hl=$e()+500,zi()))}break;case 13:hc((function(){var t=Ao(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},Et=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Ao(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},Tt=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Si(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=uc,Pe=hc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,Si,_e,Ce,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(o(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},117:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var S=Array.isArray,E=Object.prototype.hasOwnProperty,x={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,i)&&!T.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:x.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+I(l,0):o,S(s)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),P(s,t,i,"",(function(e){return e}))):null!=s&&(_(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",S(e))for(var c=0;c<e.length;c++){var u=o+I(a=e[c],c);l+=P(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=P(a=a.value,t,i,u=o+I(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},N={transition:null},L={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:N,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!T.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{e.exports=n(117)},184:(e,t,n)=>{e.exports=n(374)},813:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,N(E);else{var t=r(u);null!==t&&L(S,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(_),_=-1),p=!0;var o=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!P());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&L(S,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,T=!1,k=null,_=-1,C=5,I=-1;function P(){return!(t.unstable_now()-I<C)}function A(){if(null!==k){var e=t.unstable_now();I=e;var n=!0;try{n=k(!0,e)}finally{n?x():(T=!1,k=null)}}else T=!1}if("function"===typeof b)x=function(){b(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=A,x=function(){D.postMessage(null)}}else x=function(){v(A,0)};function N(e){k=e,T||(T=!0,x())}function L(e,n){_=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,N(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(_),_=-1):g=!0,L(S,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,N(E))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".9dc26c9e.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="contact-app:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+o){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/coffeeManagement/",(()=>{var e={179:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],l=r[2],c=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkcontact_app=self.webpackChunkcontact_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{var e=n(791),t=n.t(e,2),r=n(250);n.p;function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}var o;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(o||(o={}));const s="popstate";function a(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,r){return void 0===n&&(n=null),i({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?d(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(e,t,n,r){void 0===r&&(r={});let{window:l=document.defaultView,v5Compat:d=!1}=r,f=l.history,p=o.Pop,m=null,g=v();function v(){return(f.state||{idx:null}).idx}function y(){p=o.Pop;let e=v(),t=null==e?null:e-g;g=e,m&&m({action:p,location:w.location,delta:t})}function b(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),a(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(i({},f.state,{idx:g}),""));let w={get action(){return p},get location(){return e(l,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(s,y),m=e,()=>{l.removeEventListener(s,y),m=null}},createHref:e=>t(l,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=o.Push;let r=u(w.location,e,t);n&&n(r,e),g=v()+1;let i=c(r,g),s=w.createHref(r);try{f.pushState(i,"",s)}catch(a){if(a instanceof DOMException&&"DataCloneError"===a.name)throw a;l.location.assign(s)}d&&m&&m({action:p,location:w.location,delta:1})},replace:function(e,t){p=o.Replace;let r=u(w.location,e,t);n&&n(r,e),g=v();let i=c(r,g),s=w.createHref(r);f.replaceState(i,"",s),d&&m&&m({action:p,location:w.location,delta:0})},go:e=>f.go(e)};return w}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));const m=new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map(((e,o)=>{let s=[...n,o],l="string"===typeof e.id?e.id:s.join("-");if(a(!0!==e.index||!e.children,"Cannot specify children on an index route"),a(!r[l],'Found a route id collision on id "'+l+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=i({},e,t(e),{id:l});return r[l]=n,n}{let n=i({},e,t(e),{id:l,children:void 0});return r[l]=n,e.children&&(n.children=g(e.children,t,s,r)),n}}))}function v(e,t,n){void 0===n&&(n="/");let r=R(("string"===typeof t?d(t):t).pathname||"/",n);if(null==r)return null;let i=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=A(r);o=I(i[s],e)}return o}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(a(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let l=M([r,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(a(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),y(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:C(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=b(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:[\w-]+$/,S=3,E=2,x=1,T=10,k=-2,_=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(_)&&(r+=k),t&&(r+=E),n.filter((e=>!_(e))).reduce(((e,t)=>e+(w.test(t)?S:""===t?x:T)),r)}function I(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:M([i,c.pathname]),pathnameBase:F(M([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=M([i,c.pathnameBase]))}return o}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1),c=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:c,pathname:o,pathnameBase:s,pattern:e}}function A(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function N(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function L(e,t){let n=N(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function O(e,t,n,r){let o;void 0===r&&(r=!1),"string"===typeof e?o=d(e):(o=i({},e),a(!o.pathname||!o.pathname.includes("?"),D("?","pathname","search",o)),a(!o.pathname||!o.pathname.includes("#"),D("#","pathname","hash",o)),a(!o.search||!o.search.includes("#"),D("#","search","hash",o)));let s,l=""===e||""===o.pathname,c=l?"/":o.pathname;if(null==c)s=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?d(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:j(r),hash:V(i)}}(o,s),h=c&&"/"!==c&&c.endsWith("/"),f=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!f||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),j=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;class U{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],H=new Set(z),W=["get",...z],q=new Set(W),K=new Set([301,302,303,307,308]),G=new Set([307,308]),Q={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Y={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},X={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,J=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),Z="remix-router-transitions";function ee(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement,r=!n;let s;if(a(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)s=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;s=e=>({hasErrorBoundary:t(e)})}else s=J;let c,h,d={},f=g(e.routes,s,void 0,d),m=e.basename||"/",y=i({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},e.future),b=null,w=new Set,S=null,E=null,x=null,T=null!=e.hydrationData,k=v(f,e.history.location,m),_=null;if(null==k){let t=ve(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=ge(f);k=n,_={[r.id]:t}}let C,I=k.some((e=>e.route.lazy)),P=k.some((e=>e.route.loader));if(I)h=!1;else if(P)if(y.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null;h=k.every((e=>e.route.loader&&!0!==e.route.loader.hydrate&&(t&&void 0!==t[e.route.id]||n&&void 0!==n[e.route.id])))}else h=null!=e.hydrationData;else h=!0;let A,D={historyAction:e.history.action,location:e.history.location,matches:k,initialized:h,navigation:Q,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||_,fetchers:new Map,blockers:new Map},N=o.Pop,L=!1,O=!1,M=new Map,F=null,j=!1,V=!1,U=[],B=[],z=new Map,H=0,W=-1,q=new Map,K=new Set,ee=new Map,re=new Map,oe=new Set,se=new Map,ae=new Map,ue=!1;function he(e,t){void 0===t&&(t={}),D=i({},D,e);let n=[],r=[];y.v7_fetcherPersist&&D.fetchers.forEach(((e,t)=>{"idle"===e.state&&(oe.has(t)?r.push(t):n.push(t))})),[...w].forEach((e=>e(D,{deletedFetchers:r,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync}))),y.v7_fetcherPersist&&(n.forEach((e=>D.fetchers.delete(e))),r.forEach((e=>Fe(e))))}function de(t,n,r){var s,a;let l,{flushSync:u}=void 0===r?{}:r,h=null!=D.actionData&&null!=D.navigation.formMethod&&ke(D.navigation.formMethod)&&"loading"===D.navigation.state&&!0!==(null==(s=t.state)?void 0:s._isRedirect);l=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:h?D.actionData:null;let d=n.loaderData?pe(D.loaderData,n.loaderData,n.matches||[],n.errors):D.loaderData,p=D.blockers;p.size>0&&(p=new Map(p),p.forEach(((e,t)=>p.set(t,X))));let m,g=!0===L||null!=D.navigation.formMethod&&ke(D.navigation.formMethod)&&!0!==(null==(a=t.state)?void 0:a._isRedirect);if(c&&(f=c,c=void 0),j||N===o.Pop||(N===o.Push?e.history.push(t,t.state):N===o.Replace&&e.history.replace(t,t.state)),N===o.Pop){let e=M.get(D.location.pathname);e&&e.has(t.pathname)?m={currentLocation:D.location,nextLocation:t}:M.has(t.pathname)&&(m={currentLocation:t,nextLocation:D.location})}else if(O){let e=M.get(D.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),M.set(D.location.pathname,e)),m={currentLocation:D.location,nextLocation:t}}he(i({},n,{actionData:l,loaderData:d,historyAction:N,location:t,initialized:!0,navigation:Q,revalidation:"idle",restoreScrollPosition:Ge(t,n.matches||D.matches),preventScrollReset:g,blockers:p}),{viewTransitionOpts:m,flushSync:!0===u}),N=o.Pop,L=!1,O=!1,j=!1,V=!1,U=[],B=[]}async function be(t,n,r){A&&A.abort(),A=null,N=t,j=!0===(r&&r.startUninterruptedRevalidation),function(e,t){if(S&&x){let n=Ke(e,t);S[n]=x()}}(D.location,D.matches),L=!0===(r&&r.preventScrollReset),O=!0===(r&&r.enableViewTransition);let a=c||f,l=r&&r.overrideNavigation,u=v(a,n,m),h=!0===(r&&r.flushSync);if(!u){let e=ve(404,{pathname:n.pathname}),{matches:t,route:r}=ge(a);return qe(),void de(n,{matches:t,loaderData:{},errors:{[r.id]:e}},{flushSync:h})}if(D.initialized&&!V&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(D.location,n)&&!(r&&r.submission&&ke(r.submission.formMethod)))return void de(n,{matches:u},{flushSync:h});A=new AbortController;let g,b,w=ce(e.history,n,A.signal,r&&r.submission);if(r&&r.pendingError)b={[me(u).route.id]:r.pendingError};else if(r&&r.submission&&ke(r.submission.formMethod)){let e=await async function(e,t,n,r,i){void 0===i&&(i={});Ie();let a,l=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);he({navigation:l},{flushSync:!0===i.flushSync});let c=Pe(r,t);if(c.route.action||c.route.lazy){if(a=await le("action",e,c,r,d,s,m,y.v7_relativeSplatPath),e.signal.aborted)return{shortCircuited:!0}}else a={type:p.error,error:ve(405,{method:e.method,pathname:t.pathname,routeId:c.route.id})};if(Ee(a)){let e;return e=i&&null!=i.replace?i.replace:a.location===D.location.pathname+D.location.search,await xe(D,a,{submission:n,replace:e}),{shortCircuited:!0}}if(Se(a)){let e=me(r,c.route.id);return!0!==(i&&i.replace)&&(N=o.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:a.error}}}if(we(a))throw ve(400,{type:"defer-action"});return{pendingActionData:{[c.route.id]:a.data}}}(w,n,r.submission,u,{replace:r.replace,flushSync:h});if(e.shortCircuited)return;g=e.pendingActionData,b=e.pendingActionError,l=Re(n,r.submission),h=!1,w=new Request(w.url,{signal:w.signal})}let{shortCircuited:E,loaderData:T,errors:k}=await async function(t,n,r,o,s,a,l,u,h,d,p){let g=o||Re(n,s),v=s||a||Ae(g),b=c||f,[w,S]=ie(e.history,D,r,v,n,y.v7_partialHydration&&!0===u,V,U,B,oe,ee,K,b,m,d,p);if(qe((e=>!(r&&r.some((t=>t.route.id===e)))||w&&w.some((t=>t.route.id===e)))),W=++H,0===w.length&&0===S.length){let e=Ue();return de(n,i({matches:r,loaderData:{},errors:p||null},d?{actionData:d}:{},e?{fetchers:new Map(D.fetchers)}:{}),{flushSync:h}),{shortCircuited:!0}}if(!j&&(!y.v7_partialHydration||!u)){S.forEach((e=>{let t=D.fetchers.get(e.key),n=De(void 0,t?t.data:void 0);D.fetchers.set(e.key,n)}));let e=d||D.actionData;he(i({navigation:g},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},S.length>0?{fetchers:new Map(D.fetchers)}:{}),{flushSync:h})}S.forEach((e=>{z.has(e.key)&&je(e.key),e.controller&&z.set(e.key,e.controller)}));let E=()=>S.forEach((e=>je(e.key)));A&&A.signal.addEventListener("abort",E);let{results:x,loaderResults:T,fetcherResults:k}=await Te(D.matches,r,w,S,t);if(t.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",E);S.forEach((e=>z.delete(e.key)));let _=ye(x);if(_){if(_.idx>=w.length){let e=S[_.idx-w.length].key;K.add(e)}return await xe(D,_.result,{replace:l}),{shortCircuited:!0}}let{loaderData:C,errors:I}=fe(D,r,w,T,p,S,k,se);se.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&se.delete(t)}))}));let P=Ue(),R=Be(W),N=P||R||S.length>0;return i({loaderData:C,errors:I},N?{fetchers:new Map(D.fetchers)}:{})}(w,n,u,l,r&&r.submission,r&&r.fetcherSubmission,r&&r.replace,r&&!0===r.initialHydration,h,g,b);E||(A=null,de(n,i({matches:u},g?{actionData:g}:{},{loaderData:T,errors:k})))}async function xe(r,s,l){let{submission:c,fetcherSubmission:h,replace:d}=void 0===l?{}:l;s.revalidate&&(V=!0);let f=u(r.location,s.location,{_isRedirect:!0});if(a(f,"Expected a location on the redirect navigation"),n){let n=!1;if(s.reloadDocument)n=!0;else if($.test(s.location)){const r=e.history.createURL(s.location);n=r.origin!==t.location.origin||null==R(r.pathname,m)}if(n)return void(d?t.location.replace(s.location):t.location.assign(s.location))}A=null;let p=!0===d?o.Replace:o.Push,{formMethod:g,formAction:v,formEncType:y}=r.navigation;!c&&!h&&g&&v&&y&&(c=Ae(r.navigation));let b=c||h;if(G.has(s.status)&&b&&ke(b.formMethod))await be(p,f,{submission:i({},b,{formAction:s.location}),preventScrollReset:L});else{let e=Re(f,c);await be(p,f,{overrideNavigation:e,fetcherSubmission:h,preventScrollReset:L})}}async function Te(t,n,r,i,o){let a=await Promise.all([...r.map((e=>le("loader",o,e,n,d,s,m,y.v7_relativeSplatPath))),...i.map((t=>{if(t.matches&&t.match&&t.controller)return le("loader",ce(e.history,t.path,t.controller.signal),t.match,t.matches,d,s,m,y.v7_relativeSplatPath);return{type:p.error,error:ve(404,{pathname:t.path})}}))]),l=a.slice(0,r.length),c=a.slice(r.length);return await Promise.all([_e(t,r,l,l.map((()=>o.signal)),!1,D.loaderData),_e(t,i.map((e=>e.match)),c,i.map((e=>e.controller?e.controller.signal:null)),!0)]),{results:a,loaderResults:l,fetcherResults:c}}function Ie(){V=!0,U.push(...qe()),ee.forEach(((e,t)=>{z.has(t)&&(B.push(t),je(t))}))}function Le(e,t,n){void 0===n&&(n={}),D.fetchers.set(e,t),he({fetchers:new Map(D.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function Oe(e,t,n,r){void 0===r&&(r={});let i=me(D.matches,t);Fe(e),he({errors:{[i.route.id]:n},fetchers:new Map(D.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function Me(e){return y.v7_fetcherPersist&&(re.set(e,(re.get(e)||0)+1),oe.has(e)&&oe.delete(e)),D.fetchers.get(e)||Y}function Fe(e){let t=D.fetchers.get(e);!z.has(e)||t&&"loading"===t.state&&q.has(e)||je(e),ee.delete(e),q.delete(e),K.delete(e),oe.delete(e),D.fetchers.delete(e)}function je(e){let t=z.get(e);a(t,"Expected fetch controller: "+e),t.abort(),z.delete(e)}function Ve(e){for(let t of e){let e=Ne(Me(t).data);D.fetchers.set(t,e)}}function Ue(){let e=[],t=!1;for(let n of K){let r=D.fetchers.get(n);a(r,"Expected fetcher: "+n),"loading"===r.state&&(K.delete(n),e.push(n),t=!0)}return Ve(e),t}function Be(e){let t=[];for(let[n,r]of q)if(r<e){let e=D.fetchers.get(n);a(e,"Expected fetcher: "+n),"loading"===e.state&&(je(n),q.delete(n),t.push(n))}return Ve(t),t.length>0}function ze(e){D.blockers.delete(e),ae.delete(e)}function He(e,t){let n=D.blockers.get(e)||X;a("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(D.blockers);r.set(e,t),he({blockers:r})}function We(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===ae.size)return;ae.size>1&&l(!1,"A router only supports one blocker at a time");let i=Array.from(ae.entries()),[o,s]=i[i.length-1],a=D.blockers.get(o);return a&&"proceeding"===a.state?void 0:s({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}function qe(e){let t=[];return se.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),se.delete(r))})),t}function Ke(e,t){if(E){return E(e,t.map((e=>function(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}(e,D.loaderData))))||e.key}return e.key}function Ge(e,t){if(S){let n=Ke(e,t),r=S[n];if("number"===typeof r)return r}return null}return C={get basename(){return m},get future(){return y},get state(){return D},get routes(){return f},get window(){return t},initialize:function(){if(b=e.history.listen((t=>{let{action:n,location:r,delta:i}=t;if(ue)return void(ue=!1);l(0===ae.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let o=We({currentLocation:D.location,nextLocation:r,historyAction:n});return o&&null!=i?(ue=!0,e.history.go(-1*i),void He(o,{state:"blocked",location:r,proceed(){He(o,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset(){let e=new Map(D.blockers);e.set(o,X),he({blockers:e})}})):be(n,r)})),n){!function(e,t){try{let n=e.sessionStorage.getItem(Z);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(n){}}(t,M);let e=()=>function(e,t){if(t.size>0){let r={};for(let[e,n]of t)r[e]=[...n];try{e.sessionStorage.setItem(Z,JSON.stringify(r))}catch(n){l(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}(t,M);t.addEventListener("pagehide",e),F=()=>t.removeEventListener("pagehide",e)}return D.initialized||be(o.Pop,D.location,{initialHydration:!0}),C},subscribe:function(e){return w.add(e),()=>w.delete(e)},enableScrollRestoration:function(e,t,n){if(S=e,x=t,E=n||null,!T&&D.navigation===Q){T=!0;let e=Ge(D.location,D.matches);null!=e&&he({restoreScrollPosition:e})}return()=>{S=null,x=null,E=null}},navigate:async function t(n,r){if("number"===typeof n)return void e.history.go(n);let s=te(D.location,D.matches,m,y.v7_prependBasename,n,y.v7_relativeSplatPath,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),{path:a,submission:l,error:c}=ne(y.v7_normalizeFormMethod,!1,s,r),h=D.location,d=u(D.location,a,r&&r.state);d=i({},d,e.history.encodeLocation(d));let f=r&&null!=r.replace?r.replace:void 0,p=o.Push;!0===f?p=o.Replace:!1===f||null!=l&&ke(l.formMethod)&&l.formAction===D.location.pathname+D.location.search&&(p=o.Replace);let g=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,v=!0===(r&&r.unstable_flushSync),b=We({currentLocation:h,nextLocation:d,historyAction:p});if(!b)return await be(p,d,{submission:l,pendingError:c,preventScrollReset:g,replace:r&&r.replace,enableViewTransition:r&&r.unstable_viewTransition,flushSync:v});He(b,{state:"blocked",location:d,proceed(){He(b,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),t(n,r)},reset(){let e=new Map(D.blockers);e.set(b,X),he({blockers:e})}})},fetch:function(t,n,i,o){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");z.has(t)&&je(t);let l=!0===(o&&o.unstable_flushSync),u=c||f,h=te(D.location,D.matches,m,y.v7_prependBasename,i,y.v7_relativeSplatPath,n,null==o?void 0:o.relative),p=v(u,h,m);if(!p)return void Oe(t,n,ve(404,{pathname:h}),{flushSync:l});let{path:g,submission:b,error:w}=ne(y.v7_normalizeFormMethod,!0,h,o);if(w)return void Oe(t,n,w,{flushSync:l});let S=Pe(p,g);L=!0===(o&&o.preventScrollReset),b&&ke(b.formMethod)?async function(t,n,r,i,o,l,u){if(Ie(),ee.delete(t),!i.route.action&&!i.route.lazy){let e=ve(405,{method:u.formMethod,pathname:r,routeId:n});return void Oe(t,n,e,{flushSync:l})}let h=D.fetchers.get(t);Le(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(u,h),{flushSync:l});let p=new AbortController,g=ce(e.history,r,p.signal,u);z.set(t,p);let b=H,w=await le("action",g,i,o,d,s,m,y.v7_relativeSplatPath);if(g.signal.aborted)return void(z.get(t)===p&&z.delete(t));if(y.v7_fetcherPersist&&oe.has(t)){if(Ee(w)||Se(w))return void Le(t,Ne(void 0))}else{if(Ee(w))return z.delete(t),W>b?void Le(t,Ne(void 0)):(K.add(t),Le(t,De(u)),xe(D,w,{fetcherSubmission:u}));if(Se(w))return void Oe(t,n,w.error)}if(we(w))throw ve(400,{type:"defer-action"});let S=D.navigation.location||D.location,E=ce(e.history,S,p.signal),x=c||f,T="idle"!==D.navigation.state?v(x,D.navigation.location,m):D.matches;a(T,"Didn't find any matches after fetcher action");let k=++H;q.set(t,k);let _=De(u,w.data);D.fetchers.set(t,_);let[C,I]=ie(e.history,D,T,u,S,!1,V,U,B,oe,ee,K,x,m,{[i.route.id]:w.data},void 0);I.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=D.fetchers.get(t),r=De(void 0,n?n.data:void 0);D.fetchers.set(t,r),z.has(t)&&je(t),e.controller&&z.set(t,e.controller)})),he({fetchers:new Map(D.fetchers)});let P=()=>I.forEach((e=>je(e.key)));p.signal.addEventListener("abort",P);let{results:R,loaderResults:L,fetcherResults:O}=await Te(D.matches,T,C,I,E);if(p.signal.aborted)return;p.signal.removeEventListener("abort",P),q.delete(t),z.delete(t),I.forEach((e=>z.delete(e.key)));let M=ye(R);if(M){if(M.idx>=C.length){let e=I[M.idx-C.length].key;K.add(e)}return xe(D,M.result)}let{loaderData:F,errors:j}=fe(D,D.matches,C,L,void 0,I,O,se);if(D.fetchers.has(t)){let e=Ne(w.data);D.fetchers.set(t,e)}Be(k),"loading"===D.navigation.state&&k>W?(a(N,"Expected pending action"),A&&A.abort(),de(D.navigation.location,{matches:T,loaderData:F,errors:j,fetchers:new Map(D.fetchers)})):(he({errors:j,loaderData:pe(D.loaderData,F,T,j),fetchers:new Map(D.fetchers)}),V=!1)}(t,n,g,S,p,l,b):(ee.set(t,{routeId:n,path:g}),async function(t,n,r,i,o,l,c){let u=D.fetchers.get(t);Le(t,De(c,u?u.data:void 0),{flushSync:l});let h=new AbortController,f=ce(e.history,r,h.signal);z.set(t,h);let p=H,g=await le("loader",f,i,o,d,s,m,y.v7_relativeSplatPath);we(g)&&(g=await Ce(g,f.signal,!0)||g);z.get(t)===h&&z.delete(t);if(f.signal.aborted)return;if(oe.has(t))return void Le(t,Ne(void 0));if(Ee(g))return W>p?void Le(t,Ne(void 0)):(K.add(t),void await xe(D,g));if(Se(g))return void Oe(t,n,g.error);a(!we(g),"Unhandled fetcher deferred data"),Le(t,Ne(g.data))}(t,n,g,S,p,l,b))},revalidate:function(){Ie(),he({revalidation:"loading"}),"submitting"!==D.navigation.state&&("idle"!==D.navigation.state?be(N||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation}):be(D.historyAction,D.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:Me,deleteFetcher:function(e){if(y.v7_fetcherPersist){let t=(re.get(e)||0)-1;t<=0?(re.delete(e),oe.add(e)):re.set(e,t)}else Fe(e);he({fetchers:new Map(D.fetchers)})},dispose:function(){b&&b(),F&&F(),w.clear(),A&&A.abort(),D.fetchers.forEach(((e,t)=>Fe(t))),D.blockers.forEach(((e,t)=>ze(t)))},getBlocker:function(e,t){let n=D.blockers.get(e)||X;return ae.get(e)!==t&&ae.set(e,t),n},deleteBlocker:ze,_internalFetchControllers:z,_internalActiveDeferreds:se,_internalSetRoutes:function(e){d={},c=g(e,s,void 0,d)}},C}Symbol("deferred");function te(e,t,n,r,i,o,s,a){let l,c;if(s){l=[];for(let e of t)if(l.push(e),e.route.id===s){c=e;break}}else l=t,c=t[t.length-1];let u=O(i||".",L(l,o),R(e.pathname,n)||e.pathname,"path"===a);return null==i&&(u.search=e.search,u.hash=e.hash),null!=i&&""!==i&&"."!==i||!c||!c.route.index||Ie(u.search)||(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(u.pathname="/"===u.pathname?n:M([n,u.pathname])),h(u)}function ne(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!Te(r.formMethod))return{path:n,error:ve(405,{method:r.formMethod})};let i,o,s=()=>({path:n,error:ve(400,{type:"invalid-body"})}),l=r.formMethod||"get",c=e?l.toUpperCase():l.toLowerCase(),u=be(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!ke(c))return s();let e="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce(((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:c,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!ke(c))return s();try{let e="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:c,formAction:u,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(m){return s()}}}if(a("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=ue(r.formData),o=r.formData;else if(r.body instanceof FormData)i=ue(r.body),o=r.body;else if(r.body instanceof URLSearchParams)i=r.body,o=he(i);else if(null==r.body)i=new URLSearchParams,o=new FormData;else try{i=new URLSearchParams(r.body),o=he(i)}catch(m){return s()}let f={formMethod:c,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:o,json:void 0,text:void 0};if(ke(f.formMethod))return{path:n,submission:f};let p=d(n);return t&&p.search&&Ie(p.search)&&i.append("index",""),p.search="?"+i,{path:h(p),submission:f}}function re(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}function ie(e,t,n,r,o,s,a,l,c,u,h,d,f,p,m,g){let y=g?Object.values(g)[0]:m?Object.values(m)[0]:void 0,b=e.createURL(t.location),w=e.createURL(o),S=g?Object.keys(g)[0]:void 0,E=re(n,S).filter(((e,n)=>{let{route:o}=e;if(o.lazy)return!0;if(null==o.loader)return!1;if(s)return!!o.loader.hydrate||void 0===t.loaderData[o.id]&&(!t.errors||void 0===t.errors[o.id]);if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||l.some((t=>t===e.route.id)))return!0;let c=t.matches[n],u=e;return se(e,i({currentUrl:b,currentParams:c.params,nextUrl:w,nextParams:u.params},r,{actionResult:y,defaultShouldRevalidate:a||b.pathname+b.search===w.pathname+w.search||b.search!==w.search||oe(c,u)}))})),x=[];return h.forEach(((e,o)=>{if(s||!n.some((t=>t.route.id===e.routeId))||u.has(o))return;let l=v(f,e.path,p);if(!l)return void x.push({key:o,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let h=t.fetchers.get(o),m=Pe(l,e.path),g=!1;g=!d.has(o)&&(!!c.includes(o)||(h&&"idle"!==h.state&&void 0===h.data?a:se(m,i({currentUrl:b,currentParams:t.matches[t.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:y,defaultShouldRevalidate:a})))),g&&x.push({key:o,routeId:e.routeId,path:e.path,matches:l,match:m,controller:new AbortController})})),[E,x]}function oe(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function se(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}async function ae(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let o=n[e.id];a(o,"No route found in manifest");let s={};for(let i in r){let e=void 0!==o[i]&&"hasErrorBoundary"!==i;l(!e,'Route "'+o.id+'" has a static property "'+i+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+i+'" will be ignored.'),e||m.has(i)||(s[i]=r[i])}Object.assign(o,s),Object.assign(o,i({},t(o),{lazy:void 0}))}async function le(e,t,n,r,i,o,s,l,c){let u,h,d;void 0===c&&(c={});let f=e=>{let r,i=new Promise(((e,t)=>r=t));return d=()=>r(),t.signal.addEventListener("abort",d),Promise.race([e({request:t,params:n.params,context:c.requestContext}),i])};try{let r=n.route[e];if(n.route.lazy)if(r){let e,t=await Promise.all([f(r).catch((t=>{e=t})),ae(n.route,o,i)]);if(e)throw e;h=t[0]}else{if(await ae(n.route,o,i),r=n.route[e],!r){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw ve(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:p.data,data:void 0}}h=await f(r)}else{if(!r){let e=new URL(t.url);throw ve(404,{pathname:e.pathname+e.search})}h=await f(r)}a(void 0!==h,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(v){u=p.error,h=v}finally{d&&t.signal.removeEventListener("abort",d)}if(xe(h)){let e,i=h.status;if(K.has(i)){let e=h.headers.get("Location");if(a(e,"Redirects returned/thrown from loaders/actions must have a Location header"),$.test(e)){if(!c.isStaticRequest){let n=new URL(t.url),r=e.startsWith("//")?new URL(n.protocol+e):new URL(e),i=null!=R(r.pathname,s);r.origin===n.origin&&i&&(e=r.pathname+r.search+r.hash)}}else e=te(new URL(t.url),r.slice(0,r.indexOf(n)+1),s,!0,e,l);if(c.isStaticRequest)throw h.headers.set("Location",e),h;return{type:p.redirect,status:i,location:e,revalidate:null!==h.headers.get("X-Remix-Revalidate"),reloadDocument:null!==h.headers.get("X-Remix-Reload-Document")}}if(c.isRouteRequest){throw{type:u===p.error?p.error:p.data,response:h}}try{let t=h.headers.get("Content-Type");e=t&&/\bapplication\/json\b/.test(t)?null==h.body?null:await h.json():await h.text()}catch(v){return{type:p.error,error:v}}return u===p.error?{type:u,error:new U(i,h.statusText,e),headers:h.headers}:{type:p.data,data:e,statusCode:h.status,headers:h.headers}}return u===p.error?{type:u,error:h}:function(e){let t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}(h)?{type:p.deferred,deferredData:h,statusCode:null==(m=h.init)?void 0:m.status,headers:(null==(g=h.init)?void 0:g.headers)&&new Headers(h.init.headers)}:{type:p.data,data:h};var m,g}function ce(e,t,n,r){let i=e.createURL(be(t)).toString(),o={signal:n};if(r&&ke(r.formMethod)){let{formMethod:e,formEncType:t}=r;o.method=e.toUpperCase(),"application/json"===t?(o.headers=new Headers({"Content-Type":t}),o.body=JSON.stringify(r.json)):"text/plain"===t?o.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?o.body=ue(r.formData):o.body=r.formData}return new Request(i,o)}function ue(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"===typeof r?r:r.name);return t}function he(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function de(e,t,n,r,i){let o,s={},l=null,c=!1,u={};return n.forEach(((n,h)=>{let d=t[h].route.id;if(a(!Ee(n),"Cannot handle redirect results in processLoaderData"),Se(n)){let t=me(e,d),i=n.error;r&&(i=Object.values(r)[0],r=void 0),l=l||{},null==l[t.route.id]&&(l[t.route.id]=i),s[d]=void 0,c||(c=!0,o=B(n.error)?n.error.status:500),n.headers&&(u[d]=n.headers)}else we(n)?(i.set(d,n.deferredData),s[d]=n.deferredData.data):s[d]=n.data,null==n.statusCode||200===n.statusCode||c||(o=n.statusCode),n.headers&&(u[d]=n.headers)})),r&&(l=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:l,statusCode:o||200,loaderHeaders:u}}function fe(e,t,n,r,o,s,l,c){let{loaderData:u,errors:h}=de(t,n,r,o,c);for(let d=0;d<s.length;d++){let{key:t,match:n,controller:r}=s[d];a(void 0!==l&&void 0!==l[d],"Did not find corresponding fetcher result");let o=l[d];if(!r||!r.signal.aborted)if(Se(o)){let r=me(e.matches,null==n?void 0:n.route.id);h&&h[r.route.id]||(h=i({},h,{[r.route.id]:o.error})),e.fetchers.delete(t)}else if(Ee(o))a(!1,"Unhandled fetcher revalidation redirect");else if(we(o))a(!1,"Unhandled fetcher deferred data");else{let n=Ne(o.data);e.fetchers.set(t,n)}}return{loaderData:u,errors:h}}function pe(e,t,n,r){let o=i({},t);for(let i of n){let n=i.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(o[n]=t[n]):void 0!==e[n]&&i.route.loader&&(o[n]=e[n]),r&&r.hasOwnProperty(n))break}return o}function me(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function ge(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ve(e,t){let{pathname:n,routeId:r,method:i,type:o}=void 0===t?{}:t,s="Unknown Server Error",a="Unknown @remix-run/router error";return 400===e?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===o?a="defer() is not supported in actions":"invalid-body"===o&&(a="Unable to encode submission body")):403===e?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):404===e?(s="Not Found",a='No route matches URL "'+n+'"'):405===e&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new U(e||500,s,new Error(a),!0)}function ye(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Ee(n))return{result:n,idx:t}}}function be(e){return h(i({},"string"===typeof e?d(e):e,{hash:""}))}function we(e){return e.type===p.deferred}function Se(e){return e.type===p.error}function Ee(e){return(e&&e.type)===p.redirect}function xe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Te(e){return q.has(e.toLowerCase())}function ke(e){return H.has(e.toLowerCase())}async function _e(e,t,n,r,i,o){for(let s=0;s<n.length;s++){let l=n[s],c=t[s];if(!c)continue;let u=e.find((e=>e.route.id===c.route.id)),h=null!=u&&!oe(u,c)&&void 0!==(o&&o[c.route.id]);if(we(l)&&(i||h)){let e=r[s];a(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await Ce(l,e,i).then((e=>{e&&(n[s]=e||n[s])}))}}}async function Ce(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:p.data,data:e.deferredData.unwrappedData}}catch(r){return{type:p.error,error:r}}return{type:p.data,data:e.deferredData.data}}}function Ie(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function Pe(e,t){let n="string"===typeof t?d(t).search:t.search;if(e[e.length-1].route.index&&Ie(n||""))return e[e.length-1];let r=N(e);return r[r.length-1]}function Ae(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:s}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=o?{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0}:void 0!==s?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}:void 0}function Re(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function De(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ne(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Le.apply(this,arguments)}const Oe=e.createContext(null);const Me=e.createContext(null);const Fe=e.createContext(null);const je=e.createContext(null);const Ve=e.createContext({outlet:null,matches:[],isDataRoute:!1});const Ue=e.createContext(null);function Be(){return null!=e.useContext(je)}function ze(){return Be()||a(!1),e.useContext(je).location}function He(t){e.useContext(Fe).static||e.useLayoutEffect(t)}function We(){let{isDataRoute:t}=e.useContext(Ve);return t?function(){let{router:t}=et(Je.UseNavigateStable),n=nt(Ze.UseNavigateStable),r=e.useRef(!1);He((()=>{r.current=!0}));let i=e.useCallback((function(e,i){void 0===i&&(i={}),r.current&&("number"===typeof e?t.navigate(e):t.navigate(e,Le({fromRouteId:n},i)))}),[t,n]);return i}():function(){Be()||a(!1);let t=e.useContext(Oe),{basename:n,future:r,navigator:i}=e.useContext(Fe),{matches:o}=e.useContext(Ve),{pathname:s}=ze(),l=JSON.stringify(L(o,r.v7_relativeSplatPath)),c=e.useRef(!1);return He((()=>{c.current=!0})),e.useCallback((function(e,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof e)return void i.go(e);let o=O(e,JSON.parse(l),s,"path"===r.relative);null==t&&"/"!==n&&(o.pathname="/"===o.pathname?n:M([n,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[n,i,l,s,t])}()}const qe=e.createContext(null);function Ke(t,n,r,i){Be()||a(!1);let{navigator:s}=e.useContext(Fe),{matches:l}=e.useContext(Ve),c=l[l.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,p=ze();if(n){var m;let e="string"===typeof n?d(n):n;"/"===h||(null==(m=e.pathname)?void 0:m.startsWith(h))||a(!1),f=e}else f=p;let g=f.pathname||"/",y=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(t,{pathname:y});let w=$e(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:M([h,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:M([h,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,r,i);return n&&w?e.createElement(je.Provider,{value:{location:Le({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:o.Pop}},w):w}function Ge(){let t=function(){var t;let n=e.useContext(Ue),r=tt(Ze.UseRouteError),i=nt(Ze.UseRouteError);if(void 0!==n)return n;return null==(t=r.errors)?void 0:t[i]}(),n=B(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:o},r):null,null)}const Qe=e.createElement(Ge,null);class Ye extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(Ve.Provider,{value:this.props.routeContext},e.createElement(Ue.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xe(t){let{routeContext:n,match:r,children:i}=t,o=e.useContext(Oe);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(Ve.Provider,{value:n},i)}function $e(t,n,r,i){var o;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==t){var s;if(null==(s=r)||!s.errors)return null;t=r.matches}let l=t,c=null==(o=r)?void 0:o.errors;if(null!=c){let e=l.findIndex((e=>e.route.id&&(null==c?void 0:c[e.route.id])));e>=0||a(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,h=-1;if(r&&i&&i.v7_partialHydration)for(let e=0;e<l.length;e++){let t=l[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(h=e),t.route.id){let{loaderData:e,errors:n}=r,i=t.route.loader&&void 0===e[t.route.id]&&(!n||void 0===n[t.route.id]);if(t.route.lazy||i){u=!0,l=h>=0?l.slice(0,h+1):[l[0]];break}}}return l.reduceRight(((t,i,o)=>{let s,a=!1,d=null,f=null;var p;r&&(s=c&&i.route.id?c[i.route.id]:void 0,d=i.route.errorElement||Qe,u&&(h<0&&0===o?(p="route-fallback",!1||rt[p]||(rt[p]=!0),a=!0,f=null):h===o&&(a=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(l.slice(0,o+1)),g=()=>{let n;return n=s?d:a?f:i.route.Component?e.createElement(i.route.Component,null):i.route.element?i.route.element:t,e.createElement(Xe,{match:i,routeContext:{outlet:t,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?e.createElement(Ye,{location:r.location,revalidation:r.revalidation,component:d,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var Je=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Je||{}),Ze=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ze||{});function et(t){let n=e.useContext(Oe);return n||a(!1),n}function tt(t){let n=e.useContext(Me);return n||a(!1),n}function nt(t){let n=function(t){let n=e.useContext(Ve);return n||a(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||a(!1),r.route.id}const rt={};t.startTransition;function it(t){return function(t){let n=e.useContext(Ve).outlet;return n?e.createElement(qe.Provider,{value:t},n):n}(t.context)}function ot(t){let{basename:n="/",children:r=null,location:i,navigationType:s=o.Pop,navigator:l,static:c=!1,future:u}=t;Be()&&a(!1);let h=n.replace(/^\/*/,"/"),f=e.useMemo((()=>({basename:h,navigator:l,static:c,future:Le({v7_relativeSplatPath:!1},u)})),[h,u,l,c]);"string"===typeof i&&(i=d(i));let{pathname:p="/",search:m="",hash:g="",state:v=null,key:y="default"}=i,b=e.useMemo((()=>{let e=R(p,h);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:s}}),[h,p,m,g,v,y,s]);return null==b?null:e.createElement(Fe.Provider,{value:f},e.createElement(je.Provider,{children:r,value:b}))}new Promise((()=>{}));e.Component;function st(t){let n={hasErrorBoundary:null!=t.ErrorBoundary||null!=t.errorElement};return t.Component&&Object.assign(n,{element:e.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(n,{hydrateFallbackElement:e.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(n,{errorElement:e.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),n}var at=n(184);const lt=function(){return(0,at.jsxs)("div",{className:"App",children:[(0,at.jsx)("main",{children:(0,at.jsx)(it,{})}),(0,at.jsx)("footer",{})]})},ct=e=>{e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)}))};var ut=n(164),ht=n.t(ut,2);function dt(){return dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dt.apply(this,arguments)}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch($_){}function ft(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=dt({},t,{errors:pt(t.errors)})),t}function pt(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&"RouteErrorResponse"===i.__type)n[r]=new U(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){if(i.__subType){let e=window[i.__subType];if("function"===typeof e)try{let t=new e(i.message);t.stack="",n[r]=t}catch($_){}}if(null==n[r]){let e=new Error(i.message);e.stack="",n[r]=e}}else n[r]=i;return n}const mt=e.createContext({isTransitioning:!1});const gt=e.createContext(new Map);const vt=t.startTransition,yt=ht.flushSync;t.useId;function bt(e){yt?yt(e):e()}class wt{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function St(t){let{fallbackElement:n,router:r,future:i}=t,[o,s]=e.useState(r.state),[a,l]=e.useState(),[c,u]=e.useState({isTransitioning:!1}),[h,d]=e.useState(),[f,p]=e.useState(),[m,g]=e.useState(),v=e.useRef(new Map),{v7_startTransition:y}=i||{},b=e.useCallback((e=>{y?function(e){vt?vt(e):e()}(e):e()}),[y]),w=e.useCallback(((e,t)=>{let{deletedFetchers:n,unstable_flushSync:i,unstable_viewTransitionOpts:o}=t;n.forEach((e=>v.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&v.current.set(t,e.data)}));let a=null==r.window||"function"!==typeof r.window.document.startViewTransition;if(o&&!a){if(i){bt((()=>{f&&(h&&h.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:o.currentLocation,nextLocation:o.nextLocation})}));let t=r.window.document.startViewTransition((()=>{bt((()=>s(e)))}));return t.finished.finally((()=>{bt((()=>{d(void 0),p(void 0),l(void 0),u({isTransitioning:!1})}))})),void bt((()=>p(t)))}f?(h&&h.resolve(),f.skipTransition(),g({state:e,currentLocation:o.currentLocation,nextLocation:o.nextLocation})):(l(e),u({isTransitioning:!0,flushSync:!1,currentLocation:o.currentLocation,nextLocation:o.nextLocation}))}else i?bt((()=>s(e))):b((()=>s(e)))}),[r.window,f,h,v,b]);e.useLayoutEffect((()=>r.subscribe(w)),[r,w]),e.useEffect((()=>{c.isTransitioning&&!c.flushSync&&d(new wt)}),[c]),e.useEffect((()=>{if(h&&a&&r.window){let e=a,t=h.promise,n=r.window.document.startViewTransition((async()=>{b((()=>s(e))),await t}));n.finished.finally((()=>{d(void 0),p(void 0),l(void 0),u({isTransitioning:!1})})),p(n)}}),[b,a,h,r.window]),e.useEffect((()=>{h&&a&&o.location.key===a.location.key&&h.resolve()}),[h,f,o.location,a]),e.useEffect((()=>{!c.isTransitioning&&m&&(l(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))}),[c.isTransitioning,m]),e.useEffect((()=>{}),[]);let S=e.useMemo((()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:e=>r.navigate(e),push:(e,t,n)=>r.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset}),replace:(e,t,n)=>r.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})})),[r]),E=r.basename||"/",x=e.useMemo((()=>({router:r,navigator:S,static:!1,basename:E})),[r,S,E]);return e.createElement(e.Fragment,null,e.createElement(Oe.Provider,{value:x},e.createElement(Me.Provider,{value:o},e.createElement(gt.Provider,{value:v.current},e.createElement(mt.Provider,{value:c},e.createElement(ot,{basename:E,location:o.location,navigationType:o.historyAction,navigator:S,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},o.initialized||r.future.v7_partialHydration?e.createElement(Et,{routes:r.routes,future:r.future,state:o}):n))))),null)}function Et(e){let{routes:t,future:n,state:r}=e;return Ke(t,void 0,r,n)}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var xt,Tt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xt||(xt={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Tt||(Tt={}));const kt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},_t={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(kt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Ct;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ct extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const It=function(e){return function(e){const t=kt(e);return _t.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Pt=function(e){try{return _t.decodeString(e,!0)}catch($_){console.error("base64Decode failed: ",$_)}return null};const At=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Rt=()=>{try{return At()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/coffeeManagement",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch($_){return}const t=e&&Pt(e[1]);return t&&JSON.parse(t)})()}catch($_){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat($_))}},Dt=e=>{var t,n;return null===(n=null===(t=Rt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Nt=()=>{var e;return null===(e=Rt())||void 0===e?void 0:e.config},Lt=e=>{var t;return null===(t=Rt())||void 0===t?void 0:t["_".concat(e)]};class Ot{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Mt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ft(){return!function(){var e;const t=null===(e=Rt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch($_){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jt(){try{return"object"===typeof indexedDB}catch($_){return!1}}class Vt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Vt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ut.prototype.create)}}class Ut{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Bt,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Vt(n,o,t)}}const Bt=/\{\$([^}]+)}/g;function zt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Ht(n)&&Ht(o)){if(!zt(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ht(e){return null!==e&&"object"===typeof e}function Wt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function qt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Kt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Gt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Qt),void 0===r.error&&(r.error=Qt),void 0===r.complete&&(r.complete=Qt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch($_){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch($_){"undefined"!==typeof console&&console.error&&console.error($_)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Qt(){}function Yt(e){return e&&e._delegate?e._delegate:e}class Xt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $t="[DEFAULT]";class Jt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ot;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch($_){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch($_){if(r)return null;throw $_}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:$t})}catch($_){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch($_){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===$t?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t;return this.component?this.component.multipleInstances?e:$t:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Zt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Jt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const en=[];var tn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(tn||(tn={}));const nn={debug:tn.DEBUG,verbose:tn.VERBOSE,info:tn.INFO,warn:tn.WARN,error:tn.ERROR,silent:tn.SILENT},rn=tn.INFO,on={[tn.DEBUG]:"log",[tn.VERBOSE]:"log",[tn.INFO]:"info",[tn.WARN]:"warn",[tn.ERROR]:"error"},sn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=on[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class an{constructor(e){this.name=e,this._logLevel=rn,this._logHandler=sn,this._userLogHandler=null,en.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?nn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,tn.DEBUG,...t),this._logHandler(this,tn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,tn.VERBOSE,...t),this._logHandler(this,tn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,tn.INFO,...t),this._logHandler(this,tn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,tn.WARN,...t),this._logHandler(this,tn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,tn.ERROR,...t),this._logHandler(this,tn.ERROR,...t)}}const ln=(e,t)=>t.some((t=>e instanceof t));let cn,un;const hn=new WeakMap,dn=new WeakMap,fn=new WeakMap,pn=new WeakMap,mn=new WeakMap;let gn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return dn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||fn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function vn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(un||(un=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(wn(this),n),bn(hn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return bn(e.apply(wn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(wn(this),t,...r);return fn.set(o,t.sort?t.sort():[t]),bn(o)}}function yn(e){return"function"===typeof e?vn(e):(e instanceof IDBTransaction&&function(e){if(dn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));dn.set(e,t)}(e),ln(e,cn||(cn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,gn):e)}function bn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(bn(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&hn.set(t,e)})).catch((()=>{})),mn.set(t,e),t}(e);if(pn.has(e))return pn.get(e);const t=yn(e);return t!==e&&(pn.set(e,t),mn.set(t,e)),t}const wn=e=>mn.get(e);const Sn=["get","getKey","getAll","getAllKeys","count"],En=["put","add","delete","clear"],xn=new Map;function Tn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(xn.get(t))return xn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=En.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Sn.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return xn.set(t,o),o}gn=(e=>({...e,get:(t,n,r)=>Tn(t,n)||e.get(t,n,r),has:(t,n)=>!!Tn(t,n)||e.has(t,n)}))(gn);class kn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const _n="@firebase/app",Cn="0.10.1",In=new an("@firebase/app"),Pn="[DEFAULT]",An={[_n]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Rn=new Map,Dn=new Map,Nn=new Map;function Ln(e,t){try{e.container.addComponent(t)}catch($_){In.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),$_)}}function On(e){const t=e.name;if(Nn.has(t))return In.debug("There were multiple attempts to register component ".concat(t,".")),!1;Nn.set(t,e);for(const n of Rn.values())Ln(n,e);for(const n of Dn.values())Ln(n,e);return!0}function Mn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Fn(e){return void 0!==e.settings}const jn=new Ut("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Vn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Xt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}const Un="10.11.0";function Bn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Pn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw jn.create("bad-app-name",{appName:String(i)});if(n||(n=Nt()),!n)throw jn.create("no-options");const o=Rn.get(i);if(o){if(zt(n,o.options)&&zt(r,o.config))return o;throw jn.create("duplicate-app",{appName:i})}const s=new Zt(i);for(const l of Nn.values())s.addComponent(l);const a=new Vn(n,r,s);return Rn.set(i,a),a}function zn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn;const t=Rn.get(e);if(!t&&e===Pn&&Nt())return Bn();if(!t)throw jn.create("no-app",{appName:e});return t}function Hn(e,t,n){var r;let i=null!==(r=An[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void In.warn(e.join(" "))}On(new Xt("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const Wn="firebase-heartbeat-database",qn=1,Kn="firebase-heartbeat-store";let Gn=null;function Qn(){return Gn||(Gn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=bn(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(bn(s.result),e.oldVersion,e.newVersion,bn(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Wn,qn,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Kn)}catch($_){console.warn($_)}}}).catch((e=>{throw jn.create("idb-open",{originalErrorMessage:e.message})}))),Gn}async function Yn(e,t){try{const n=(await Qn()).transaction(Kn,"readwrite"),r=n.objectStore(Kn);await r.put(t,Xn(e)),await n.done}catch($_){if($_ instanceof Vt)In.warn($_.message);else{const t=jn.create("idb-set",{originalErrorMessage:null===$_||void 0===$_?void 0:$_.message});In.warn(t.message)}}}function Xn(e){return"".concat(e.name,"!").concat(e.options.appId)}class $n{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Zn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Jn();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Jn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),er(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),er(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=It(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Jn(){return(new Date).toISOString().substring(0,10)}class Zn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!jt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Qn()).transaction(Kn),n=await t.objectStore(Kn).get(Xn(e));return await t.done,n}catch($_){if($_ instanceof Vt)In.warn($_.message);else{const t=jn.create("idb-get",{originalErrorMessage:null===$_||void 0===$_?void 0:$_.message});In.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Yn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Yn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function er(e){return It(JSON.stringify({version:2,heartbeats:e})).length}var tr;tr="",On(new Xt("platform-logger",(e=>new kn(e)),"PRIVATE")),On(new Xt("heartbeat",(e=>new $n(e)),"PRIVATE")),Hn(_n,Cn,tr),Hn(_n,Cn,"esm2017"),Hn("fire-js","");var nr,rr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ir={},or=or||{},sr=rr||self;function ar(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function lr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var cr="closure_uid_"+(1e9*Math.random()>>>0),ur=0;function hr(e,t,n){return e.call.apply(e.bind,arguments)}function dr(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function fr(e,t,n){return(fr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hr:dr).apply(null,arguments)}function pr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function mr(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function gr(){this.s=this.s,this.o=this.o}gr.prototype.s=!1,gr.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,cr)&&e[cr]||(e[cr]=++ur))},gr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function yr(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function br(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(ar(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function wr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}wr.prototype.h=function(){this.defaultPrevented=!0};var Sr=function(){if(!sr.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};sr.addEventListener("test",e,t),sr.removeEventListener("test",e,t)}catch(n){}return e}();function Er(e){return/^[\s\xa0]*$/.test(e)}function xr(){var e=sr.navigator;return e&&(e=e.userAgent)?e:""}function Tr(e){return-1!=xr().indexOf(e)}function kr(e){return kr[" "](e),e}kr[" "]=function(){};var _r,Cr,Ir=Tr("Opera"),Pr=Tr("Trident")||Tr("MSIE"),Ar=Tr("Edge"),Rr=Ar||Pr,Dr=Tr("Gecko")&&!(-1!=xr().toLowerCase().indexOf("webkit")&&!Tr("Edge"))&&!(Tr("Trident")||Tr("MSIE"))&&!Tr("Edge"),Nr=-1!=xr().toLowerCase().indexOf("webkit")&&!Tr("Edge");function Lr(){var e=sr.document;return e?e.documentMode:void 0}e:{var Or="",Mr=function(){var e=xr();return Dr?/rv:([^\);]+)(\)|;)/.exec(e):Ar?/Edge\/([\d\.]+)/.exec(e):Pr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Nr?/WebKit\/(\S+)/.exec(e):Ir?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Mr&&(Or=Mr?Mr[1]:""),Pr){var Fr=Lr();if(null!=Fr&&Fr>parseFloat(Or)){_r=String(Fr);break e}}_r=Or}if(sr.document&&Pr){var jr=Lr();Cr=jr||(parseInt(_r,10)||void 0)}else Cr=void 0;var Vr=Cr;function Ur(e,t){if(wr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Dr){e:{try{kr(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Br[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ur.$.h.call(this)}}mr(Ur,wr);var Br={2:"touch",3:"pen",4:"mouse"};Ur.prototype.h=function(){Ur.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var zr="closure_listenable_"+(1e6*Math.random()|0),Hr=0;function Wr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Hr,this.fa=this.ia=!1}function qr(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Kr(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Gr(e){const t={};for(const n in e)t[n]=e[n];return t}const Qr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yr(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Qr.length;t++)n=Qr[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Xr(e){this.src=e,this.g={},this.h=0}function $r(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=vr(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(qr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Jr(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Xr.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=Jr(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new Wr(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var Zr="closure_lm_"+(1e6*Math.random()|0),ei={};function ti(e,t,n,r,i){if(r&&r.once)return ri(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ti(e,t[o],n,r,i);return null}return n=ui(n),e&&e[zr]?e.O(t,n,lr(r)?!!r.capture:!!r,i):ni(e,t,n,!1,r,i)}function ni(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=lr(i)?!!i.capture:!!i,a=li(e);if(a||(e[Zr]=a=new Xr(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ai;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Sr||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(si(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ri(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ri(e,t[o],n,r,i);return null}return n=ui(n),e&&e[zr]?e.P(t,n,lr(r)?!!r.capture:!!r,i):ni(e,t,n,!0,r,i)}function ii(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ii(e,t[o],n,r,i);else r=lr(r)?!!r.capture:!!r,n=ui(n),e&&e[zr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Jr(o=e.g[t],n,r,i))&&(qr(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=li(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Jr(t,n,r,i)),(n=-1<e?t[e]:null)&&oi(n))}function oi(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[zr])$r(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(si(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=li(t))?($r(n,e),0==n.h&&(n.src=null,t[Zr]=null)):qr(e)}}}function si(e){return e in ei?ei[e]:ei[e]="on"+e}function ai(e,t){if(e.fa)e=!0;else{t=new Ur(t,this);var n=e.listener,r=e.la||e.src;e.ia&&oi(e),e=n.call(r,t)}return e}function li(e){return(e=e[Zr])instanceof Xr?e:null}var ci="__closure_events_fn_"+(1e9*Math.random()>>>0);function ui(e){return"function"===typeof e?e:(e[ci]||(e[ci]=function(t){return e.handleEvent(t)}),e[ci])}function hi(){gr.call(this),this.i=new Xr(this),this.S=this,this.J=null}function di(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new wr(t,e);else if(t instanceof wr)t.target=t.target||e;else{var i=t;Yr(t=new wr(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=fi(s,r,!0,t)&&i}if(i=fi(s=t.g=e,r,!0,t)&&i,i=fi(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=fi(s=t.g=n[o],r,!1,t)&&i}function fi(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&$r(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}mr(hi,gr),hi.prototype[zr]=!0,hi.prototype.removeEventListener=function(e,t,n,r){ii(this,e,t,n,r)},hi.prototype.N=function(){if(hi.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)qr(n[r]);delete t.g[e],t.h--}}this.J=null},hi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},hi.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var pi=sr.JSON.stringify;function mi(){var e=Ei;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var gi=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new vi),(e=>e.reset()));class vi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function yi(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function bi(e){sr.setTimeout((()=>{throw e}),0)}let wi,Si=!1,Ei=new class{constructor(){this.h=this.g=null}add(e,t){const n=gi.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},xi=()=>{const e=sr.Promise.resolve(void 0);wi=()=>{e.then(Ti)}};var Ti=()=>{for(var e;e=mi();){try{e.h.call(e.g)}catch(n){bi(n)}var t=gi;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Si=!1};function ki(e,t){hi.call(this),this.h=e||1,this.g=t||sr,this.j=fr(this.qb,this),this.l=Date.now()}function _i(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ci(e,t,n){if("function"===typeof e)n&&(e=fr(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=fr(e.handleEvent,e)}return 2147483647<Number(t)?-1:sr.setTimeout(e,t||0)}function Ii(e){e.g=Ci((()=>{e.g=null,e.i&&(e.i=!1,Ii(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}mr(ki,hi),(nr=ki.prototype).ga=!1,nr.T=null,nr.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),di(this,"tick"),this.ga&&(_i(this),this.start()))}},nr.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nr.N=function(){ki.$.N.call(this),_i(this),delete this.g};class Pi extends gr{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ii(this)}N(){super.N(),this.g&&(sr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ai(e){gr.call(this),this.h=e,this.g={}}mr(Ai,gr);var Ri=[];function Di(e,t,n,r){Array.isArray(n)||(n&&(Ri[0]=n.toString()),n=Ri);for(var i=0;i<n.length;i++){var o=ti(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Ni(e){Kr(e.g,(function(e,t){this.g.hasOwnProperty(t)&&oi(e)}),e),e.g={}}function Li(){this.g=!0}function Oi(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return pi(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Ai.prototype.N=function(){Ai.$.N.call(this),Ni(this)},Ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Li.prototype.Ea=function(){this.g=!1},Li.prototype.info=function(){};var Mi={},Fi=null;function ji(){return Fi=Fi||new hi}function Vi(e){wr.call(this,Mi.Ta,e)}function Ui(e){const t=ji();di(t,new Vi(t))}function Bi(e,t){wr.call(this,Mi.STAT_EVENT,e),this.stat=t}function zi(e){const t=ji();di(t,new Bi(t,e))}function Hi(e,t){wr.call(this,Mi.Ua,e),this.size=t}function Wi(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return sr.setTimeout((function(){e()}),t)}Mi.Ta="serverreachability",mr(Vi,wr),Mi.STAT_EVENT="statevent",mr(Bi,wr),Mi.Ua="timingevent",mr(Hi,wr);var qi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ki={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Gi(){}function Qi(e){return e.h||(e.h=e.i())}function Yi(){}Gi.prototype.h=null;var Xi,$i={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ji(){wr.call(this,"d")}function Zi(){wr.call(this,"c")}function eo(){}function to(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ai(this),this.P=ro,e=Rr?125:void 0,this.V=new ki(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new no}function no(){this.i=null,this.g="",this.h=!1}mr(Ji,wr),mr(Zi,wr),mr(eo,Gi),eo.prototype.g=function(){return new XMLHttpRequest},eo.prototype.i=function(){return{}},Xi=new eo;var ro=45e3,io={},oo={};function so(e,t,n){e.L=1,e.A=_o(So(t)),e.u=n,e.S=!0,ao(e,null)}function ao(e,t){e.G=Date.now(),ho(e),e.B=So(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Vo(n.i,"t",r),e.o=0,n=e.l.J,e.h=new no,e.g=Us(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Pi(fr(e.Pa,e,e.g),e.O)),Di(e.U,e.g,"readystatechange",e.nb),t=e.I?Gr(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Ui(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function lo(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function co(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=uo(e,n),r==oo){4==t&&(e.s=4,zi(14),i=!1),Oi(e.j,e.m,null,"[Incomplete Response]");break}if(r==io){e.s=4,zi(15),Oi(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Oi(e.j,e.m,r,null),vo(e,r)}lo(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,zi(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ds(t),t.M=!0,zi(11))):(Oi(e.j,e.m,n,"[Invalid Chunked Response]"),go(e),mo(e))}function uo(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?oo:(n=Number(t.substring(n,r)),isNaN(n)?io:(r+=1)+n>t.length?oo:(t=t.slice(r,r+n),e.o=r+n,t))}function ho(e){e.Y=Date.now()+e.P,fo(e,e.P)}function fo(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Wi(fr(e.lb,e),t)}function po(e){e.C&&(sr.clearTimeout(e.C),e.C=null)}function mo(e){0==e.l.H||e.J||Os(e.l,e)}function go(e){po(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,_i(e.V),Ni(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function vo(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Ko(n.i,e)))if(!e.K&&Ko(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Ls(n),Ts(n)}Rs(n),zi(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Wi(fr(n.ib,n),6e3));if(1>=qo(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Fs(n,11)}else if((e.K||n.g==e)&&Ls(n),!Er(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Go(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,ko(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=Vs(r,r.J?r.pa:null,r.Y),s.K){Qo(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(po(a),ho(a)),r.g=s}else As(r);0<n.j.length&&_s(n)}else"stop"!=c[0]&&"close"!=c[0]||Fs(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Fs(n,7):xs(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Ui()}catch(c){}}function yo(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ar(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ar(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ar(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(nr=to.prototype).setTimeout=function(e){this.P=e},nr.nb=function(e){e=e.target;const t=this.M;t&&3==vs(e)?t.l():this.Pa(e)},nr.Pa=function(e){try{if(e==this.g)e:{const u=vs(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Rr||this.g&&(this.h.h||this.g.ja()||ys(this.g)))){this.J||4!=u||7==t||Ui(),po(this);var n=this.g.da();this.ca=n;t:if(lo(this)){var r=ys(this.g);e="";var i=r.length,o=4==vs(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){go(this),mo(this);var s="";break t}this.h.i=new sr.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Er(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,zi(12),go(this),mo(this);break e}Oi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vo(this,n)}this.S?(co(this,u,s),Rr&&this.i&&3==u&&(Di(this.U,this.V,"tick",this.mb),this.V.start())):(Oi(this.j,this.m,s,null),vo(this,s)),4==u&&go(this),this.i&&!this.J&&(4==u?Os(this.l,this):(this.i=!1,ho(this)))}else(function(e){const t={};e=(e.g&&2<=vs(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Er(e[r]))continue;var n=yi(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,zi(12)):(this.s=0,zi(13)),go(this),mo(this)}}}catch(u){}},nr.mb=function(){if(this.g){var e=vs(this.g),t=this.g.ja();this.o<t.length&&(po(this),co(this,e,t),this.i&&4!=e&&ho(this))}},nr.cancel=function(){this.J=!0,go(this)},nr.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Ui(),zi(17)),go(this),this.s=2,mo(this)):fo(this,this.Y-e)};var bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wo(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof wo){this.h=e.h,Eo(this,e.j),this.s=e.s,this.g=e.g,xo(this,e.m),this.l=e.l;var t=e.i,n=new Oo;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),To(this,n),this.o=e.o}else e&&(t=String(e).match(bo))?(this.h=!1,Eo(this,t[1]||"",!0),this.s=Co(t[2]||""),this.g=Co(t[3]||"",!0),xo(this,t[4]),this.l=Co(t[5]||"",!0),To(this,t[6]||"",!0),this.o=Co(t[7]||"")):(this.h=!1,this.i=new Oo(null,this.h))}function So(e){return new wo(e)}function Eo(e,t,n){e.j=n?Co(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function xo(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function To(e,t,n){t instanceof Oo?(e.i=t,function(e,t){t&&!e.j&&(Mo(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Fo(this,t),Vo(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Io(t,No)),e.i=new Oo(t,e.h))}function ko(e,t,n){e.i.set(t,n)}function _o(e){return ko(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Co(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Io(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Po),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Po(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}wo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Io(t,Ao,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Io(t,Ao,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Io(n,"/"==n.charAt(0)?Do:Ro,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Io(n,Lo)),e.join("")};var Ao=/[#\/\?@]/g,Ro=/[#\?:]/g,Do=/[#\?]/g,No=/[#\?@]/g,Lo=/#/g;function Oo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Mo(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Fo(e,t){Mo(e),t=Uo(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function jo(e,t){return Mo(e),t=Uo(e,t),e.g.has(t)}function Vo(e,t,n){Fo(e,t),0<n.length&&(e.i=null,e.g.set(Uo(e,t),yr(n)),e.h+=n.length)}function Uo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(nr=Oo.prototype).add=function(e,t){Mo(this),this.i=null,e=Uo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},nr.forEach=function(e,t){Mo(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},nr.ta=function(){Mo(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},nr.Z=function(e){Mo(this);let t=[];if("string"===typeof e)jo(this,e)&&(t=t.concat(this.g.get(Uo(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},nr.set=function(e,t){return Mo(this),this.i=null,jo(this,e=Uo(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},nr.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},nr.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var Bo=class{constructor(e,t){this.g=e,this.map=t}};function zo(e){this.l=e||Ho,sr.PerformanceNavigationTiming?e=0<(e=sr.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(sr.g&&sr.g.Ka&&sr.g.Ka()&&sr.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ho=10;function Wo(e){return!!e.h||!!e.g&&e.g.size>=e.j}function qo(e){return e.h?1:e.g?e.g.size:0}function Ko(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Go(e,t){e.g?e.g.add(t):e.h=t}function Qo(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Yo(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return yr(e.i)}zo.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Xo,$o=class{stringify(e){return sr.JSON.stringify(e,void 0)}parse(e){return sr.JSON.parse(e,void 0)}};function Jo(){this.g=new $o}function Zo(e,t,n){const r=n||"";try{yo(e,(function(e,n){let i=e;lr(e)&&(i=pi(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch($_){throw t.push(r+"type="+encodeURIComponent("_badmap")),$_}}function es(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function ts(e){this.l=e.ec||null,this.j=e.ob||!1}function ns(e,t){hi.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=rs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mr(ts,Gi),ts.prototype.g=function(){return new ns(this.l,this.j)},ts.prototype.i=(Xo={},function(){return Xo}),mr(ns,hi);var rs=0;function is(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function os(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ss(e)}function ss(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(nr=ns.prototype).open=function(e,t){if(this.readyState!=rs)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ss(this)},nr.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||sr).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},nr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,os(this)),this.readyState=rs},nr.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ss(this)),this.g&&(this.readyState=3,ss(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof sr.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;is(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},nr.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?os(this):ss(this),3==this.readyState&&is(this)}},nr.Za=function(e){this.g&&(this.response=this.responseText=e,os(this))},nr.Ya=function(e){this.g&&(this.response=e,os(this))},nr.ka=function(){this.g&&os(this)},nr.setRequestHeader=function(e,t){this.v.append(e,t)},nr.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},nr.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ns.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var as=sr.JSON.parse;function ls(e){hi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=cs,this.L=this.M=!1}mr(ls,hi);var cs="",us=/^https?$/i,hs=["POST","PUT"];function ds(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,fs(e),ms(e)}function fs(e){e.F||(e.F=!0,di(e,"complete"),di(e,"error"))}function ps(e){if(e.h&&"undefined"!=typeof or&&(!e.C[1]||4!=vs(e)||2!=e.da()))if(e.v&&4==vs(e))Ci(e.La,0,e);else if(di(e,"readystatechange"),4==vs(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(bo)[1]||null;!i&&sr.self&&sr.self.location&&(i=sr.self.location.protocol.slice(0,-1)),r=!us.test(i?i.toLowerCase():"")}n=r}if(n)di(e,"complete"),di(e,"success");else{e.m=6;try{var o=2<vs(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",fs(e)}}finally{ms(e)}}}function ms(e,t){if(e.g){gs(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||di(e,"ready");try{n.onreadystatechange=r}catch($_){}}}function gs(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(sr.clearTimeout(e.A),e.A=null)}function vs(e){return e.g?e.g.readyState:0}function ys(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case cs:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ka){return null}}function bs(e){let t="";return Kr(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ws(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=bs(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ko(e,t,n))}function Ss(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Es(e){this.Ga=0,this.j=[],this.l=new Li,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ss("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ss("baseRetryDelayMs",5e3,e),this.hb=Ss("retryDelaySeedMs",1e4,e),this.eb=Ss("forwardChannelMaxRetries",2,e),this.xa=Ss("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new zo(e&&e.concurrentRequestLimit),this.Ja=new Jo,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function xs(e){if(ks(e),3==e.H){var t=e.W++,n=So(e.I);if(ko(n,"SID",e.K),ko(n,"RID",t),ko(n,"TYPE","terminate"),Is(e,n),(t=new to(e,e.l,t)).L=2,t.A=_o(So(n)),n=!1,sr.navigator&&sr.navigator.sendBeacon)try{n=sr.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&sr.Image&&((new Image).src=t.A,n=!0),n||(t.g=Us(t.l,null),t.g.ha(t.A)),t.G=Date.now(),ho(t)}js(e)}function Ts(e){e.g&&(Ds(e),e.g.cancel(),e.g=null)}function ks(e){Ts(e),e.u&&(sr.clearTimeout(e.u),e.u=null),Ls(e),e.i.cancel(),e.m&&("number"===typeof e.m&&sr.clearTimeout(e.m),e.m=null)}function _s(e){if(!Wo(e.i)&&!e.m){e.m=!0;var t=e.Na;wi||xi(),Si||(wi(),Si=!0),Ei.add(t,e),e.C=0}}function Cs(e,t){var n;n=t?t.m:e.W++;const r=So(e.I);ko(r,"SID",e.K),ko(r,"RID",n),ko(r,"AID",e.V),Is(e,r),e.o&&e.s&&ws(r,e.o,e.s),n=new to(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ps(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Go(e.i,n),so(n,r,t)}function Is(e,t){e.na&&Kr(e.na,(function(e,n){ko(t,n,e)})),e.h&&yo({},(function(e,n){ko(t,n,e)}))}function Ps(e,t,n){n=Math.min(e.j.length,n);var r=e.h?fr(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Zo(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function As(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;wi||xi(),Si||(wi(),Si=!0),Ei.add(t,e),e.A=0}}function Rs(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Wi(fr(e.Ma,e),Ms(e,e.A)),e.A++,!0)}function Ds(e){null!=e.B&&(sr.clearTimeout(e.B),e.B=null)}function Ns(e){e.g=new to(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=So(e.wa);ko(t,"RID","rpc"),ko(t,"SID",e.K),ko(t,"AID",e.V),ko(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ko(t,"TO",e.qa),ko(t,"TYPE","xmlhttp"),Is(e,t),e.o&&e.s&&ws(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=_o(So(t)),n.u=null,n.S=!0,ao(n,e)}function Ls(e){null!=e.v&&(sr.clearTimeout(e.v),e.v=null)}function Os(e,t){var n=null;if(e.g==t){Ls(e),Ds(e),e.g=null;var r=2}else{if(!Ko(e.i,t))return;n=t.F,Qo(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;di(r=ji(),new Hi(r,n)),_s(e)}else As(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(qo(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Wi(fr(e.Na,e,t),Ms(e,e.C)),e.C++,!0))}(e,t)||2==r&&Rs(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Fs(e,5);break;case 4:Fs(e,10);break;case 3:Fs(e,6);break;default:Fs(e,2)}}function Ms(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Fs(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=fr(e.pb,e);n||(n=new wo("//www.google.com/images/cleardot.gif"),sr.location&&"http"==sr.location.protocol||Eo(n,"https"),_o(n)),function(e,t){const n=new Li;if(sr.Image){const r=new Image;r.onload=pr(es,n,r,"TestLoadImage: loaded",!0,t),r.onerror=pr(es,n,r,"TestLoadImage: error",!1,t),r.onabort=pr(es,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=pr(es,n,r,"TestLoadImage: timeout",!1,t),sr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else zi(2);e.H=0,e.h&&e.h.za(t),js(e),ks(e)}function js(e){if(e.H=0,e.ma=[],e.h){const t=Yo(e.i);0==t.length&&0==e.j.length||(br(e.ma,t),br(e.ma,e.j),e.i.i.length=0,yr(e.j),e.j.length=0),e.h.ya()}}function Vs(e,t,n){var r=n instanceof wo?So(n):new wo(n);if(""!=r.g)t&&(r.g=t+"."+r.g),xo(r,r.m);else{var i=sr.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new wo(null);r&&Eo(o,r),t&&(o.g=t),i&&xo(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&ko(r,n,t),ko(r,"VER",e.ra),Is(e,r),r}function Us(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new ls(new ts({ob:n})):new ls(e.va)).Oa(e.J),t}function Bs(){}function zs(){if(Pr&&!(10<=Number(Vr)))throw Error("Environmental error: no available transport.")}function Hs(e,t){hi.call(this),this.g=new Es(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Er(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Er(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ks(this)}function Ws(e){Ji.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function qs(){Zi.call(this),this.status=1}function Ks(e){this.g=e}function Gs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Qs(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Ys(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(nr=ls.prototype).Oa=function(e){this.M=e},nr.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Xi.g(),this.C=this.u?Qi(this.u):Qi(Xi),this.g.onreadystatechange=fr(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void ds(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=sr.FormData&&e instanceof sr.FormData,!(0<=vr(hs,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gs(this),0<this.B&&((this.L=function(e){return Pr&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fr(this.ua,this)):this.A=Ci(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){ds(this,o)}},nr.ua=function(){"undefined"!=typeof or&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,di(this,"timeout"),this.abort(8))},nr.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,di(this,"complete"),di(this,"abort"),ms(this))},nr.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ms(this,!0)),ls.$.N.call(this)},nr.La=function(){this.s||(this.G||this.v||this.l?ps(this):this.kb())},nr.kb=function(){ps(this)},nr.isActive=function(){return!!this.g},nr.da=function(){try{return 2<vs(this)?this.g.status:-1}catch(Xo){return-1}},nr.ja=function(){try{return this.g?this.g.responseText:""}catch(Xo){return""}},nr.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),as(t)}},nr.Ia=function(){return this.m},nr.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(nr=Es.prototype).ra=8,nr.H=1,nr.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new to(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Gr(o),Yr(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ps(this,i,t),ko(n=So(this.I),"RID",e),ko(n,"CVER",22),this.F&&ko(n,"X-HTTP-Session-Id",this.F),Is(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(bs(o)))+"&"+t:this.o&&ws(n,this.o,o)),Go(this.i,i),this.bb&&ko(n,"TYPE","init"),this.P?(ko(n,"$req",t),ko(n,"SID","null"),i.aa=!0,so(i,n,null)):so(i,n,t),this.H=2}}else 3==this.H&&(e?Cs(this,e):0==this.j.length||Wo(this.i)||Cs(this))},nr.Ma=function(){if(this.u=null,Ns(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Wi(fr(this.jb,this),e)}},nr.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,zi(10),Ts(this),Ns(this))},nr.ib=function(){null!=this.v&&(this.v=null,Ts(this),Rs(this),zi(19))},nr.pb=function(e){e?(this.l.info("Successfully pinged google.com"),zi(2)):(this.l.info("Failed to ping google.com"),zi(1))},nr.isActive=function(){return!!this.h&&this.h.isActive(this)},(nr=Bs.prototype).Ba=function(){},nr.Aa=function(){},nr.za=function(){},nr.ya=function(){},nr.isActive=function(){return!0},nr.Va=function(){},zs.prototype.g=function(e,t){return new Hs(e,t)},mr(Hs,hi),Hs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;zi(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Vs(e,null,e.Y),_s(e)},Hs.prototype.close=function(){xs(this.g)},Hs.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=pi(e),e=n);t.j.push(new Bo(t.fb++,e)),3==t.H&&_s(t)},Hs.prototype.N=function(){this.g.h=null,delete this.j,xs(this.g),delete this.g,Hs.$.N.call(this)},mr(Ws,Ji),mr(qs,Zi),mr(Ks,Bs),Ks.prototype.Ba=function(){di(this.g,"a")},Ks.prototype.Aa=function(e){di(this.g,new Ws(e))},Ks.prototype.za=function(e){di(this.g,new qs)},Ks.prototype.ya=function(){di(this.g,"b")},mr(Gs,(function(){this.blockSize=-1})),Gs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Gs.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Qs(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Qs(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Qs(this,r),i=0;break}}this.h=i,this.i+=t},Gs.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Xs={};function $s(e){return-128<=e&&128>e?function(e,t){var n=Xs;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Ys([0|e],0>e?-1:0)})):new Ys([0|e],0>e?-1:0)}function Js(e){if(isNaN(e)||!isFinite(e))return ea;if(0>e)return oa(Js(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Zs;return new Ys(t,0)}var Zs=4294967296,ea=$s(0),ta=$s(1),na=$s(16777216);function ra(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function ia(e){return-1==e.h}function oa(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ys(n,~e.h).add(ta)}function sa(e,t){return e.add(oa(t))}function aa(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function la(e,t){this.g=e,this.h=t}function ca(e,t){if(ra(t))throw Error("division by zero");if(ra(e))return new la(ea,ea);if(ia(e))return t=ca(oa(e),t),new la(oa(t.g),oa(t.h));if(ia(t))return t=ca(e,oa(t)),new la(oa(t.g),t.h);if(30<e.g.length){if(ia(e)||ia(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ta,r=t;0>=r.X(e);)n=ua(n),r=ua(r);var i=ha(n,1),o=ha(r,1);for(r=ha(r,2),n=ha(n,2);!ra(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=ha(r,1),n=ha(n,1)}return t=sa(e,i.R(t)),new la(i,t)}for(i=ea;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Js(n)).R(t);ia(s)||0<s.X(e);)s=(o=Js(n-=r)).R(t);ra(o)&&(o=ta),i=i.add(o),e=sa(e,s)}return new la(i,e)}function ua(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ys(n,e.h)}function ha(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Ys(i,e.h)}(nr=Ys.prototype).ea=function(){if(ia(this))return-oa(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Zs+r)*t,t*=Zs}return e},nr.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(ra(this))return"0";if(ia(this))return"-"+oa(this).toString(e);for(var t=Js(Math.pow(e,6)),n=this,r="";;){var i=ca(n,t).g,o=((0<(n=sa(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(ra(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},nr.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},nr.X=function(e){return ia(e=sa(this,e))?-1:ra(e)?0:1},nr.abs=function(){return ia(this)?oa(this):this},nr.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Ys(n,-2147483648&n[n.length-1]?-1:0)},nr.R=function(e){if(ra(this)||ra(e))return ea;if(ia(this))return ia(e)?oa(this).R(oa(e)):oa(oa(this).R(e));if(ia(e))return oa(this.R(oa(e)));if(0>this.X(na)&&0>e.X(na))return Js(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,aa(n,2*r+2*i),n[2*r+2*i+1]+=o*l,aa(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,aa(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,aa(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ys(n,0)},nr.gb=function(e){return ca(this,e).h},nr.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ys(n,this.h&e.h)},nr.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ys(n,this.h|e.h)},nr.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ys(n,this.h^e.h)},zs.prototype.createWebChannel=zs.prototype.g,Hs.prototype.send=Hs.prototype.u,Hs.prototype.open=Hs.prototype.m,Hs.prototype.close=Hs.prototype.close,qi.NO_ERROR=0,qi.TIMEOUT=8,qi.HTTP_ERROR=6,Ki.COMPLETE="complete",Yi.EventType=$i,$i.OPEN="a",$i.CLOSE="b",$i.ERROR="c",$i.MESSAGE="d",hi.prototype.listen=hi.prototype.O,ls.prototype.listenOnce=ls.prototype.P,ls.prototype.getLastError=ls.prototype.Sa,ls.prototype.getLastErrorCode=ls.prototype.Ia,ls.prototype.getStatus=ls.prototype.da,ls.prototype.getResponseJson=ls.prototype.Wa,ls.prototype.getResponseText=ls.prototype.ja,ls.prototype.send=ls.prototype.ha,ls.prototype.setWithCredentials=ls.prototype.Oa,Gs.prototype.digest=Gs.prototype.l,Gs.prototype.reset=Gs.prototype.reset,Gs.prototype.update=Gs.prototype.j,Ys.prototype.add=Ys.prototype.add,Ys.prototype.multiply=Ys.prototype.R,Ys.prototype.modulo=Ys.prototype.gb,Ys.prototype.compare=Ys.prototype.X,Ys.prototype.toNumber=Ys.prototype.ea,Ys.prototype.toString=Ys.prototype.toString,Ys.prototype.getBits=Ys.prototype.D,Ys.fromNumber=Js,Ys.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return oa(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Js(Math.pow(n,8)),i=ea,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=Js(Math.pow(n,s)),i=i.R(s).add(Js(a))):i=(i=i.R(r)).add(Js(a))}return i};var da=ir.createWebChannelTransport=function(){return new zs},fa=ir.getStatEventTarget=function(){return ji()},pa=ir.ErrorCode=qi,ma=ir.EventType=Ki,ga=ir.Event=Mi,va=ir.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ya=(ir.FetchXmlHttpFactory=ts,ir.WebChannel=Yi),ba=ir.XhrIo=ls,wa=ir.Md5=Gs,Sa=ir.Integer=Ys;const Ea="@firebase/firestore";class xa{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xa.UNAUTHENTICATED=new xa(null),xa.GOOGLE_CREDENTIALS=new xa("google-credentials-uid"),xa.FIRST_PARTY=new xa("first-party-uid"),xa.MOCK_USER=new xa("mock-user");let Ta="10.11.0";const ka=new an("@firebase/firestore");function _a(){return ka.logLevel}function Ca(e){if(ka.logLevel<=tn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Aa);ka.debug("Firestore (".concat(Ta,"): ").concat(e),...i)}}function Ia(e){if(ka.logLevel<=tn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Aa);ka.error("Firestore (".concat(Ta,"): ").concat(e),...i)}}function Pa(e){if(ka.logLevel<=tn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Aa);ka.warn("Firestore (".concat(Ta,"): ").concat(e),...i)}}function Aa(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ra(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Ta,") INTERNAL ASSERTION FAILED: ")+e;throw Ia(t),new Error(t)}function Da(e,t){e||Ra()}function Na(e,t){return e}const La={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oa extends Vt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Ma{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Fa{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class ja{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(xa.UNAUTHENTICATED)))}shutdown(){}}class Va{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ua{constructor(e){this.t=e,this.currentUser=xa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Ma;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ma,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Ca("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Ca("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ma)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Ca("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Da("string"==typeof t.accessToken),new Fa(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Da(null===e||"string"==typeof e),new xa(e)}}class Ba{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=xa.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class za{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Ba(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(xa.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ha{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wa{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Ca("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Ca("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Ca("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Ca("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Da("string"==typeof e.token),this.R=e.token,new Ha(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qa(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ka{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=qa(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Ga(e,t){return e<t?-1:e>t?1:0}function Qa(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Ya{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oa(La.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oa(La.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oa(La.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oa(La.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ya.fromMillis(Date.now())}static fromDate(e){return Ya.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ya(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ga(this.nanoseconds,e.nanoseconds):Ga(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xa{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xa(e)}static min(){return new Xa(new Ya(0,0))}static max(){return new Xa(new Ya(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $a{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ra(),void 0===n?n=e.length-t:n>e.length-t&&Ra(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===$a.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $a?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ja extends $a{construct(e,t,n){return new Ja(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Oa(La.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Ja(e)}static emptyPath(){return new Ja([])}}const Za=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class el extends $a{construct(e,t,n){return new el(e,t,n)}static isValidIdentifier(e){return Za.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),el.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new el(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Oa(La.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Oa(La.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Oa(La.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Oa(La.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new el(t)}static emptyPath(){return new el([])}}class tl{constructor(e){this.path=e}static fromPath(e){return new tl(Ja.fromString(e))}static fromName(e){return new tl(Ja.fromString(e).popFirst(5))}static empty(){return new tl(Ja.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ja.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ja.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tl(new Ja(e.slice()))}}class nl{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}nl.UNKNOWN_ID=-1;function rl(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Xa.fromTimestamp(1e9===r?new Ya(n+1,0):new Ya(n,r));return new ol(i,tl.empty(),t)}function il(e){return new ol(e.readTime,e.key,-1)}class ol{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ol(Xa.min(),tl.empty(),-1)}static max(){return new ol(Xa.max(),tl.empty(),-1)}}function sl(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=tl.comparator(e.documentKey,t.documentKey),0!==n?n:Ga(e.largestBatchId,t.largestBatchId))}const al="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ll{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function cl(e){if(e.code!==La.FAILED_PRECONDITION||e.message!==al)throw e;Ca("LocalStore","Unexpectedly lost primary lease")}class ul{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ra(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ul(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ul?t:ul.resolve(t)}catch(e){return ul.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ul.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ul.reject(t)}static resolve(e){return new ul(((t,n)=>{t(e)}))}static reject(e){return new ul(((t,n)=>{n(e)}))}static waitFor(e){return new ul(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=ul.resolve(!1);for(const n of e)t=t.next((e=>e?ul.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new ul(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new ul(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class hl{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Ma,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new pl(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=bl(t.target.error);this.V.reject(new pl(e,n))}}static open(e,t,n,r){try{return new hl(t,e.transaction(r,n))}catch(e){throw new pl(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ca("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new gl(t)}}class dl{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===dl.S(Mt())&&Ia("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ca("SimpleDb","Removing database:",e),vl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!jt())return!1;if(dl.C())return!0;const e=Mt(),t=dl.S(e),n=0<t&&t<10,r=dl.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Ca("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new pl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Oa(La.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Oa(La.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new pl(e,r))},r.onupgradeneeded=e=>{Ca("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Ca("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.O(e);const t=hl.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),ul.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Ca("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class fl{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return vl(this.k.delete())}}class pl extends Oa{constructor(e,t){super(La.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function ml(e){return"IndexedDbTransactionError"===e.name}class gl{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Ca("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ca("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),vl(n)}add(e){return Ca("SimpleDb","ADD",this.store.name,e,e),vl(this.store.add(e))}get(e){return vl(this.store.get(e)).next((t=>(void 0===t&&(t=null),Ca("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Ca("SimpleDb","DELETE",this.store.name,e),vl(this.store.delete(e))}count(){return Ca("SimpleDb","COUNT",this.store.name),vl(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new ul(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new ul(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Ca("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new ul(((n,r)=>{t.onerror=e=>{const t=bl(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new ul(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new fl(i),s=t(i.primaryKey,i.value,o);if(s instanceof ul){const e=s.catch((e=>(o.done(),ul.reject(e))));n.push(e)}o.isDone?r():null===o.$?i.continue():i.continue(o.$)}})).next((()=>ul.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function vl(e){return new ul(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=bl(e.target.error);n(t)}}))}let yl=!1;function bl(e){const t=dl.S(Mt());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Oa("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return yl||(yl=!0,setTimeout((()=>{throw e}),0)),e}}return e}class wl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Sl(e){return null==e}function El(e){return 0===e&&1/e==-1/0}function xl(e){return"number"==typeof e&&Number.isInteger(e)&&!El(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}wl._e=-1;const Tl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],kl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_l=kl;function Cl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Il(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Pl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Al{constructor(e,t){this.comparator=e,this.root=t||Dl.EMPTY}insert(e,t){return new Al(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dl.BLACK,null,null))}remove(e){return new Al(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rl(this.root,e,this.comparator,!0)}}class Rl{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dl{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Dl.RED,this.left=null!=r?r:Dl.EMPTY,this.right=null!=i?i:Dl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Dl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Dl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Dl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ra();if(this.right.isRed())throw Ra();const e=this.left.check();if(e!==this.right.check())throw Ra();return e+(this.isRed()?0:1)}}Dl.EMPTY=null,Dl.RED=!0,Dl.BLACK=!1,Dl.EMPTY=new class{constructor(){this.size=0}get key(){throw Ra()}get value(){throw Ra()}get color(){throw Ra()}get left(){throw Ra()}get right(){throw Ra()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Dl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Nl{constructor(e){this.comparator=e,this.data=new Al(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ll(this.data.getIterator())}getIteratorFrom(e){return new Ll(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Nl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Nl(this.comparator);return t.data=e,t}}class Ll{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ol{constructor(e){this.fields=e,e.sort(el.comparator)}static empty(){return new Ol([])}unionWith(e){let t=new Nl(el.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ol(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qa(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Ml extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ml("Invalid base64 string: "+e):e}}(e);return new Fl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Fl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ga(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fl.EMPTY_BYTE_STRING=new Fl("");const jl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vl(e){if(Da(!!e),"string"==typeof e){let t=0;const n=jl.exec(e);if(Da(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ul(e.seconds),nanos:Ul(e.nanos)}}function Ul(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Bl(e){return"string"==typeof e?Fl.fromBase64String(e):Fl.fromUint8Array(e)}function zl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hl(e){const t=e.mapValue.fields.__previous_value__;return zl(t)?Hl(t):t}function Wl(e){const t=Vl(e.mapValue.fields.__local_write_time__.timestampValue);return new Ya(t.seconds,t.nanos)}class ql{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class Kl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Kl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}const Gl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ql(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zl(e)?4:lc(e)?9007199254740991:10:Ra()}function Yl(e,t){if(e===t)return!0;const n=Ql(e);if(n!==Ql(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Wl(e).isEqual(Wl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Vl(e.timestampValue),r=Vl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Bl(e.bytesValue).isEqual(Bl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ul(e.geoPointValue.latitude)===Ul(t.geoPointValue.latitude)&&Ul(e.geoPointValue.longitude)===Ul(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ul(e.integerValue)===Ul(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ul(e.doubleValue),r=Ul(t.doubleValue);return n===r?El(n)===El(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Qa(e.arrayValue.values||[],t.arrayValue.values||[],Yl);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Cl(n)!==Cl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Yl(n[i],r[i])))return!1;return!0}(e,t);default:return Ra()}}function Xl(e,t){return void 0!==(e.values||[]).find((e=>Yl(e,t)))}function $l(e,t){if(e===t)return 0;const n=Ql(e),r=Ql(t);if(n!==r)return Ga(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ga(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ul(e.integerValue||e.doubleValue),r=Ul(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Jl(e.timestampValue,t.timestampValue);case 4:return Jl(Wl(e),Wl(t));case 5:return Ga(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Bl(e),r=Bl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ga(n[i],r[i]);if(0!==e)return e}return Ga(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ga(Ul(e.latitude),Ul(t.latitude));return 0!==n?n:Ga(Ul(e.longitude),Ul(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=$l(n[i],r[i]);if(e)return e}return Ga(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Gl.mapValue&&t===Gl.mapValue)return 0;if(e===Gl.mapValue)return 1;if(t===Gl.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Ga(r[s],o[s]);if(0!==e)return e;const t=$l(n[r[s]],i[o[s]]);if(0!==t)return t}return Ga(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Ra()}}function Jl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ga(e,t);const n=Vl(e),r=Vl(t),i=Ga(n.seconds,r.seconds);return 0!==i?i:Ga(n.nanos,r.nanos)}function Zl(e){return ec(e)}function ec(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Vl(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Bl(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return tl.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ec(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(ec(e.fields[i]));return n+"}"}(e.mapValue):Ra()}function tc(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function nc(e){return!!e&&"integerValue"in e}function rc(e){return!!e&&"arrayValue"in e}function ic(e){return!!e&&"nullValue"in e}function oc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function sc(e){return!!e&&"mapValue"in e}function ac(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Il(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ac(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ac(e.arrayValue.values[n]);return t}return Object.assign({},e)}function lc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class cc{constructor(e){this.value=e}static empty(){return new cc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!sc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(t)}setAll(e){let t=el.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ac(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());sc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];sc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Il(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new cc(ac(this.value))}}function uc(e){const t=[];return Il(e.fields,((e,n)=>{const r=new el([e]);if(sc(n)){const e=uc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ol(t)}class hc{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new hc(e,0,Xa.min(),Xa.min(),Xa.min(),cc.empty(),0)}static newFoundDocument(e,t,n,r){return new hc(e,1,t,Xa.min(),n,r,0)}static newNoDocument(e,t){return new hc(e,2,t,Xa.min(),Xa.min(),cc.empty(),0)}static newUnknownDocument(e,t){return new hc(e,3,t,Xa.min(),Xa.min(),cc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Xa.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xa.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class dc{constructor(e,t){this.position=e,this.inclusive=t}}function fc(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?tl.comparator(tl.fromName(s.referenceValue),n.key):$l(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function pc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Yl(e.position[n],t.position[n]))return!1;return!0}class mc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function gc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class vc{}class yc extends vc{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new _c(e,t,n):"array-contains"===t?new Ac(e,n):"in"===t?new Rc(e,n):"not-in"===t?new Dc(e,n):"array-contains-any"===t?new Nc(e,n):new yc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Cc(e,n):new Ic(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison($l(t,this.value)):null!==t&&Ql(this.value)===Ql(t)&&this.matchesComparison($l(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ra()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bc extends vc{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new bc(e,t)}matches(e){return wc(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function wc(e){return"and"===e.op}function Sc(e){return Ec(e)&&wc(e)}function Ec(e){for(const t of e.filters)if(t instanceof bc)return!1;return!0}function xc(e){if(e instanceof yc)return e.field.canonicalString()+e.op.toString()+Zl(e.value);if(Sc(e))return e.filters.map((e=>xc(e))).join(",");{const t=e.filters.map((e=>xc(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Tc(e,t){return e instanceof yc?function(e,t){return t instanceof yc&&e.op===t.op&&e.field.isEqual(t.field)&&Yl(e.value,t.value)}(e,t):e instanceof bc?function(e,t){return t instanceof bc&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Tc(n,t.filters[r])),!0)}(e,t):void Ra()}function kc(e){return e instanceof yc?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Zl(e.value))}(e):e instanceof bc?function(e){return e.op.toString()+" {"+e.getFilters().map(kc).join(" ,")+"}"}(e):"Filter"}class _c extends yc{constructor(e,t,n){super(e,t,n),this.key=tl.fromName(n.referenceValue)}matches(e){const t=tl.comparator(e.key,this.key);return this.matchesComparison(t)}}class Cc extends yc{constructor(e,t){super(e,"in",t),this.keys=Pc("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Ic extends yc{constructor(e,t){super(e,"not-in",t),this.keys=Pc("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Pc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>tl.fromName(e.referenceValue)))}class Ac extends yc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rc(t)&&Xl(t.arrayValue,this.value)}}class Rc extends yc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Xl(this.value.arrayValue,t)}}class Dc extends yc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Xl(this.value.arrayValue,t)}}class Nc extends yc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Xl(this.value.arrayValue,e)))}}class Lc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ce=null}}function Oc(e){return new Lc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Mc(e){const t=Na(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>xc(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Sl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Zl(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Zl(e))).join(",")),t.ce=e}return t.ce}function Fc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!gc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Tc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!pc(e.startAt,t.startAt)&&pc(e.endAt,t.endAt)}function jc(e){return tl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Vc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Uc(e,t,n,r,i,o,s,a){return new Vc(e,t,n,r,i,o,s,a)}function Bc(e){return new Vc(e)}function zc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Hc(e){return null!==e.collectionGroup}function Wc(e){const t=Na(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Nl(el.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new mc(r,n))})),e.has(el.keyField().canonicalString())||t.le.push(new mc(el.keyField(),n))}return t.le}function qc(e){const t=Na(e);return t.he||(t.he=Kc(t,Wc(e))),t.he}function Kc(e,t){if("F"===e.limitType)return Oc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new mc(e.field,t)}));const n=e.endAt?new dc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new dc(e.startAt.position,e.startAt.inclusive):null;return Oc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Gc(e,t){const n=e.filters.concat([t]);return new Vc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Qc(e,t,n){return new Vc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Yc(e,t){return Fc(qc(e),qc(t))&&e.limitType===t.limitType}function Xc(e){return"".concat(Mc(qc(e)),"|lt:").concat(e.limitType)}function $c(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>kc(e))).join(", "),"]")),Sl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Zl(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Zl(e))).join(",")),"Target(".concat(t,")")}(qc(e)),"; limitType=").concat(e.limitType,")")}function Jc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):tl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Wc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=fc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Wc(e),t))&&!(e.endAt&&!function(e,t,n){const r=fc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Wc(e),t))}(e,t)}function Zc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function eu(e){return(t,n)=>{let r=!1;for(const i of Wc(e)){const e=tu(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function tu(e,t,n){const r=e.field.isKeyField()?tl.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?$l(r,i):Ra()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ra()}}class nu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Il(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Pl(this.inner)}size(){return this.innerSize}}const ru=new Al(tl.comparator);function iu(){return ru}const ou=new Al(tl.comparator);function su(){let e=ou;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function au(e){let t=ou;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function lu(){return uu()}function cu(){return uu()}function uu(){return new nu((e=>e.toString()),((e,t)=>e.isEqual(t)))}const hu=new Al(tl.comparator),du=new Nl(tl.comparator);function fu(){let e=du;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const pu=new Nl(Ga);function mu(){return pu}function gu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:El(t)?"-0":t}}function vu(e){return{integerValue:""+e}}function yu(e,t){return xl(t)?vu(t):gu(e,t)}class bu{constructor(){this._=void 0}}function wu(e,t,n){return e instanceof xu?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&zl(t)&&(t=Hl(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Tu?ku(e,t):e instanceof _u?Cu(e,t):function(e,t){const n=Eu(e,t),r=Pu(n)+Pu(e.Ie);return nc(n)&&nc(e.Ie)?vu(r):gu(e.serializer,r)}(e,t)}function Su(e,t,n){return e instanceof Tu?ku(e,t):e instanceof _u?Cu(e,t):n}function Eu(e,t){return e instanceof Iu?function(e){return nc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class xu extends bu{}class Tu extends bu{constructor(e){super(),this.elements=e}}function ku(e,t){const n=Au(t);for(const r of e.elements)n.some((e=>Yl(e,r)))||n.push(r);return{arrayValue:{values:n}}}class _u extends bu{constructor(e){super(),this.elements=e}}function Cu(e,t){let n=Au(t);for(const r of e.elements)n=n.filter((e=>!Yl(e,r)));return{arrayValue:{values:n}}}class Iu extends bu{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Pu(e){return Ul(e.integerValue||e.doubleValue)}function Au(e){return rc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ru{constructor(e,t){this.version=e,this.transformResults=t}}class Du{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Du}static exists(e){return new Du(void 0,e)}static updateTime(e){return new Du(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Lu{}function Ou(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new qu(e.key,Du.none()):new Uu(e.key,e.data,Du.none());{const n=e.data,r=cc.empty();let i=new Nl(el.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Bu(e.key,r,new Ol(i.toArray()),Du.none())}}function Mu(e,t,n){e instanceof Uu?function(e,t,n){const r=e.value.clone(),i=Hu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Bu?function(e,t,n){if(!Nu(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Hu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(zu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Fu(e,t,n,r){return e instanceof Uu?function(e,t,n,r){if(!Nu(e.precondition,t))return n;const i=e.value.clone(),o=Wu(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Bu?function(e,t,n,r){if(!Nu(e.precondition,t))return n;const i=Wu(e.fieldTransforms,r,t),o=t.data;return o.setAll(zu(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Nu(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ju(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Eu(r.transform,e||null);null!=i&&(null===n&&(n=cc.empty()),n.set(r.field,i))}return n||null}function Vu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Qa(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Tu&&t instanceof Tu||e instanceof _u&&t instanceof _u?Qa(e.elements,t.elements,Yl):e instanceof Iu&&t instanceof Iu?Yl(e.Ie,t.Ie):e instanceof xu&&t instanceof xu}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Uu extends Lu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Bu extends Lu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function zu(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Hu(e,t,n){const r=new Map;Da(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Su(s,a,n[i]))}return r}function Wu(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,wu(e,o,t))}return r}class qu extends Lu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ku extends Lu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Gu{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Mu(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Fu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Fu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=cu();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Ou(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Xa.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),fu())}isEqual(e){return this.batchId===e.batchId&&Qa(this.mutations,e.mutations,((e,t)=>Vu(e,t)))&&Qa(this.baseMutations,e.baseMutations,((e,t)=>Vu(e,t)))}}class Qu{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Da(e.mutations.length===n.length);let r=hu;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Qu(e,t,n,r)}}class Yu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Xu{constructor(e,t){this.count=e,this.unchangedNames=t}}var $u,Ju;function Zu(e){switch(e){default:return Ra();case La.CANCELLED:case La.UNKNOWN:case La.DEADLINE_EXCEEDED:case La.RESOURCE_EXHAUSTED:case La.INTERNAL:case La.UNAVAILABLE:case La.UNAUTHENTICATED:return!1;case La.INVALID_ARGUMENT:case La.NOT_FOUND:case La.ALREADY_EXISTS:case La.PERMISSION_DENIED:case La.FAILED_PRECONDITION:case La.ABORTED:case La.OUT_OF_RANGE:case La.UNIMPLEMENTED:case La.DATA_LOSS:return!0}}function eh(e){if(void 0===e)return Ia("GRPC error has no .code"),La.UNKNOWN;switch(e){case $u.OK:return La.OK;case $u.CANCELLED:return La.CANCELLED;case $u.UNKNOWN:return La.UNKNOWN;case $u.DEADLINE_EXCEEDED:return La.DEADLINE_EXCEEDED;case $u.RESOURCE_EXHAUSTED:return La.RESOURCE_EXHAUSTED;case $u.INTERNAL:return La.INTERNAL;case $u.UNAVAILABLE:return La.UNAVAILABLE;case $u.UNAUTHENTICATED:return La.UNAUTHENTICATED;case $u.INVALID_ARGUMENT:return La.INVALID_ARGUMENT;case $u.NOT_FOUND:return La.NOT_FOUND;case $u.ALREADY_EXISTS:return La.ALREADY_EXISTS;case $u.PERMISSION_DENIED:return La.PERMISSION_DENIED;case $u.FAILED_PRECONDITION:return La.FAILED_PRECONDITION;case $u.ABORTED:return La.ABORTED;case $u.OUT_OF_RANGE:return La.OUT_OF_RANGE;case $u.UNIMPLEMENTED:return La.UNIMPLEMENTED;case $u.DATA_LOSS:return La.DATA_LOSS;default:return Ra()}}(Ju=$u||($u={}))[Ju.OK=0]="OK",Ju[Ju.CANCELLED=1]="CANCELLED",Ju[Ju.UNKNOWN=2]="UNKNOWN",Ju[Ju.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ju[Ju.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ju[Ju.NOT_FOUND=5]="NOT_FOUND",Ju[Ju.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ju[Ju.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ju[Ju.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ju[Ju.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ju[Ju.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ju[Ju.ABORTED=10]="ABORTED",Ju[Ju.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ju[Ju.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ju[Ju.INTERNAL=13]="INTERNAL",Ju[Ju.UNAVAILABLE=14]="UNAVAILABLE",Ju[Ju.DATA_LOSS=15]="DATA_LOSS";let th=null;function nh(){return new TextEncoder}const rh=new Sa([4294967295,4294967295],0);function ih(e){const t=nh().encode(e),n=new wa;return n.update(t),new Uint8Array(n.digest())}function oh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Sa([n,r],0),new Sa([i,o],0)]}class sh{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ah("Invalid padding: ".concat(t));if(n<0)throw new ah("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ah("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ah("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Sa.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Sa.fromNumber(n)));return 1===r.compare(rh)&&(r=new Sa([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=ih(e),[n,r]=oh(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new sh(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=ih(e),[n,r]=oh(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ah extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lh{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ch.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new lh(Xa.min(),r,new Al(Ga),iu(),fu())}}class ch{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ch(n,t,fu(),fu(),fu())}}class uh{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class hh{constructor(e,t){this.targetId=e,this.fe=t}}class dh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fl.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class fh{constructor(){this.ge=0,this.pe=gh(),this.ye=Fl.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=fu(),t=fu(),n=fu();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ra()}})),new ch(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=gh()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Da(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class ph{constructor(e){this.Be=e,this.ke=new Map,this.qe=iu(),this.Qe=mh(),this.Ke=new Al(Ga)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Ra()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(jc(i))if(0===n){const e=new tl(i.path);this.We(t,e,hc.newNoDocument(e,Xa.min()))}else Da(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==th||th.tt(function(e,t,n,r,i){var o,s,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Be.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Bl(n).toUint8Array()}catch(e){if(e instanceof Ml)return Pa("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new sh(o,r,i)}catch(e){return Pa(e instanceof ah?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Be.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&jc(i.target)){const t=new tl(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,hc.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=fu();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new lh(e,t,this.Ke,this.qe,n);return this.qe=iu(),this.Qe=mh(),this.Ke=new Al(Ga),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new fh,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Nl(Ga),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Ca("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Be._t(e)}He(e){this.ke.set(e,new fh),this.Be.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function mh(){return new Al(tl.comparator)}function gh(){return new Al(tl.comparator)}const vh={asc:"ASCENDING",desc:"DESCENDING"},yh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bh={and:"AND",or:"OR"};class wh{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sh(e,t){return e.useProto3Json||Sl(t)?t:{value:t}}function Eh(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function xh(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Th(e,t){return Eh(e,t.toTimestamp())}function kh(e){return Da(!!e),Xa.fromTimestamp(function(e){const t=Vl(e);return new Ya(t.seconds,t.nanos)}(e))}function _h(e,t){return Ch(e,t).canonicalString()}function Ch(e,t){const n=function(e){return new Ja(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Ih(e){const t=Ja.fromString(e);return Da(Qh(t)),t}function Ph(e,t){return _h(e.databaseId,t.path)}function Ah(e,t){const n=Ih(t);if(n.get(1)!==e.databaseId.projectId)throw new Oa(La.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Oa(La.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new tl(Lh(n))}function Rh(e,t){return _h(e.databaseId,t)}function Dh(e){const t=Ih(e);return 4===t.length?Ja.emptyPath():Lh(t)}function Nh(e){return new Ja(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Lh(e){return Da(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Oh(e,t,n){return{name:Ph(e,t),fields:n.value.mapValue.fields}}function Mh(e,t){let n;if(t instanceof Uu)n={update:Oh(e,t.key,t.value)};else if(t instanceof qu)n={delete:Ph(e,t.key)};else if(t instanceof Bu)n={update:Oh(e,t.key,t.data),updateMask:Gh(t.fieldMask)};else{if(!(t instanceof Ku))return Ra();n={verify:Ph(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof xu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Tu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _u)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Iu)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Ra()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Th(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ra()}(e,t.precondition)),n}function Fh(e,t){return{documents:[Rh(e,t.path)]}}function jh(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Rh(e,i);const o=function(e){if(0!==e.length)return Kh(bc.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Wh(e.field),direction:Bh(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Sh(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function Vh(e){let t=Dh(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Da(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Uh(e);return t instanceof bc&&Sc(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new mc(qh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Sl(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new dc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new dc(n,t)}(n.endAt)),Uc(t,i,s,o,a,"F",l,c)}function Uh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=qh(e.unaryFilter.field);return yc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=qh(e.unaryFilter.field);return yc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=qh(e.unaryFilter.field);return yc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=qh(e.unaryFilter.field);return yc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ra()}}(e):void 0!==e.fieldFilter?function(e){return yc.create(qh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ra()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return bc.create(e.compositeFilter.filters.map((e=>Uh(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ra()}}(e.compositeFilter.op))}(e):Ra()}function Bh(e){return vh[e]}function zh(e){return yh[e]}function Hh(e){return bh[e]}function Wh(e){return{fieldPath:e.canonicalString()}}function qh(e){return el.fromServerFormat(e.fieldPath)}function Kh(e){return e instanceof yc?function(e){if("=="===e.op){if(oc(e.value))return{unaryFilter:{field:Wh(e.field),op:"IS_NAN"}};if(ic(e.value))return{unaryFilter:{field:Wh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(oc(e.value))return{unaryFilter:{field:Wh(e.field),op:"IS_NOT_NAN"}};if(ic(e.value))return{unaryFilter:{field:Wh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wh(e.field),op:zh(e.op),value:e.value}}}(e):e instanceof bc?function(e){const t=e.getFilters().map((e=>Kh(e)));return 1===t.length?t[0]:{compositeFilter:{op:Hh(e.op),filters:t}}}(e):Ra()}function Gh(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Qh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Yh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xa.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Xa.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Fl.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Yh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Xh{constructor(e){this.ct=e}}function $h(e){const t=Vh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Qc(t,t.limit,"L"):t}class Jh{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Ul(e.integerValue));else if("doubleValue"in e){const n=Ul(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),El(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(t,20),"string"==typeof n&&(n=Vl(n)),t.At("".concat(n.seconds||"")),t.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Bl(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?lc(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Ra()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),tl.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}Jh.bt=new Jh;class Zh{constructor(){this._n=new ed}addToCollectionParentIndex(e,t){return this._n.add(t),ul.resolve()}getCollectionParents(e,t){return ul.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return ul.resolve()}deleteFieldIndex(e,t){return ul.resolve()}deleteAllFieldIndexes(e){return ul.resolve()}createTargetIndexes(e,t){return ul.resolve()}getDocumentsMatchingTarget(e,t){return ul.resolve(null)}getIndexType(e,t){return ul.resolve(0)}getFieldIndexes(e,t){return ul.resolve([])}getNextCollectionGroupToUpdate(e){return ul.resolve(null)}getMinOffset(e,t){return ul.resolve(ol.min())}getMinOffsetFromCollectionGroup(e,t){return ul.resolve(ol.min())}updateCollectionGroup(e,t,n){return ul.resolve()}updateIndexEntries(e,t){return ul.resolve()}}class ed{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Nl(Ja.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Nl(Ja.comparator)).toArray()}}new Uint8Array(0);class td{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new td(e,td.DEFAULT_COLLECTION_PERCENTILE,td.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}td.DEFAULT_COLLECTION_PERCENTILE=10,td.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,td.DEFAULT=new td(41943040,td.DEFAULT_COLLECTION_PERCENTILE,td.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),td.DISABLED=new td(-1,0,0);class nd{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new nd(0)}static Ln(){return new nd(-1)}}class rd{constructor(){this.changes=new nu((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ul.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class id{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class od{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Fu(n.mutation,e,Ol.empty(),Ya.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,fu()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fu();const r=lu();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=su();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=lu();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,fu())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=iu();const o=uu(),s=uu();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Bu)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Fu(s.mutation,t,s.mutation.getFieldMask(),Ya.now())):o.set(t.key,Ol.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new id(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=uu();let r=new Al(((e,t)=>e-t)),i=fu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Ol.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||fu()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=cu();l.forEach((e=>{if(!i.has(e)){const r=Ou(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return ul.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return tl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Hc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ul.resolve(lu());let s=-1,a=i;return o.next((t=>ul.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?ul.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,fu()))).next((e=>({batchId:s,changes:au(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tl(t)).next((e=>{let t=su();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=su();return this.indexManager.getCollectionParents(e,i).next((s=>ul.forEach(s,(s=>{const a=function(e,t){return new Vc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,hc.newInvalidDocument(r)))}));let n=su();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Fu(o.mutation,r,Ol.empty(),Ya.now()),Jc(t,r)&&(n=n.insert(e,r))})),n}))}}class sd{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return ul.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:kh(e.createTime)}}(t)),ul.resolve()}getNamedQuery(e,t){return ul.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:$h(e.bundledQuery),readTime:kh(e.readTime)}}(t)),ul.resolve()}}class ad{constructor(){this.overlays=new Al(tl.comparator),this.hr=new Map}getOverlay(e,t){return ul.resolve(this.overlays.get(t))}getOverlays(e,t){const n=lu();return ul.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),ul.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),ul.resolve()}getOverlaysForCollection(e,t,n){const r=lu(),i=t.length+1,o=new tl(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ul.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Al(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=lu(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=lu(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return ul.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Yu(t,n));let i=this.hr.get(t);void 0===i&&(i=fu(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class ld{constructor(){this.Pr=new Nl(cd.Ir),this.Tr=new Nl(cd.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new cd(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new cd(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new tl(new Ja([])),n=new cd(t,e),r=new cd(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new tl(new Ja([])),n=new cd(t,e),r=new cd(t,e+1);let i=fu();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new cd(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class cd{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return tl.comparator(e.key,t.key)||Ga(e.pr,t.pr)}static Er(e,t){return Ga(e.pr,t.pr)||tl.comparator(e.key,t.key)}}class ud{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Nl(cd.Ir)}checkEmpty(e){return ul.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Gu(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.wr=this.wr.add(new cd(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return ul.resolve(o)}lookupMutationBatch(e,t){return ul.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return ul.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ul.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return ul.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new cd(t,0),r=new cd(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),ul.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Nl(Ga);return t.forEach((e=>{const t=new cd(e,0),r=new cd(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),ul.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;tl.isDocumentKey(i)||(i=i.child(""));const o=new cd(new tl(i),0);let s=new Nl(Ga);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.pr)),!0)}),o),ul.resolve(this.Dr(s))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Da(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return ul.forEach(t.mutations,(r=>{const i=new cd(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new cd(t,0),r=this.wr.firstAfterOrEqual(n);return ul.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ul.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class hd{constructor(e){this.vr=e,this.docs=new Al(tl.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ul.resolve(n?n.document.mutableCopy():hc.newInvalidDocument(t))}getEntries(e,t){let n=iu();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():hc.newInvalidDocument(e))})),ul.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=iu();const o=t.path,s=new tl(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||sl(il(s),n)<=0||(r.has(s.key)||Jc(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return ul.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ra()}Fr(e,t){return ul.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new dd(this)}getSize(e){return ul.resolve(this.size)}}class dd extends rd{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),ul.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class fd{constructor(e){this.persistence=e,this.Mr=new nu((e=>Mc(e)),Fc),this.lastRemoteSnapshotVersion=Xa.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ld,this.targetCount=0,this.Lr=nd.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),ul.resolve()}getLastRemoteSnapshotVersion(e){return ul.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ul.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),ul.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),ul.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new nd(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,ul.resolve()}updateTargetData(e,t){return this.qn(t),ul.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,ul.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),ul.waitFor(i).next((()=>r))}getTargetCount(e){return ul.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return ul.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),ul.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),ul.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),ul.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return ul.resolve(n)}containsKey(e,t){return ul.resolve(this.Nr.containsKey(t))}}class pd{constructor(e,t){this.Br={},this.overlays={},this.kr=new wl(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new fd(this),this.indexManager=new Zh,this.remoteDocumentCache=function(e){return new hd(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Xh(t),this.$r=new sd(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ad,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new ud(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){Ca("MemoryPersistence","Starting transaction:",e);const r=new md(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return ul.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class md extends ll{constructor(e){super(),this.currentSequenceNumber=e}}class gd{constructor(e){this.persistence=e,this.zr=new ld,this.jr=null}static Hr(e){return new gd(e)}get Jr(){if(this.jr)return this.jr;throw Ra()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),ul.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),ul.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),ul.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ul.forEach(this.Jr,(n=>{const r=tl.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Xa.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return ul.or([()=>ul.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class vd{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=fu(),r=fu();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new vd(e,t.fromCache,n,r)}}class yd{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bd{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Ft()?8:dl.v(Mt())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new yd;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(_a()<=tn.DEBUG&&Ca("QueryEngine","SDK will not create cache indexes for query:",$c(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ul.resolve()):(_a()<=tn.DEBUG&&Ca("QueryEngine","Query:",$c(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(_a()<=tn.DEBUG&&Ca("QueryEngine","The SDK decides to create cache indexes for query:",$c(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qc(t))):ul.resolve())}ji(e,t){if(zc(t))return ul.resolve(null);let n=qc(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Qc(t,null,"F"),n=qc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=fu(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Zi(t,r);return this.Xi(t,o,i,n.readTime)?this.ji(e,Qc(t,null,"F")):this.es(e,o,t,n)}))))})))))}Hi(e,t,n,r){return zc(t)||r.isEqual(Xa.min())?ul.resolve(null):this.zi.getDocuments(e,n).next((i=>{const o=this.Zi(t,i);return this.Xi(t,o,n,r)?ul.resolve(null):(_a()<=tn.DEBUG&&Ca("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$c(t)),this.es(e,o,t,rl(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new Nl(eu(e));return t.forEach(((t,r)=>{Jc(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return _a()<=tn.DEBUG&&Ca("QueryEngine","Using full collection scan to execute query:",$c(t)),this.zi.getDocumentsMatchingQuery(e,t,ol.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class wd{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Al(Ga),this.rs=new nu((e=>Mc(e)),Fc),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new od(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Sd(e,t,n,r){return new wd(e,t,n,r)}async function Ed(e,t){const n=Na(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=fu();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({us:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function xd(e){const t=Na(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Td(e,t,n){let r=fu(),i=fu();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=iu();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Xa.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Ca("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{cs:r,ls:i}}))}function kd(e,t){const n=Na(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function _d(e,t){const n=Na(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,ul.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Yh(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function Cd(e,t,n){const r=Na(e),i=r.ns.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!ml(e))throw e;Ca("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function Id(e,t,n){const r=Na(e);let i=Xa.min(),o=fu();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Na(e),i=r.rs.get(n);return void 0!==i?ul.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,qc(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Xa.min(),n?o:fu()))).next((e=>(Pd(r,Zc(t),e),{documents:e,hs:o})))))}function Pd(e,t,n){let r=e.ss.get(t)||Xa.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}class Ad{constructor(){this.activeTargetIds=mu()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rd{constructor(){this.no=new Ad,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Ad,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Dd{io(e){}shutdown(){}}class Nd{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ca("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Ca("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ld=null;function Od(){return null===Ld?Ld=268435456+Math.round(2147483648*Math.random()):Ld++,"0x"+Ld.toString(16)}const Md={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fd{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const jd="WebChannelConnection";class Vd extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const o=Od(),s=this.bo(e,t.toUriEncodedString());Ca("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,s,a,n).then((t=>(Ca("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Pa("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}vo(e,t,n,r,i,o){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ta,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=Md[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=Od();return new Promise(((o,s)=>{const a=new ba;a.setWithCredentials(!0),a.listenOnce(ma.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case pa.NO_ERROR:const t=a.getResponseJson();Ca(jd,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case pa.TIMEOUT:Ca(jd,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Oa(La.DEADLINE_EXCEEDED,"Request time out"));break;case pa.HTTP_ERROR:const n=a.getStatus();if(Ca(jd,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(La).indexOf(t)>=0?t:La.UNKNOWN}(t.status);s(new Oa(e,t.message))}else s(new Oa(La.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new Oa(La.UNAVAILABLE,"Connection failed."));break;default:Ra()}}finally{Ca(jd,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Ca(jd,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=Od(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=da(),s=fa(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Ca(jd,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);let h=!1,d=!1;const f=new Fd({lo:t=>{d?Ca(jd,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Ca(jd,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Ca(jd,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,ya.EventType.OPEN,(()=>{d||Ca(jd,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,ya.EventType.CLOSE,(()=>{d||(d=!0,Ca(jd,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,ya.EventType.ERROR,(t=>{d||(d=!0,Pa(jd,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new Oa(La.UNAVAILABLE,"The operation could not be completed")))})),p(u,ya.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Da(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){Ca(jd,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=$u[e];if(void 0!==t)return eh(t)}(t),i=s.message;void 0===n&&(n=La.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.Vo(new Oa(n,i)),u.close()}else Ca(jd,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(s,ga.STAT_EVENT,(t=>{t.stat===va.PROXY?Ca(jd,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===va.NOPROXY&&Ca(jd,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function Ud(){return"undefined"!=typeof document?document:null}function Bd(e){return new wh(e,!0)}class zd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&Ca("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class Hd{constructor(e,t,n,r,i,o,s,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new zd(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===La.RESOURCE_EXHAUSTED?(Ia(t.toString()),Ia("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===La.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new Oa(La.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return Ca("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(Ca("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Wd extends Hd{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ra()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Da(void 0===t||"string"==typeof t),Fl.fromBase64String(t||"")):(Da(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Fl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?La.UNKNOWN:eh(e.code);return new Oa(t,e.message||"")}(s);n=new dh(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ah(e,r.document.name),o=kh(r.document.updateTime),s=r.document.createTime?kh(r.document.createTime):Xa.min(),a=new cc({mapValue:{fields:r.document.fields}}),l=hc.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new uh(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ah(e,r.document),o=r.readTime?kh(r.readTime):Xa.min(),s=hc.newNoDocument(i,o),a=r.removedTargetIds||[];n=new uh([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ah(e,r.document),o=r.removedTargetIds||[];n=new uh([],o,i,null)}else{if(!("filter"in t))return Ra();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Xu(r,i),s=e.targetId;n=new hh(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Xa.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Xa.min():t.readTime?kh(t.readTime):Xa.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=Nh(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=jc(r)?{documents:Fh(e,r)}:{query:jh(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=xh(e,t.resumeToken);const r=Sh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Xa.min())>0){n.readTime=Eh(e,t.snapshotVersion.toTimestamp());const r=Sh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ra()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=Nh(this.serializer),t.removeTarget=e,this.t_(t)}}class qd extends Hd{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(Da(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(Da(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?kh(e.updateTime):kh(t);return n.isEqual(Xa.min())&&(n=kh(t)),new Ru(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=kh(e.commitTime);return this.listener.T_(n,t)}return Da(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Nh(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Mh(this.serializer,e)))};this.t_(t)}}class Kd extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Oa(La.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.So(e,Ch(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===La.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Oa(La.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.vo(e,Ch(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===La.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Oa(La.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class Gd{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(Ia(t),this.g_=!1):Ca("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Qd{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{rf(this)&&(Ca("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Na(e);t.v_.add(4),await Xd(t),t.x_.set("Unknown"),t.v_.delete(4),await Yd(t)}(this))}))})),this.x_=new Gd(n,r)}}async function Yd(e){if(rf(e))for(const t of e.F_)await t(!0)}async function Xd(e){for(const t of e.F_)await t(!1)}function $d(e,t){const n=Na(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),nf(n)?tf(n):Ef(n).Jo()&&Zd(n,t))}function Jd(e,t){const n=Na(e),r=Ef(n);n.C_.delete(t),r.Jo()&&ef(n,t),0===n.C_.size&&(r.Jo()?r.Xo():rf(n)&&n.x_.set("Unknown"))}function Zd(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Xa.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ef(e).c_(t)}function ef(e,t){e.O_.Oe(t),Ef(e).l_(t)}function tf(e){e.O_=new ph({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Ef(e).start(),e.x_.p_()}function nf(e){return rf(e)&&!Ef(e).Ho()&&e.C_.size>0}function rf(e){return 0===Na(e).v_.size}function of(e){e.O_=void 0}async function sf(e){e.C_.forEach(((t,n)=>{Zd(e,t)}))}async function af(e,t){of(e),nf(e)?(e.x_.S_(t),tf(e)):e.x_.set("Unknown")}async function lf(e,t,n){if(e.x_.set("Online"),t instanceof dh&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){Ca("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await cf(e,n)}else if(t instanceof uh?e.O_.$e(t):t instanceof hh?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Xa.min()))try{const t=await xd(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(Fl.EMPTY_BYTE_STRING,r.snapshotVersion)),ef(e,t);const i=new Yh(r.target,t,n,r.sequenceNumber);Zd(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ca("RemoteStore","Failed to raise snapshot:",t),await cf(e,t)}}async function cf(e,t,n){if(!ml(t))throw t;e.v_.add(1),await Xd(e),e.x_.set("Offline"),n||(n=()=>xd(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Ca("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await Yd(e)}))}function uf(e,t){return t().catch((n=>cf(e,n,t)))}async function hf(e){const t=Na(e),n=xf(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;df(t);)try{const e=await kd(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,ff(t,e)}catch(e){await cf(t,e)}pf(t)&&mf(t)}function df(e){return rf(e)&&e.D_.length<10}function ff(e,t){e.D_.push(t);const n=xf(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function pf(e){return rf(e)&&!xf(e).Ho()&&e.D_.length>0}function mf(e){xf(e).start()}async function gf(e){xf(e).d_()}async function vf(e){const t=xf(e);for(const n of e.D_)t.I_(n.mutations)}async function yf(e,t,n){const r=e.D_.shift(),i=Qu.from(r,t,n);await uf(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await hf(e)}async function bf(e,t){t&&xf(e).P_&&await async function(e,t){if(function(e){return Zu(e)&&e!==La.ABORTED}(t.code)){const n=e.D_.shift();xf(e).Zo(),await uf(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await hf(e)}}(e,t),pf(e)&&mf(e)}async function wf(e,t){const n=Na(e);n.asyncQueue.verifyOperationInProgress(),Ca("RemoteStore","RemoteStore received new credentials");const r=rf(n);n.v_.add(3),await Xd(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await Yd(n)}async function Sf(e,t){const n=Na(e);t?(n.v_.delete(2),await Yd(n)):t||(n.v_.add(2),await Xd(n),n.x_.set("Unknown"))}function Ef(e){return e.N_||(e.N_=function(e,t,n){const r=Na(e);return r.R_(),new Wd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:sf.bind(null,e),To:af.bind(null,e),u_:lf.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),nf(e)?tf(e):e.x_.set("Unknown")):(await e.N_.stop(),of(e))}))),e.N_}function xf(e){return e.L_||(e.L_=function(e,t,n){const r=Na(e);return r.R_(),new qd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:gf.bind(null,e),To:bf.bind(null,e),E_:vf.bind(null,e),T_:yf.bind(null,e)}),e.F_.push((async t=>{t?(e.L_.Zo(),await hf(e)):(await e.L_.stop(),e.D_.length>0&&(Ca("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.L_}class Tf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new Tf(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oa(La.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kf(e,t){if(Ia("AsyncQueue","".concat(t,": ").concat(e)),ml(e))return new Oa(La.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class _f{constructor(e){this.comparator=e?(t,n)=>e(t,n)||tl.comparator(t.key,n.key):(e,t)=>tl.comparator(e.key,t.key),this.keyedMap=su(),this.sortedSet=new Al(this.comparator)}static emptySet(e){return new _f(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _f))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new _f;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Cf{constructor(){this.B_=new Al(tl.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Ra():this.B_=this.B_.insert(t,e)}k_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class If{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new If(e,t,_f.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Pf{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some((e=>e.U_()))}}class Af{constructor(){this.queries=new nu((e=>Xc(e)),Yc),this.onlineState="Unknown",this.W_=new Set}}async function Rf(e,t){const n=Na(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.K_()&&t.U_()&&(r=2):(o=new Pf,r=t.U_()?0:1);try{switch(r){case 0:o.q_=await n.onListen(i,!0);break;case 1:o.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=kf(e,"Initialization of query '".concat($c(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.Q_.push(t),t.G_(n.onlineState),o.q_&&t.z_(o.q_)&&Of(n)}async function Df(e,t){const n=Na(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.Q_.indexOf(t);e>=0&&(o.Q_.splice(e,1),0===o.Q_.length?i=t.U_()?0:1:!o.K_()&&t.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Nf(e,t){const n=Na(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.z_(i)&&(r=!0);t.q_=i}}r&&Of(n)}function Lf(e,t,n){const r=Na(e),i=r.queries.get(t);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(t)}function Of(e){e.W_.forEach((e=>{e.next()}))}var Mf,Ff;(Ff=Mf||(Mf={})).j_="default",Ff.Cache="cache";class jf{constructor(e,t,n){this.query=e,this.H_=t,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=n||{}}z_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new If(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),t=!0):this.X_(e,this.onlineState)&&(this.ea(e),t=!0),this.Y_=e,t}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let t=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),t=!0),t}X_(e,t){if(!e.fromCache)return!0;if(!this.U_())return!0;const n="Offline"!==t;return(!this.options.ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Z_(e){if(e.docChanges.length>0)return!0;const t=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ea(e){e=If.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Mf.Cache}}class Vf{constructor(e){this.key=e}}class Uf{constructor(e){this.key=e}}class Bf{constructor(e,t){this.query=e,this.ua=t,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=fu(),this.mutatedKeys=fu(),this.ha=eu(e),this.Pa=new _f(this.ha)}get Ia(){return this.ua}Ta(e,t){const n=t?t.Ea:new Cf,r=t?t.Pa:this.Pa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Jc(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.da(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.ha(u,a)>0||l&&this.ha(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Pa:o,Ea:n,Xi:s,mutatedKeys:i}}da(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ra()}};return n(e)-n(t)}(e.type,t.type)||this.ha(e.doc,t.doc))),this.Aa(n),r=null!=r&&r;const s=t&&!r?this.Ra():[],a=0===this.la.size&&this.current&&!r?1:0,l=a!==this.ca;return this.ca=a,0!==o.length||l?{snapshot:new If(this.query,e.Pa,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Va:s}:{Va:s}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new Cf,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach((e=>this.ua=this.ua.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ua=this.ua.delete(e))),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=fu(),this.Pa.forEach((e=>{this.ma(e.key)&&(this.la=this.la.add(e.key))}));const t=[];return e.forEach((e=>{this.la.has(e)||t.push(new Uf(e))})),this.la.forEach((n=>{e.has(n)||t.push(new Vf(n))})),t}fa(e){this.ua=e.hs,this.la=fu();const t=this.Ta(e.documents);return this.applyChanges(t,!0)}ga(){return If.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class zf{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Hf{constructor(e){this.key=e,this.pa=!1}}class Wf{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new nu((e=>Xc(e)),Yc),this.Sa=new Map,this.ba=new Set,this.Da=new Al(tl.comparator),this.Ca=new Map,this.va=new ld,this.Fa={},this.Ma=new Map,this.xa=nd.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}async function qf(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=dp(e);let i;const o=r.wa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ga()):i=await Gf(r,t,n,!0),i}async function Kf(e,t){const n=dp(e);await Gf(n,t,!0,!1)}async function Gf(e,t,n,r){const i=await _d(e.localStore,qc(t)),o=i.targetId,s=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await Qf(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&$d(e.remoteStore,i),a}async function Qf(e,t,n,r,i){e.Na=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ta(n);i.Xi&&(i=await Id(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ta(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return sp(e,t.targetId,a.Va),a.snapshot}(e,t,n,r);const o=await Id(e.localStore,t,!0),s=new Bf(t,o.hs),a=s.Ta(o.documents),l=ch.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);sp(e,n,c.Va);const u=new zf(t,n,s);return e.wa.set(t,u),e.Sa.has(n)?e.Sa.get(n).push(t):e.Sa.set(n,[t]),c.snapshot}async function Yf(e,t,n){const r=Na(e),i=r.wa.get(t),o=r.Sa.get(i.targetId);if(o.length>1)return r.Sa.set(i.targetId,o.filter((e=>!Yc(e,t)))),void r.wa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Cd(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Jd(r.remoteStore,i.targetId),ip(r,i.targetId)})).catch(cl)):(ip(r,i.targetId),await Cd(r.localStore,i.targetId,!0))}async function Xf(e,t){const n=Na(e),r=n.wa.get(t),i=n.Sa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jd(n.remoteStore,r.targetId))}async function $f(e,t){const n=Na(e);try{const e=await function(e,t){const n=Na(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Fl.EMPTY_BYTE_STRING,Xa.min()).withLastLimboFreeSnapshotVersion(Xa.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.Qr.updateTargetData(e,c))}));let a=iu(),l=fu();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Td(e,o,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(Xa.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return ul.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ca.get(t);r&&(Da(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.pa=!0:e.modifiedDocuments.size>0?Da(r.pa):e.removedDocuments.size>0&&(Da(r.pa),r.pa=!1))})),await cp(n,e,t)}catch(e){await cl(e)}}function Jf(e,t,n){const r=Na(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wa.forEach(((n,r)=>{const i=r.view.G_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Na(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.G_(t)&&(r=!0)})),r&&Of(n)}(r.eventManager,t),e.length&&r.ya.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Zf(e,t,n){const r=Na(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ca.get(t),o=i&&i.key;if(o){let e=new Al(tl.comparator);e=e.insert(o,hc.newNoDocument(o,Xa.min()));const n=fu().add(o),i=new lh(Xa.min(),new Map,new Al(Ga),e,n);await $f(r,i),r.Da=r.Da.remove(o),r.Ca.delete(t),lp(r)}else await Cd(r.localStore,t,!1).then((()=>ip(r,t,n))).catch(cl)}async function ep(e,t){const n=Na(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Na(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=ul.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Da(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=fu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);rp(n,r,null),np(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cp(n,e)}catch(e){await cl(e)}}async function tp(e,t,n){const r=Na(e);try{const e=await function(e,t){const n=Na(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Da(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);rp(r,t,n),np(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await cp(r,e)}catch(n){await cl(n)}}function np(e,t){(e.Ma.get(t)||[]).forEach((e=>{e.resolve()})),e.Ma.delete(t)}function rp(e,t,n){const r=Na(e);let i=r.Fa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Fa[r.currentUser.toKey()]=i}}function ip(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Sa.get(t))e.wa.delete(r),n&&e.ya.La(r,n);e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach((t=>{e.va.containsKey(t)||op(e,t)}))}function op(e,t){e.ba.delete(t.path.canonicalString());const n=e.Da.get(t);null!==n&&(Jd(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),lp(e))}function sp(e,t,n){for(const r of n)r instanceof Vf?(e.va.addReference(r.key,t),ap(e,r)):r instanceof Uf?(Ca("SyncEngine","Document no longer in limbo: "+r.key),e.va.removeReference(r.key,t),e.va.containsKey(r.key)||op(e,r.key)):Ra()}function ap(e,t){const n=t.key,r=n.path.canonicalString();e.Da.get(n)||e.ba.has(r)||(Ca("SyncEngine","New document in limbo: "+n),e.ba.add(r),lp(e))}function lp(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){const t=e.ba.values().next().value;e.ba.delete(t);const n=new tl(Ja.fromString(t)),r=e.xa.next();e.Ca.set(r,new Hf(n)),e.Da=e.Da.insert(n,r),$d(e.remoteStore,new Yh(qc(Bc(n.path)),r,"TargetPurposeLimboResolution",wl._e))}}async function cp(e,t,n){const r=Na(e),i=[],o=[],s=[];r.wa.isEmpty()||(r.wa.forEach(((e,a)=>{s.push(r.Na(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=vd.Ki(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.ya.u_(i),await async function(e,t){const n=Na(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ul.forEach(t,(t=>ul.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>ul.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!ml(e))throw e;Ca("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,o))}async function up(e,t){const n=Na(e);if(!n.currentUser.isEqual(t)){Ca("SyncEngine","User change. New user:",t.toKey());const e=await Ed(n.localStore,t);n.currentUser=t,function(e,t){e.Ma.forEach((e=>{e.forEach((e=>{e.reject(new Oa(La.CANCELLED,t))}))})),e.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await cp(n,e.us)}}function hp(e,t){const n=Na(e),r=n.Ca.get(t);if(r&&r.pa)return fu().add(r.key);{let e=fu();const r=n.Sa.get(t);if(!r)return e;for(const t of r){const r=n.wa.get(t);e=e.unionWith(r.view.Ia)}return e}}function dp(e){const t=Na(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=$f.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zf.bind(null,t),t.ya.u_=Nf.bind(null,t.eventManager),t.ya.La=Lf.bind(null,t.eventManager),t}function fp(e){const t=Na(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ep.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tp.bind(null,t),t}class pp{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Bd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Sd(this.persistence,new bd,e.initialUser,this.serializer)}createPersistence(e){return new pd(gd.Hr,this.serializer)}createSharedClientState(e){return new Rd}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class mp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Jf(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=up.bind(null,this.syncEngine),await Sf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Af}createDatastore(e){const t=Bd(e.databaseInfo.databaseId),n=function(e){return new Vd(e)}(e.databaseInfo);return function(e,t,n,r){return new Kd(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Qd(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Jf(this.syncEngine,e,0)),Nd.D()?new Nd:new Dd)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Wf(e,t,n,r,i,o);return s&&(a.Oa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=Na(e);Ca("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await Xd(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class gp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Ia("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class vp{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=xa.UNAUTHENTICATED,this.clientId=Ka.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Ca("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Ca("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oa(La.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=kf(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function yp(e,t){e.asyncQueue.verifyOperationInProgress(),Ca("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Ed(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function bp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Sp(e);Ca("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>wf(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>wf(t.remoteStore,n))),e._onlineComponents=t}function wp(e){return"FirebaseError"===e.name?e.code===La.FAILED_PRECONDITION||e.code===La.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Sp(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ca("FirestoreClient","Using user provided OfflineComponentProvider");try{await yp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!wp(n))throw n;Pa("Error using user provided cache. Falling back to memory cache: "+n),await yp(e,new pp)}}else Ca("FirestoreClient","Using default OfflineComponentProvider"),await yp(e,new pp);return e._offlineComponents}async function Ep(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ca("FirestoreClient","Using user provided OnlineComponentProvider"),await bp(e,e._uninitializedComponentsProvider._online)):(Ca("FirestoreClient","Using default OnlineComponentProvider"),await bp(e,new mp))),e._onlineComponents}function xp(e){return Ep(e).then((e=>e.syncEngine))}async function Tp(e){const t=await Ep(e),n=t.eventManager;return n.onListen=qf.bind(null,t.syncEngine),n.onUnlisten=Yf.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Kf.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Xf.bind(null,t.syncEngine),n}function kp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ma;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new gp({next:n=>{t.enqueueAndForget((()=>Df(e,s))),n.fromCache&&"server"===r.source?i.reject(new Oa(La.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new jf(n,o,{includeMetadataChanges:!0,ta:!0});return Rf(e,s)}(await Tp(e),e.asyncQueue,t,n,r))),r.promise}function _p(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Cp=new Map;function Ip(e,t,n){if(!n)throw new Oa(La.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Pp(e){if(!tl.isDocumentKey(e))throw new Oa(La.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ap(e){if(tl.isDocumentKey(e))throw new Oa(La.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Rp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Ra()}function Dp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Oa(La.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rp(e);throw new Oa(La.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Np{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Oa(La.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oa(La.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Oa(La.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_p(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Oa(La.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Oa(La.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Oa(La.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lp{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Np({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Oa(La.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oa(La.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Np(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ja;switch(e.type){case"firstParty":return new za(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Oa(La.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Cp.get(e);t&&(Ca("ComponentProvider","Removing Datastore"),Cp.delete(e),t.terminate())}(this),Promise.resolve()}}function Op(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=Dp(e,Lp))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&Pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=xa.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[It(JSON.stringify({alg:"none",type:"JWT"})),It(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Oa(La.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new xa(o)}e._authCredentials=new Va(new Fa(t,n))}}class Mp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Mp(this.firestore,e,this._query)}}class Fp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fp(this.firestore,e,this._key)}}class jp extends Mp{constructor(e,t,n){super(e,t,Bc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fp(this.firestore,null,new tl(e))}withConverter(e){return new jp(this.firestore,e,this._path)}}function Vp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Yt(e),Ip("collection","path",t),e instanceof Lp){const n=Ja.fromString(t,...r);return Ap(n),new jp(e,null,n)}{if(!(e instanceof Fp||e instanceof jp))throw new Oa(La.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ja.fromString(t,...r));return Ap(n),new jp(e.firestore,null,n)}}function Up(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Yt(e),1===arguments.length&&(t=Ka.newId()),Ip("doc","path",t),e instanceof Lp){const n=Ja.fromString(t,...r);return Pp(n),new Fp(e,null,new tl(n))}{if(!(e instanceof Fp||e instanceof jp))throw new Oa(La.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ja.fromString(t,...r));return Pp(n),new Fp(e.firestore,e instanceof jp?e.converter:null,new tl(n))}}class Bp{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new zd(this,"async_queue_retry"),this.cu=()=>{const e=Ud();e&&Ca("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=Ud();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const t=Ud();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise((()=>{}));const t=new Ma;return this.hu((()=>this.iu&&this.au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ru.push(e),this.Pu())))}async Pu(){if(0!==this.ru.length){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch($_){if(!ml($_))throw $_;Ca("AsyncQueue","Operation failed with retryable error: "+$_)}this.ru.length>0&&this.jo.qo((()=>this.Pu()))}}hu(e){const t=this.nu.then((()=>(this._u=!0,e().catch((e=>{this.ou=e,this._u=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ia("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this._u=!1,e))))));return this.nu=t,t}enqueueAfterDelay(e,t,n){this.lu(),this.uu.indexOf(e)>-1&&(t=0);const r=Tf.createAndSchedule(this,e,t,n,(e=>this.Iu(e)));return this.su.push(r),r}lu(){this.ou&&Ra()}verifyOperationInProgress(){}async Tu(){let e;do{e=this.nu,await e}while(e!==this.nu)}Eu(e){for(const t of this.su)if(t.timerId===e)return!0;return!1}du(e){return this.Tu().then((()=>{this.su.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.su)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tu()}))}Au(e){this.uu.push(e)}Iu(e){const t=this.su.indexOf(e);this.su.splice(t,1)}}class zp extends Lp{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Bp,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Wp(this),this._firestoreClient.terminate()}}function Hp(e){return e._firestoreClient||Wp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Wp(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new ql(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,_p(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new vp(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class qp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qp(Fl.fromBase64String(e))}catch(e){throw new Oa(La.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new qp(Fl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Kp{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Oa(La.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new el(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gp{constructor(e){this._methodName=e}}class Qp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oa(La.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oa(La.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ga(this._lat,e._lat)||Ga(this._long,e._long)}}const Yp=/^__.*__$/;class Xp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Bu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uu(e,this.data,t,this.fieldTransforms)}}class $p{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Bu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Jp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ra()}}class Zp{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Zp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.pu(e),r}yu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.Ru(),r}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return pm(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(Jp(this.Vu)&&Yp.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class em{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Bd(e)}Cu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Zp({Vu:e,methodName:t,Du:n,path:el.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tm(e){const t=e._freezeSettings(),n=Bd(e._databaseId);return new em(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nm(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cu(o.merge||o.mergeFields?2:0,t,n,i);um("Data must be an object, but it was:",s,r);const a=lm(r,s);let l,c;if(o.merge)l=new Ol(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=hm(t,r,n);if(!s.contains(i))throw new Oa(La.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));mm(e,i)||e.push(i)}l=new Ol(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new Xp(new cc(a),l,c)}class rm extends Gp{_toFieldTransform(e){if(2!==e.Vu)throw 1===e.Vu?e.Su("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Su("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rm}}function im(e,t,n,r){const i=e.Cu(1,t,n);um("Data must be an object, but it was:",i,r);const o=[],s=cc.empty();Il(r,((e,r)=>{const a=fm(t,e,n);r=Yt(r);const l=i.yu(a);if(r instanceof rm)o.push(a);else{const e=am(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Ol(o);return new $p(s,a,i.fieldTransforms)}function om(e,t,n,r,i,o){const s=e.Cu(1,t,n),a=[hm(t,r,n)],l=[i];if(o.length%2!=0)throw new Oa(La.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<o.length;d+=2)a.push(hm(t,o[d])),l.push(o[d+1]);const c=[],u=cc.empty();for(let d=a.length-1;d>=0;--d)if(!mm(c,a[d])){const e=a[d];let t=l[d];t=Yt(t);const n=s.yu(e);if(t instanceof rm)c.push(e);else{const r=am(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Ol(c);return new $p(u,h,s.fieldTransforms)}function sm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return am(n,e.Cu(r?4:3,t))}function am(e,t){if(cm(e=Yt(e)))return um("Unsupported field value:",t,e),lm(e,t);if(e instanceof Gp)return function(e,t){if(!Jp(t.Vu))throw t.Su("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Su("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&4!==t.Vu)throw t.Su("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=am(i,t.wu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Yt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return yu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ya.fromDate(e);return{timestampValue:Eh(t.serializer,n)}}if(e instanceof Ya){const n=new Ya(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Eh(t.serializer,n)}}if(e instanceof Qp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof qp)return{bytesValue:xh(t.serializer,e._byteString)};if(e instanceof Fp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Su("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:_h(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Su("Unsupported field value: ".concat(Rp(e)))}(e,t)}function lm(e,t){const n={};return Pl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Il(e,((e,r)=>{const i=am(r,t.fu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function cm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ya||e instanceof Qp||e instanceof qp||e instanceof Fp||e instanceof Gp)}function um(e,t,n){if(!cm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Rp(n);throw"an object"===r?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function hm(e,t,n){if((t=Yt(t))instanceof Kp)return t._internalPath;if("string"==typeof t)return fm(e,t);throw pm("Field path arguments must be of type string or ",e,!1,void 0,n)}const dm=new RegExp("[~\\*/\\[\\]]");function fm(e,t,n){if(t.search(dm)>=0)throw pm("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Kp(...t.split("."))._internalPath}catch(mr){throw pm("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function pm(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new Oa(La.INVALID_ARGUMENT,a+e+l)}function mm(e,t){return e.some((e=>e.isEqual(t)))}class gm{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Fp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ym("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class vm extends gm{data(){return super.data()}}function ym(e,t){return"string"==typeof t?fm(e,t):t instanceof Kp?t._internalPath:t._delegate._internalPath}function bm(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Oa(La.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wm{}class Sm extends wm{}function Em(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof wm&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof km)).length,n=e.filter((e=>e instanceof xm)).length;if(t>1||t>0&&n>0)throw new Oa(La.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class xm extends Sm{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new xm(e,t,n)}_apply(e){const t=this._parse(e);return Im(e._query,t),new Mp(e.firestore,e.converter,Gc(e._query,t))}_parse(e){const t=tm(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Oa(La.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Cm(s,o);const t=[];for(const n of s)t.push(_m(r,e,n));a={arrayValue:{values:t}}}else a=_m(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Cm(s,o),a=sm(n,t,s,"in"===o||"not-in"===o);return yc.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Tm(e,t,n){const r=t,i=ym("where",e);return xm._create(i,r,n)}class km extends wm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new km(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:bc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Im(n,i),n=Gc(n,i)}(e._query,t),new Mp(e.firestore,e.converter,Gc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function _m(e,t,n){if("string"==typeof(n=Yt(n))){if(""===n)throw new Oa(La.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hc(t)&&-1!==n.indexOf("/"))throw new Oa(La.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Ja.fromString(n));if(!tl.isDocumentKey(r))throw new Oa(La.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return tc(e,new tl(r))}if(n instanceof Fp)return tc(e,n._key);throw new Oa(La.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Rp(n),"."))}function Cm(e,t){if(!Array.isArray(e)||0===e.length)throw new Oa(La.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Im(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Oa(La.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Oa(La.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Pm{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ql(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ul(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ra()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Il(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Qp(Ul(e.latitude),Ul(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Hl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const t=Vl(e);return new Ya(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ja.fromString(e);Da(Qh(n));const r=new Kl(n.get(1),n.get(3)),i=new tl(n.popFirst(5));return r.isEqual(t)||Ia("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Am(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Rm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dm extends gm{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Nm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ym("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Nm extends Dm{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Lm{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Rm(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Nm(this._firestore,this._userDataWriter,n.key,n,new Rm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Oa(La.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Nm(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Rm(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Nm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Rm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Om(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Om(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ra()}}class Mm extends Pm{constructor(e){super(),this.firestore=e}convertBytes(e){return new qp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fp(this.firestore,null,t)}}function Fm(e){e=Dp(e,Mp);const t=Dp(e.firestore,zp),n=Hp(t),r=new Mm(t);return bm(e._query),kp(n,e._query).then((n=>new Lm(t,r,e,n)))}function jm(e,t,n){e=Dp(e,Fp);const r=Dp(e.firestore,zp),i=tm(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=Yt(t))||t instanceof Kp?om(i,"updateDoc",e._key,t,n,a):im(i,"updateDoc",e._key,t),Bm(r,[o.toMutation(e._key,Du.exists(!0))])}function Vm(e){return Bm(Dp(e.firestore,zp),[new qu(e._key,Du.none())])}function Um(e,t){const n=Dp(e.firestore,zp),r=Up(e),i=Am(e.converter,t);return Bm(n,[nm(tm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Du.exists(!1))]).then((()=>r))}function Bm(e,t){return function(e,t){const n=new Ma;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=fp(e);try{const e=await function(e,t){const n=Na(e),r=Ya.now(),i=t.reduce(((e,t)=>e.add(t.key)),fu());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=iu(),l=fu();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=ju(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Bu(e.key,t,uc(t.value.mapValue),Du.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:au(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Fa[e.currentUser.toKey()];r||(r=new Al(Ga)),r=r.insert(t,n),e.Fa[e.currentUser.toKey()]=r}(r,e.batchId,n),await cp(r,e.changes),await hf(r.remoteStore)}catch(e){const t=kf(e,"Failed to persist write");n.reject(t)}}(await xp(e),t,n))),n.promise}(Hp(e),t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ta=e}(Un),On(new Xt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new zp(new Ua(e.getProvider("auth-internal")),new Wa(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Oa(La.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),Hn(Ea,"4.6.0",e),Hn(Ea,"4.6.0","esm2017")}();function zm(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Hm(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Wm=Hm,qm=new Ut("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Km=new an("@firebase/auth");function Gm(e){if(Km.logLevel<=tn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Km.error("Auth (".concat(Un,"): ").concat(e),...n)}}function Qm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Jm(e,...n)}function Ym(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Jm(e,...n)}function Xm(e,t,n){const r=Object.assign(Object.assign({},Wm()),{[t]:n});return new Ut("auth","Firebase",r).create(t,{appName:e.name})}function $m(e){return Xm(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return qm.create(e,...n)}function Zm(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Jm(t,...r)}}function eg(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Gm(t),new Error(t)}function tg(e,t){e||eg(t)}function ng(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function rg(){return"http:"===ig()||"https:"===ig()}function ig(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function og(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(rg()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class sg{constructor(e,t){this.shortDelay=e,this.longDelay=t,tg(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return og()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ag(e,t){tg(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class lg{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void eg("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void eg("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void eg("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cg={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ug=new sg(3e4,6e4);function hg(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function dg(e,t,n,r){return fg(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=Wt(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),lg.fetch()(mg(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function fg(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},cg),t);try{const t=new vg(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw yg(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw yg(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw yg(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw yg(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Xm(e,a,s);Qm(e,a)}}catch($_){if($_ instanceof Vt)throw $_;Qm(e,"network-request-failed",{message:String($_)})}}async function pg(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await dg(e,t,n,r,i);return"mfaPendingCredential"in o&&Qm(e,"multi-factor-auth-required",{_serverResponse:o}),o}function mg(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ag(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function gg(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vg{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Ym(this.auth,"network-request-failed"))),ug.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function yg(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ym(e,t,r);return i.customData._tokenResponse=n,i}function bg(e){return void 0!==e&&void 0!==e.enterprise}class wg{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return gg(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Sg(e,t){return dg(e,"GET","/v2/recaptchaConfig",hg(e,t))}async function Eg(e,t){return dg(e,"POST","/v1/accounts:lookup",t)}function xg(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch($_){}}function Tg(e){return 1e3*Number(e)}function kg(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Gm("JWT malformed, contained fewer than 3 sections"),null;try{const e=Pt(n);return e?JSON.parse(e):(Gm("Failed to decode base64 JWT payload"),null)}catch($_){return Gm("Caught error parsing JWT payload as JSON",null===$_||void 0===$_?void 0:$_.toString()),null}}function _g(e){const t=kg(e);return Zm(t,"internal-error"),Zm("undefined"!==typeof t.exp,"internal-error"),Zm("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Cg(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch($_){throw $_ instanceof Vt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}($_)&&e.auth.currentUser===e&&await e.auth.signOut(),$_}}class Ig{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch($_){return void((null===$_||void 0===$_?void 0:$_.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Pg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xg(this.lastLoginAt),this.creationTime=xg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ag(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Cg(e,Eg(n,{idToken:r}));Zm(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?Rg(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Pg(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function Rg(e){return e.map((e=>{var{providerId:t}=e,n=zm(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Dg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Zm(e.idToken,"internal-error"),Zm("undefined"!==typeof e.idToken,"internal-error"),Zm("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):_g(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Zm(0!==e.length,"internal-error");const t=_g(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Zm(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await fg(e,{},(async()=>{const n=Wt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=mg(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",lg.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Dg;return n&&(Zm("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Zm("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Zm("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dg,this.toJSON())}_performRefresh(){return eg("not implemented")}}function Ng(e,t){Zm("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Lg{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=zm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ig(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Pg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Cg(this,this.stsTokenManager.getToken(this.auth,e));return Zm(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Yt(e),r=await n.getIdToken(t),i=kg(r);Zm(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:xg(Tg(i.auth_time)),issuedAtTime:xg(Tg(i.iat)),expirationTime:xg(Tg(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Yt(e);await Ag(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Zm(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Lg(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Zm(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ag(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject($m(this.auth));const e=await this.getIdToken();return await Cg(this,async function(e,t){return dg(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:S,stsTokenManager:E}=t;Zm(y&&E,e,"internal-error");const x=Dg.fromJSON(this.name,E);Zm("string"===typeof y,e,"internal-error"),Ng(u,e.name),Ng(h,e.name),Zm("boolean"===typeof b,e,"internal-error"),Zm("boolean"===typeof w,e,"internal-error"),Ng(d,e.name),Ng(f,e.name),Ng(p,e.name),Ng(m,e.name),Ng(g,e.name),Ng(v,e.name);const T=new Lg({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:x,createdAt:g,lastLoginAt:v});return S&&Array.isArray(S)&&(T.providerData=S.map((e=>Object.assign({},e)))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Dg;r.updateFromServerResponse(t);const i=new Lg({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Ag(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Zm(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Rg(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new Dg;s.updateFromIdToken(n);const a=new Lg({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Pg(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const Og=new Map;function Mg(e){tg(e instanceof Function,"Expected a class definition");let t=Og.get(e);return t?(tg(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Og.set(e,t),t)}class Fg{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Fg.type="NONE";const jg=Fg;function Vg(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Ug{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Vg(this.userKey,r.apiKey,i),this.fullPersistenceKey=Vg("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Lg._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Ug(Mg(jg),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Mg(jg);const o=Vg(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=Lg._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new Ug(i,e,n)):new Ug(i,e,n)}}function Bg(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(qg(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zg(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Gg(t))return"Blackberry";if(Qg(t))return"Webos";if(Hg(t))return"Safari";if((t.includes("chrome/")||Wg(t))&&!t.includes("edge/"))return"Chrome";if(Kg(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function zg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/firefox\//i.test(e)}function Hg(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/crios\//i.test(e)}function qg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/iemobile/i.test(e)}function Kg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/android/i.test(e)}function Gg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/blackberry/i.test(e)}function Qg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/webos/i.test(e)}function Yg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Xg(){return function(){const e=Mt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function $g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return Yg(e)||Kg(e)||Qg(e)||Gg(e)||/windows phone/i.test(e)||qg(e)}function Jg(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Bg(Mt());break;case"Worker":t="".concat(Bg(Mt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Un,"/").concat(r)}class Zg{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch($_){r($_)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch($_){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===$_||void 0===$_?void 0:$_.message})}}}class ev{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class tv{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rv(this),this.idTokenSubscription=new rv(this),this.beforeStateQueue=new Zg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qm,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mg(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Ug.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch($_){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Eg(this,{idToken:e}),n=await Lg._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Fn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch($_){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject($_)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Zm(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch($_){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ag(e)}catch($_){if((null===$_||void 0===$_?void 0:$_.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject($m(this));const t=e?Yt(e):null;return t&&Zm(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Zm(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Fn(this.app)?Promise.reject($m(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject($m(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Mg(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return dg(e,"GET","/v2/passwordPolicy",hg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ev(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ut("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return dg(e,"POST","/v2/accounts:revokeToken",hg(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Mg(e)||this._popupRedirectResolver;Zm(t,this,"argument-error"),this.redirectPersistenceManager=await Ug.create(this,[Mg(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Zm(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Zm(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jg(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Km.logLevel<=tn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Km.warn("Auth (".concat(Un,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function nv(e){return Yt(e)}class rv{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Gt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Zm(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let iv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ov(e){return iv.loadJS(e)}function sv(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class av{constructor(e){this.type="recaptcha-enterprise",this.auth=nv(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;bg(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Sg(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new wg(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&bg(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=iv.recaptchaEnterpriseScript;0!==t.length&&(t+=i),ov(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function lv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new av(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function cv(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await lv(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await lv(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function uv(e,t,n){const r=nv(e);Zm(r._canInitEmulator,r,"emulator-config-failed"),Zm(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=hv(t),{host:s,port:a}=function(e){const t=hv(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:dv(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:dv(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function hv(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function dv(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class fv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return eg("not implemented")}_getIdTokenResponse(e){return eg("not implemented")}_linkToIdToken(e,t){return eg("not implemented")}_getReauthenticationResolver(e){return eg("not implemented")}}async function pv(e,t){return dg(e,"POST","/v1/accounts:signUp",t)}async function mv(e,t){return pg(e,"POST","/v1/accounts:signInWithPassword",hg(e,t))}async function gv(e,t){return dg(e,"POST","/v1/accounts:sendOobCode",hg(e,t))}async function vv(e,t){return gv(e,t)}class yv extends fv{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new yv(e,t,"password")}static _fromEmailAndCode(e,t){return new yv(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return cv(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",mv);case"emailLink":return async function(e,t){return pg(e,"POST","/v1/accounts:signInWithEmailLink",hg(e,t))}(e,{email:this._email,oobCode:this._password});default:Qm(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return cv(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pv);case"emailLink":return async function(e,t){return pg(e,"POST","/v1/accounts:signInWithEmailLink",hg(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Qm(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function bv(e,t){return pg(e,"POST","/v1/accounts:signInWithIdp",hg(e,t))}class wv extends fv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wv(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qm("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=zm(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new wv(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return bv(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,bv(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bv(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wt(t)}return e}}const Sv={USER_NOT_FOUND:"user-not-found"};class Ev extends fv{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ev({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ev({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return pg(e,"POST","/v1/accounts:signInWithPhoneNumber",hg(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await pg(e,"POST","/v1/accounts:signInWithPhoneNumber",hg(e,t));if(n.temporaryProof)throw yg(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return pg(e,"POST","/v1/accounts:signInWithPhoneNumber",hg(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Sv)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ev({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class xv{constructor(e){var t,n,r,i,o,s;const a=qt(Kt(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Zm(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=qt(Kt(e)).link,n=t?qt(Kt(t)).deep_link_id:null,r=qt(Kt(e)).deep_link_id;return(r?qt(Kt(r)).link:null)||r||n||t||e}(e);try{return new xv(t)}catch(n){return null}}}class Tv{constructor(){this.providerId=Tv.PROVIDER_ID}static credential(e,t){return yv._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=xv.parseLink(t);return Zm(n,"argument-error"),yv._fromEmailAndCode(e,n.code,n.tenantId)}}Tv.PROVIDER_ID="password",Tv.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Tv.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class kv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _v extends kv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Cv extends _v{constructor(){super("facebook.com")}static credential(e){return wv._fromParams({providerId:Cv.PROVIDER_ID,signInMethod:Cv.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cv.credentialFromTaggedObject(e)}static credentialFromError(e){return Cv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Cv.credential(t.oauthAccessToken)}catch(n){return null}}}Cv.FACEBOOK_SIGN_IN_METHOD="facebook.com",Cv.PROVIDER_ID="facebook.com";class Iv extends _v{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wv._fromParams({providerId:Iv.PROVIDER_ID,signInMethod:Iv.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Iv.credentialFromTaggedObject(e)}static credentialFromError(e){return Iv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Iv.credential(n,r)}catch(i){return null}}}Iv.GOOGLE_SIGN_IN_METHOD="google.com",Iv.PROVIDER_ID="google.com";class Pv extends _v{constructor(){super("github.com")}static credential(e){return wv._fromParams({providerId:Pv.PROVIDER_ID,signInMethod:Pv.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pv.credentialFromTaggedObject(e)}static credentialFromError(e){return Pv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Pv.credential(t.oauthAccessToken)}catch(n){return null}}}Pv.GITHUB_SIGN_IN_METHOD="github.com",Pv.PROVIDER_ID="github.com";class Av extends _v{constructor(){super("twitter.com")}static credential(e,t){return wv._fromParams({providerId:Av.PROVIDER_ID,signInMethod:Av.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Av.credentialFromTaggedObject(e)}static credentialFromError(e){return Av.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Av.credential(n,r)}catch(i){return null}}}async function Rv(e,t){return pg(e,"POST","/v1/accounts:signUp",hg(e,t))}Av.TWITTER_SIGN_IN_METHOD="twitter.com",Av.PROVIDER_ID="twitter.com";class Dv{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Lg._fromIdTokenResponse(e,n,r),o=Nv(n);return new Dv({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Nv(n);return new Dv({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Nv(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Lv extends Vt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Lv.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Lv(e,t,n,r)}}function Ov(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Lv._fromErrorAndOperation(e,n,t,r);throw n}))}async function Mv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Cg(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Dv._forOperation(e,"link",r)}async function Fv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Fn(r.app))return Promise.reject($m(r));const i="reauthenticate";try{const o=await Cg(e,Ov(r,i,t,e),n);Zm(o.idToken,r,"internal-error");const s=kg(o.idToken);Zm(s,r,"internal-error");const{sub:a}=s;return Zm(e.uid===a,r,"user-mismatch"),Dv._forOperation(e,i,o)}catch($_){throw(null===$_||void 0===$_?void 0:$_.code)==="auth/".concat("user-not-found")&&Qm(r,"user-mismatch"),$_}}async function jv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Fn(e.app))return Promise.reject($m(e));const r="signIn",i=await Ov(e,r,t),o=await Dv._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Vv(e,t){return jv(nv(e),t)}function Uv(e,t,n){var r;Zm((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Zm("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Zm(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Zm(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Bv(e){const t=nv(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function zv(e,t){const n=Yt(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Uv(n.auth,r,t);const{email:i}=await async function(e,t){return gv(e,t)}(n.auth,r);i!==e.email&&await e.reload()}new WeakMap;const Hv="__sak";class Wv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hv,"1"),this.storage.removeItem(Hv),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class qv extends Wv{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Mt();return Hg(e)||Yg(e)}()&&function(){try{return!(!window||window===window.top)}catch($_){return!1}}(),this.fallbackToPolling=$g(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Xg()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}qv.type="LOCAL";const Kv=qv;class Gv extends Wv{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Gv.type="SESSION";const Qv=Gv;class Yv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Yv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Xv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Yv.receivers=[];class $v{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=Xv("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Jv(){return window}function Zv(){return"undefined"!==typeof Jv().WorkerGlobalScope&&"function"===typeof Jv().importScripts}const ey="firebaseLocalStorageDb",ty="firebaseLocalStorage",ny="fbase_key";class ry{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function iy(e,t){return e.transaction([ty],t?"readwrite":"readonly").objectStore(ty)}function oy(){const e=indexedDB.open(ey,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(ty,{keyPath:ny})}catch($_){n($_)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(ty)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ey);return new ry(e).toPromise()}(),t(await oy()))}))}))}async function sy(e,t,n){const r=iy(e,!0).put({[ny]:t,value:n});return new ry(r).toPromise()}function ay(e,t){const n=iy(e,!0).delete(t);return new ry(n).toPromise()}class ly{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await oy()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch($_){if(t++>3)throw $_;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yv._getInstance(Zv()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new $v(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await oy();return await sy(e,Hv,"1"),await ay(e,Hv),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>sy(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=iy(e,!1).get(t),r=await new ry(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>ay(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=iy(e,!1).getAll();return new ry(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ly.type="LOCAL";const cy=ly;sv("rcb"),new sg(3e4,6e4);const uy="recaptcha";async function hy(e,t,n){var r;const i=await n.verify();try{let o;if(Zm("string"===typeof i,e,"argument-error"),Zm(n.type===uy,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Zm("enroll"===t.type,e,"internal-error");const n=await function(e,t){return dg(e,"POST","/v2/accounts/mfaEnrollment:start",hg(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Zm("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Zm(n,e,"missing-multi-factor-info");const s=await function(e,t){return dg(e,"POST","/v2/accounts/mfaSignIn:start",hg(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return dg(e,"POST","/v1/accounts:sendVerificationCode",hg(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class dy{constructor(e){this.providerId=dy.PROVIDER_ID,this.auth=nv(e)}verifyPhoneNumber(e,t){return hy(this.auth,e,Yt(t))}static credential(e,t){return Ev._fromVerification(e,t)}static credentialFromResult(e){const t=e;return dy.credentialFromTaggedObject(t)}static credentialFromError(e){return dy.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ev._fromTokenResponse(n,r):null}}function fy(e,t){return t?Mg(t):(Zm(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}dy.PROVIDER_ID="phone",dy.PHONE_SIGN_IN_METHOD="phone";class py extends fv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bv(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function my(e){return jv(e.auth,new py(e),e.bypassAuthState)}function gy(e){const{auth:t,user:n}=e;return Zm(n,t,"internal-error"),Fv(n,new py(e),e.bypassAuthState)}async function vy(e){const{auth:t,user:n}=e;return Zm(n,t,"internal-error"),Mv(n,new py(e),e.bypassAuthState)}class yy{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch($_){this.reject($_)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch($_){this.reject($_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return my;case"linkViaPopup":case"linkViaRedirect":return vy;case"reauthViaPopup":case"reauthViaRedirect":return gy;default:Qm(this.auth,"internal-error")}}resolve(e){tg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const by=new sg(2e3,1e4);class wy extends yy{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,wy.currentPopupAction&&wy.currentPopupAction.cancel(),wy.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Zm(e,this.auth,"internal-error"),e}async onExecution(){tg(1===this.filter.length,"Popup operations only handle one event");const e=Xv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Ym(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ym(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wy.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ym(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,by.get())};e()}}wy.currentPopupAction=null;const Sy="pendingRedirect",Ey=new Map;class xy extends yy{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ey.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=_y(t),r=ky(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch($_){e=()=>Promise.reject($_)}Ey.set(this.auth._key(),e)}return this.bypassAuthState||Ey.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ty(e,t){Ey.set(e._key(),t)}function ky(e){return Mg(e._redirectPersistence)}function _y(e){return Vg(Sy,e.config.apiKey,e.name)}async function Cy(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Fn(e.app))return Promise.reject($m(e));const r=nv(e),i=fy(r,t),o=new xy(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Iy{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ay(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ay(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ym(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Py(e))}saveEventToCache(e){this.cachedEventUids.add(Py(e)),this.lastProcessedEventTime=Date.now()}}function Py(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ay(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Ry=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dy=/^https?/;async function Ny(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return dg(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Ly(r))return}catch(n){}Qm(e,"unauthorized-domain")}function Ly(e){const t=ng(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Dy.test(n))return!1;if(Ry.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Oy=new sg(3e4,6e4);function My(){const e=Jv().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Fy(e){return new Promise(((t,n)=>{var r,i,o;function s(){My(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{My(),n(Ym(e,"network-request-failed"))},timeout:Oy.get()})}if(null===(i=null===(r=Jv().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Jv().gapi)||void 0===o?void 0:o.load)){const t=sv("iframefcb");return Jv()[t]=()=>{gapi.load?s():n(Ym(e,"network-request-failed"))},ov("".concat(iv.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw jy=null,e}))}let jy=null;const Vy=new sg(5e3,15e3),Uy="__/auth/iframe",By="emulator/auth/iframe",zy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wy(e){const t=e.config;Zm(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ag(t,By):"https://".concat(e.config.authDomain,"/").concat(Uy),r={apiKey:t.apiKey,appName:e.name,v:Un},i=Hy.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Wt(r).slice(1))}async function qy(e){const t=await function(e){return jy=jy||Fy(e),jy}(e),n=Jv().gapi;return Zm(n,e,"internal-error"),t.open({where:document.body,url:Wy(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zy,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Ym(e,"network-request-failed"),o=Jv().setTimeout((()=>{r(i)}),Vy.get());function s(){Jv().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const Ky={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch($_){}}}function Qy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ky),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Mt().toLowerCase();n&&(a=Wg(c)?"_blank":n),zg(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Yg(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Gy(null);const h=window.open(t||"",a,u);Zm(h,e,"popup-blocked");try{h.focus()}catch($_){}return new Gy(h)}const Yy="__/auth/handler",Xy="emulator/auth/handler",$y=encodeURIComponent("fac");async function Jy(e,t,n,r,i,o){Zm(e.config.authDomain,e,"auth-domain-config-required"),Zm(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Un,eventId:i};if(t instanceof kv){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof _v){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat($y,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Yy);return ag(t,Xy)}(e),"?").concat(Wt(a).slice(1)).concat(c)}const Zy="webStorageSupport";const eb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qv,this._completeRedirectFn=Cy,this._overrideRedirectResult=Ty}async _openPopup(e,t,n,r){var i;tg(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Qy(e,await Jy(e,t,n,ng(),r),Xv())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Jv().location.href=e}(await Jy(e,t,n,ng(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(tg(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await qy(e),n=new Iy(e);return t.register("authEvent",(t=>{Zm(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zy,{type:Zy},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Zy];void 0!==i&&t(!!i),Qm(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ny(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return $g()||Hg()||Yg()}};var tb="@firebase/auth",nb="1.7.1";class rb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Zm(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ib=Lt("authIdTokenMaxAge")||300;let ob=null;var sb;!function(e){iv=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ym("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),sb="Browser",On(new Xt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Zm(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:sb,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jg(sb)},c=new tv(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mg);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),On(new Xt("auth-internal",(e=>(e=>new rb(e))(nv(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Hn(tb,nb,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(sb)),Hn(tb,nb,"esm2017");Hn("firebase","10.11.0","app");const ab=Bn({apiKey:"AIzaSyAss6OKJ-OXcXs1MZhWVjX1F4IX8wYj5S0",authDomain:"coffeemanagement-5dfc2.firebaseapp.com",projectId:"coffeemanagement-5dfc2",storageBucket:"coffeemanagement-5dfc2.appspot.com",messagingSenderId:"170444181107",appId:"1:170444181107:web:ef7aafb44a3711a5cb2406",measurementId:"G-PY0MSF0ZBP"}),lb=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Mn("object"==typeof e?e:zn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=Dt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Op(r,...e)}return r}(ab),cb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn();const t=Mn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Mn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(zt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Qm(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:eb,persistence:[cy,Kv,Qv]}),r=Lt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ib)return;const r=null===t||void 0===t?void 0:t.token;ob!==r&&(ob=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Yt(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Yt(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const o=Dt("auth");return o&&uv(n,"http://".concat(o)),n}(ab),ub=(0,e.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),hb=(0,e.createContext)({}),db=(0,e.createContext)(null),fb="undefined"!==typeof document,pb=fb?e.useLayoutEffect:e.useEffect,mb=(0,e.createContext)({strict:!1}),gb=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vb="data-"+gb("framerAppearId"),yb=!1,bb=!1;class wb{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const Sb=["read","resolveKeyframes","update","preRender","render","postRender"];function Eb(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Sb.reduce(((e,t)=>(e[t]=function(e){let t=new wb,n=new wb,r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:function(e){const o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,a=o?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(e),a.add(e)&&o&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),s.delete(e)},process:l=>{if(i)o=!0;else{if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];s.has(r)&&(a.schedule(r),e()),r(l)}i=!1,o&&(o=!1,a.process(l))}}};return a}((()=>n=!0)),e)),{}),s=e=>{o[e].process(i)},a=()=>{const o=bb?i.timestamp:performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1),i.timestamp=o,i.isProcessing=!0,Sb.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(a))},l=Sb.reduce(((t,s)=>{const l=o[s];return t[s]=function(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(a)),l.schedule(t,o,s)},t}),{});return{schedule:l,cancel:e=>Sb.forEach((t=>o[t].cancel(e))),state:i,steps:o}}const{schedule:xb,cancel:Tb}=Eb(queueMicrotask,!1);function kb(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const _b=(0,e.createContext)({});let Cb=!1;function Ib(t,n,r,i,o){const{visualElement:s}=(0,e.useContext)(hb),a=(0,e.useContext)(mb),l=(0,e.useContext)(db),c=(0,e.useContext)(ub).reducedMotion,u=(0,e.useRef)();i=i||a.renderer,!u.current&&i&&(u.current=i(t,{visualState:n,parent:s,props:r,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:c}));const h=u.current,d=(0,e.useContext)(_b);!h||h.projection||!o||"html"!==h.type&&"svg"!==h.type||function(e,t,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Ab(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:Boolean(s)||a&&kb(a),visualElement:e,scheduleRender:()=>e.scheduleRender(),animationType:"string"===typeof o?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}(u.current,r,o,d),(0,e.useInsertionEffect)((()=>{h&&h.update(r,l)}));const f=(0,e.useRef)(Boolean(r[vb]&&!window.HandoffComplete));return pb((()=>{h&&(h.updateFeatures(),xb.render(h.render),f.current&&h.animationState&&h.animationState.animateChanges())})),(0,e.useEffect)((()=>{h&&(!f.current&&h.animationState&&h.animationState.animateChanges(),f.current&&(f.current=!1,Cb||(Cb=!0,queueMicrotask(Pb))))})),h}function Pb(){window.HandoffComplete=!0}function Ab(e){if(e)return!1!==e.options.allowProjection?e.projection:Ab(e.parent)}function Rb(t,n,r){return(0,e.useCallback)((e=>{e&&t.mount&&t.mount(e),n&&(e?n.mount(e):n.unmount()),r&&("function"===typeof r?r(e):kb(r)&&(r.current=e))}),[n])}function Db(e){return"string"===typeof e||Array.isArray(e)}function Nb(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const Lb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ob=["initial",...Lb];function Mb(e){return Nb(e.animate)||Ob.some((t=>Db(e[t])))}function Fb(e){return Boolean(Mb(e)||e.variants)}function jb(t){const{initial:n,animate:r}=function(e,t){if(Mb(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Db(t)?t:void 0,animate:Db(n)?n:void 0}}return!1!==e.inherit?t:{}}(t,(0,e.useContext)(hb));return(0,e.useMemo)((()=>({initial:n,animate:r})),[Vb(n),Vb(r)])}function Vb(e){return Array.isArray(e)?e.join(" "):e}const Ub={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bb={};for(const n in Ub)Bb[n]={isEnabled:e=>Ub[n].some((t=>!!e[t]))};const zb=(0,e.createContext)({}),Hb=Symbol.for("motionComponentSymbol");function Wb(t){let{preloadedFeatures:n,createVisualElement:r,useRender:i,useVisualState:o,Component:s}=t;n&&function(e){for(const t in e)Bb[t]={...Bb[t],...e[t]}}(n);const a=(0,e.forwardRef)((function(t,n){let a;const l={...(0,e.useContext)(ub),...t,layoutId:qb(t)},{isStatic:c}=l,u=jb(t),h=o(t,c);if(!c&&fb){!function(t,n){(0,e.useContext)(mb).strict;0}();const t=function(e){const{drag:t,layout:n}=Bb;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:(null===t||void 0===t?void 0:t.isEnabled(e))||(null===n||void 0===n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);a=t.MeasureLayout,u.visualElement=Ib(s,h,l,r,t.ProjectionNode)}return(0,at.jsxs)(hb.Provider,{value:u,children:[a&&u.visualElement?(0,at.jsx)(a,{visualElement:u.visualElement,...l}):null,i(s,t,Rb(h,u.visualElement,n),h,c,u.visualElement)]})}));return a[Hb]=s,a}function qb(t){let{layoutId:n}=t;const r=(0,e.useContext)(zb).id;return r&&void 0!==n?r+"-"+n:n}function Kb(e){function t(t){return Wb(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const Gb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qb(e){return"string"===typeof e&&!e.includes("-")&&!!(Gb.indexOf(e)>-1||/[A-Z]/u.test(e))}const Yb={};const Xb=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$b=new Set(Xb);function Jb(e,t){let{layout:n,layoutId:r}=t;return $b.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Yb[e]||"opacity"===e)}const Zb=e=>Boolean(e&&e.getVelocity),ew={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tw=Xb.length;const nw=e=>t=>"string"===typeof t&&t.startsWith(e),rw=nw("--"),iw=nw("var(--"),ow=e=>!!iw(e)&&sw.test(e.split("/*")[0].trim()),sw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,aw=(e,t)=>t&&"number"===typeof e?t.transform(e):e,lw=(e,t,n)=>n>t?t:n<e?e:n,cw={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},uw={...cw,transform:e=>lw(0,1,e)},hw={...cw,default:1},dw=e=>Math.round(1e5*e)/1e5,fw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,pw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,mw=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function gw(e){return"string"===typeof e}const vw=e=>({test:t=>gw(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),yw=vw("deg"),bw=vw("%"),ww=vw("px"),Sw=vw("vh"),Ew=vw("vw"),xw={...bw,parse:e=>bw.parse(e)/100,transform:e=>bw.transform(100*e)},Tw={...cw,transform:Math.round},kw={borderWidth:ww,borderTopWidth:ww,borderRightWidth:ww,borderBottomWidth:ww,borderLeftWidth:ww,borderRadius:ww,radius:ww,borderTopLeftRadius:ww,borderTopRightRadius:ww,borderBottomRightRadius:ww,borderBottomLeftRadius:ww,width:ww,maxWidth:ww,height:ww,maxHeight:ww,size:ww,top:ww,right:ww,bottom:ww,left:ww,padding:ww,paddingTop:ww,paddingRight:ww,paddingBottom:ww,paddingLeft:ww,margin:ww,marginTop:ww,marginRight:ww,marginBottom:ww,marginLeft:ww,rotate:yw,rotateX:yw,rotateY:yw,rotateZ:yw,scale:hw,scaleX:hw,scaleY:hw,scaleZ:hw,skew:yw,skewX:yw,skewY:yw,distance:ww,translateX:ww,translateY:ww,translateZ:ww,x:ww,y:ww,z:ww,perspective:ww,transformPerspective:ww,opacity:uw,originX:xw,originY:xw,originZ:ww,zIndex:Tw,backgroundPositionX:ww,backgroundPositionY:ww,fillOpacity:uw,strokeOpacity:uw,numOctaves:Tw};function _w(e,t,n,r){const{style:i,vars:o,transform:s,transformOrigin:a}=e;let l=!1,c=!1,u=!0;for(const h in t){const e=t[h];if(rw(h)){o[h]=e;continue}const n=kw[h],r=aw(e,n);if($b.has(h)){if(l=!0,s[h]=r,!u)continue;e!==(n.default||0)&&(u=!1)}else h.startsWith("origin")?(c=!0,a[h]=r):i[h]=r}if(t.transform||(l||r?i.transform=function(e,t,n,r){let{enableHardwareAcceleration:i=!0,allowTransformNone:o=!0}=t,s="";for(let a=0;a<tw;a++){const t=Xb[a];if(void 0!==e[t]){const n=ew[t]||t;s+="".concat(n,"(").concat(e[t],") ")}}return i&&!e.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(e,n?"":s):o&&n&&(s="none"),s}(e.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;i.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const Cw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Iw(e,t,n){for(const r in t)Zb(t[r])||Jb(r,n)||(e[r]=t[r])}function Pw(t,n,r){const i={};return Iw(i,t.style||{},t),Object.assign(i,function(t,n,r){let{transformTemplate:i}=t;return(0,e.useMemo)((()=>{const e=Cw();return _w(e,n,{enableHardwareAcceleration:!r},i),Object.assign({},e.vars,e.style)}),[n])}(t,n,r)),i}function Aw(e,t,n){const r={},i=Pw(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const Rw=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dw(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Rw.has(e)}let Nw=e=>!Dw(e);try{(Lw=require("@emotion/is-prop-valid").default)&&(Nw=e=>e.startsWith("on")?!Dw(e):Lw(e))}catch(J_){}var Lw;function Ow(e,t,n){return"string"===typeof e?e:ww.transform(t+n*e)}const Mw={offset:"stroke-dashoffset",array:"stroke-dasharray"},Fw={offset:"strokeDashoffset",array:"strokeDasharray"};function jw(e,t,n,r,i){let{attrX:o,attrY:s,attrScale:a,originX:l,originY:c,pathLength:u,pathSpacing:h=1,pathOffset:d=0,...f}=t;if(_w(e,f,n,i),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:g}=e;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(void 0!==l||void 0!==c||m.transform)&&(m.transformOrigin=function(e,t,n){const r=Ow(t,e.x,e.width),i=Ow(n,e.y,e.height);return"".concat(r," ").concat(i)}(g,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==o&&(p.x=o),void 0!==s&&(p.y=s),void 0!==a&&(p.scale=a),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const o=i?Mw:Fw;e[o.offset]=ww.transform(-r);const s=ww.transform(t),a=ww.transform(n);e[o.array]="".concat(s," ").concat(a)}(p,u,h,d,!1)}const Vw=()=>({...Cw(),attrs:{}}),Uw=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Bw(t,n,r,i){const o=(0,e.useMemo)((()=>{const e=Vw();return jw(e,n,{enableHardwareAcceleration:!1},Uw(i),t.transformTemplate),{...e.attrs,style:{...e.style}}}),[n]);if(t.style){const e={};Iw(e,t.style,t),o.style={...e,...o.style}}return o}function zw(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(n,r,i,o,s)=>{let{latestValues:a}=o;const l=(Qb(n)?Bw:Aw)(r,a,s,n),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(Nw(i)||!0===n&&Dw(i)||!t&&!Dw(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(r,"string"===typeof n,t),u=n!==e.Fragment?{...c,...l,ref:i}:{},{children:h}=r,d=(0,e.useMemo)((()=>Zb(h)?h.get():h),[h]);return(0,e.createElement)(n,{...u,children:d})}}function Hw(e,t,n,r){let{style:i,vars:o}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const s in o)e.style.setProperty(s,o[s])}const Ww=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qw(e,t,n,r){Hw(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Ww.has(i)?i:gb(i),t.attrs[i])}function Kw(e,t,n){var r;const{style:i}=e,o={};for(const s in i)(Zb(i[s])||t.style&&Zb(t.style[s])||Jb(s,e)||void 0!==(null===(r=null===n||void 0===n?void 0:n.getValue(s))||void 0===r?void 0:r.liveStyle))&&(o[s]=i[s]);return o}function Gw(e,t,n){const r=Kw(e,t,n);for(const i in e)if(Zb(e[i])||Zb(t[i])){r[-1!==Xb.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}function Qw(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function Yw(e,t,n,r){if("function"===typeof t){const[i,o]=Qw(r);t=t(void 0!==n?n:e.custom,i,o)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,o]=Qw(r);t=t(void 0!==n?n:e.custom,i,o)}return t}const Xw=e=>Array.isArray(e),$w=e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue),Jw=e=>Xw(e)?e[e.length-1]||0:e;function Zw(e){const t=Zb(e)?e.get():e;return $w(t)?t.toValue():t}const eS=t=>(n,r)=>{const i=(0,e.useContext)(hb),o=(0,e.useContext)(db),s=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:o,onMount:s}=e;const a={latestValues:tS(t,n,r,i),renderState:o()};return s&&(a.mount=e=>s(t,e,a)),a}(t,n,i,o);return r?s():function(t){const n=(0,e.useRef)(null);return null===n.current&&(n.current=t()),n.current}(s)};function tS(e,t,n,r){const i={},o=r(e,{});for(const d in o)i[d]=Zw(o[d]);let{initial:s,animate:a}=e;const l=Mb(e),c=Fb(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===a&&(a=t.animate));let u=!!n&&!1===n.initial;u=u||!1===s;const h=u?a:s;if(h&&"boolean"!==typeof h&&!Nb(h)){(Array.isArray(h)?h:[h]).forEach((t=>{const n=Yw(e,t);if(!n)return;const{transitionEnd:r,transition:o,...s}=n;for(const e in s){let t=s[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]}))}return i}const nS=e=>e,{schedule:rS,cancel:iS,state:oS,steps:sS}=Eb("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:nS,!0),aS={useVisualState:eS({scrapeMotionValuesFromProps:Gw,createRenderState:Vw,onMount:(e,t,n)=>{let{renderState:r,latestValues:i}=n;rS.read((()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch($_){r.dimensions={x:0,y:0,width:0,height:0}}})),rS.render((()=>{jw(r,i,{enableHardwareAcceleration:!1},Uw(t.tagName),e.transformTemplate),qw(t,r)}))}})},lS={useVisualState:eS({scrapeMotionValuesFromProps:Kw,createRenderState:Cw})};function cS(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const uS=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function hS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e["".concat(t,"X")],y:e["".concat(t,"Y")]}}}const dS=e=>t=>uS(t)&&e(t,hS(t));function fS(e,t,n,r){return cS(e,t,dS(n),r)}const pS=(e,t)=>n=>t(e(n)),mS=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(pS)};function gS(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const vS=gS("dragHorizontal"),yS=gS("dragVertical");function bS(e){let t=!1;if("y"===e)t=yS();else if("x"===e)t=vS();else{const e=vS(),n=yS();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function wS(){const e=bS(!0);return!e||(e(),!1)}class SS{constructor(e){this.isMounted=!1,this.node=e}update(){}}function ES(e,t){const n=t?"pointerenter":"pointerleave",r=t?"onHoverStart":"onHoverEnd";return fS(e.current,n,((n,i)=>{if("touch"===n.pointerType||wS())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t);const s=o[r];s&&rS.postRender((()=>s(n,i)))}),{passive:!e.getProps()[r]})}const xS=(e,t)=>!!t&&(e===t||xS(e,t.parentElement));function TS(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,hS(n))}const kS=new WeakMap,_S=new WeakMap,CS=e=>{const t=kS.get(e.target);t&&t(e)},IS=e=>{e.forEach(CS)};function PS(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;_S.has(r)||_S.set(r,{});const i=_S.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(IS,{root:t,...n})),i[o]}(t);return kS.set(e,n),r.observe(e),()=>{kS.delete(e),r.unobserve(e)}}const AS={some:0,all:1};const RS={inView:{Feature:class extends SS{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:AS[r]};return PS(this.node.current,o,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=t?n:r;o&&o(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends SS{constructor(){super(...arguments),this.removeStartListeners=nS,this.removeEndListeners=nS,this.removeAccessibleListeners=nS,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=fS(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps(),o=i||xS(this.node.current,e.target)?n:r;o&&rS.update((()=>o(e,t)))}),{passive:!(n.onTap||n.onPointerUp)}),i=fS(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=mS(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=cS(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=cS(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&TS("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&rS.postRender((()=>n(e,t)))}))})),TS("down",((e,t)=>{this.startPress(e,t)}))})),t=cS(this.node.current,"blur",(()=>{this.isPressing&&TS("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=mS(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&rS.postRender((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!wS()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&rS.postRender((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=fS(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=cS(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=mS(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends SS{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch($_){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mS(cS(this.node.current,"focus",(()=>this.onFocus())),cS(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends SS{mount(){this.unmount=mS(ES(this.node,!0),ES(this.node,!1))}unmount(){}}}};function DS(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function NS(e,t,n){const r=e.getProps();return Yw(r,t,void 0!==n?n:r.custom,e)}const LS=e=>1e3*e,OS=e=>e/1e3,MS={type:"spring",stiffness:500,damping:25,restSpeed:10},FS={type:"keyframes",duration:.8},jS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},VS=(e,t)=>{let{keyframes:n}=t;return n.length>2?FS:$b.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:MS:jS};function US(e,t){return e[t]||e.default||e}const BS=!1,zS=e=>null!==e;function HS(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const o=e.filter(zS),s=r&&"loop"!==i&&r%2===1?0:o.length-1;return s&&void 0!==n?n:o[s]}let WS;function qS(){WS=void 0}const KS={now:()=>(void 0===WS&&KS.set(oS.isProcessing||bb?oS.timestamp:performance.now()),WS),set:e=>{WS=e,queueMicrotask(qS)}},GS=e=>/^0[^.\s]+$/u.test(e);let QS=nS,YS=nS;const XS=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),$S=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function JS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;YS(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,i]=function(e){const t=$S.exec(e);if(!t)return[,];const[,n,r,i]=t;return["--".concat(null!==n&&void 0!==n?n:r),i]}(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const e=o.trim();return XS(e)?parseFloat(e):e}return ow(i)?JS(i,t,n+1):i}const ZS=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),eE=e=>e===cw||e===ww,tE=(e,t)=>parseFloat(e.split(", ")[t]),nE=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/u);if(o)return tE(o[1],t);{const t=i.match(/^matrix\((.+)\)$/u);return t?tE(t[1],e):0}},rE=new Set(["x","y","z"]),iE=Xb.filter((e=>!rE.has(e)));const oE={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:nE(4,13),y:nE(5,14)};oE.translateX=oE.x,oE.translateY=oE.y;const sE=e=>t=>t.test(e),aE=[cw,ww,bw,yw,Ew,Sw,{test:e=>"auto"===e,parse:e=>e}],lE=e=>aE.find(sE(e)),cE=new Set;let uE=!1,hE=!1;function dE(){if(hE){const e=Array.from(cE).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return iE.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{let[n,r]=t;var i;null===(i=e.getValue(n))||void 0===i||i.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}hE=!1,uE=!1,cE.forEach((e=>e.complete())),cE.clear()}function fE(){cE.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(hE=!0)}))}class pE{constructor(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(cE.add(this),uE||(uE=!0,rS.read(fE),rS.resolveKeyframes(dE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let i=0;i<e.length;i++)if(null===e[i])if(0===i){const i=null===r||void 0===r?void 0:r.get(),o=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,o);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=o),r&&void 0===i&&r.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),cE.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,cE.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const mE=(e,t)=>n=>Boolean(gw(n)&&mw.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),gE=(e,t,n)=>r=>{if(!gw(r))return r;const[i,o,s,a]=r.match(fw);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},vE={...cw,transform:e=>Math.round((e=>lw(0,255,e))(e))},yE={test:mE("rgb","red"),parse:gE("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+vE.transform(t)+", "+vE.transform(n)+", "+vE.transform(r)+", "+dw(uw.transform(i))+")"}};const bE={test:mE("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:yE.transform},wE={test:mE("hsl","hue"),parse:gE("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+bw.transform(dw(n))+", "+bw.transform(dw(r))+", "+dw(uw.transform(i))+")"}},SE={test:e=>yE.test(e)||bE.test(e)||wE.test(e),parse:e=>yE.test(e)?yE.parse(e):wE.test(e)?wE.parse(e):bE.parse(e),transform:e=>gw(e)?e:e.hasOwnProperty("red")?yE.transform(e):wE.transform(e)};const EE="number",xE="color",TE="var",kE="var(",_E="${}",CE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function IE(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const s=t.replace(CE,(e=>(SE.test(e)?(r.color.push(o),i.push(xE),n.push(SE.parse(e))):e.startsWith(kE)?(r.var.push(o),i.push(TE),n.push(e)):(r.number.push(o),i.push(EE),n.push(parseFloat(e))),++o,_E))).split(_E);return{values:n,split:s,indexes:r,types:i}}function PE(e){return IE(e).values}function AE(e){const{split:t,types:n}=IE(e),r=t.length;return e=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],void 0!==e[o]){const t=n[o];i+=t===EE?dw(e[o]):t===xE?SE.transform(e[o]):e[o]}return i}}const RE=e=>"number"===typeof e?0:e;const DE={test:function(e){var t,n;return isNaN(e)&&gw(e)&&((null===(t=e.match(fw))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(pw))||void 0===n?void 0:n.length)||0)>0},parse:PE,createTransformer:AE,getAnimatableNone:function(e){const t=PE(e);return AE(e)(t.map(RE))}},NE=new Set(["brightness","contrast","saturate","opacity"]);function LE(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(fw)||[];if(!r)return e;const i=n.replace(r,"");let o=NE.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const OE=/\b([a-z-]*)\(.*?\)/gu,ME={...DE,getAnimatableNone:e=>{const t=e.match(OE);return t?t.map(LE).join(" "):e}},FE={...kw,color:SE,backgroundColor:SE,outlineColor:SE,fill:SE,stroke:SE,borderColor:SE,borderTopColor:SE,borderRightColor:SE,borderBottomColor:SE,borderLeftColor:SE,filter:ME,WebkitFilter:ME},jE=e=>FE[e];function VE(e,t){let n=jE(e);return n!==ME&&(n=DE),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const UE=new Set(["auto","none","0"]);class BE extends pE{constructor(e,t,n,r){super(e,t,n,r,null===r||void 0===r?void 0:r.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"===typeof n&&(n=n.trim(),ow(n))){const r=JS(n,t.current);void 0!==r&&(e[a]=r),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!ZS.has(n)||2!==e.length)return;const[r,i]=e,o=lE(r),s=lE(i);if(o!==s)if(eE(o)&&eE(s))for(let a=0;a<e.length;a++){const t=e[a];"string"===typeof t&&(e[a]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)("number"===typeof(r=e[i])?0===r:null===r||"none"===r||"0"===r||GS(r))&&n.push(i);var r;n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!UE.has(t)&&IE(t).values.length&&(r=e[i]),i++}if(r&&n)for(const o of t)e[o]=VE(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oE[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,s=r[o];r[o]=oE[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((e=>{let[n,r]=e;t.getValue(n).set(r)})),this.resolveNoneKeyframes()}}function zE(e){let t;return()=>(void 0===t&&(t=e()),t)}const HE=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!DE.test(e)&&"0"!==e||e.startsWith("url(")));class WE{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",...a}=e;this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,...a},this.updateFinishedPromise()}get resolved(){return this._resolved||this.hasAttemptedResolve||(fE(),dE()),this._resolved}onKeyframesResolved(e,t){this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:i,delay:o,onComplete:s,onUpdate:a,isGenerator:l}=this.options;if(!l&&!function(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const o=e[e.length-1],s=HE(i,t),a=HE(o,t);return QS(s===a,"You are trying to animate ".concat(t,' from "').concat(i,'" to "').concat(o,'". ').concat(i," is not an animatable value - to enable this animation set ").concat(i," to a value animatable to ").concat(o," via the `style` property.")),!(!s||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||"spring"===n&&r)}(e,n,r,i)){if(BS||!o)return null===a||void 0===a||a(HS(e,this.options,t)),null===s||void 0===s||s(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}function qE(e,t){return t?e*(1e3/t):0}const KE=5;function GE(e,t,n){const r=Math.max(t-KE,0);return qE(n-e(r),t-r)}const QE=.001,YE=.01,XE=10,$E=.05,JE=1;function ZE(e){let t,n,{duration:r=800,bounce:i=.25,velocity:o=0,mass:s=1}=e;QS(r<=LS(XE),"Spring duration must be 10 seconds or less");let a=1-i;a=lw($E,JE,a),r=lw(YE,XE,OS(r)),a<1?(t=e=>{const t=e*a,n=t*r,i=t-o,s=tx(e,a),l=Math.exp(-n);return QE-i/s*l},n=e=>{const n=e*a*r,i=n*o+o,s=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=tx(Math.pow(e,2),a);return(-t(e)+QE>0?-1:1)*((i-s)*l)/c}):(t=e=>Math.exp(-e*r)*((e-o)*r+1)-QE,n=e=>Math.exp(-e*r)*(r*r*(o-e)));const l=function(e,t,n){let r=n;for(let i=1;i<ex;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=LS(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*s;return{stiffness:e,damping:2*a*Math.sqrt(s*e),duration:r}}}const ex=12;function tx(e,t){return e*Math.sqrt(1-t*t)}const nx=["duration","bounce"],rx=["stiffness","damping","mass"];function ix(e,t){return t.some((t=>void 0!==e[t]))}function ox(e){let{keyframes:t,restDelta:n,restSpeed:r,...i}=e;const o=t[0],s=t[t.length-1],a={done:!1,value:o},{stiffness:l,damping:c,mass:u,duration:h,velocity:d,isResolvedFromDuration:f}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!ix(e,rx)&&ix(e,nx)){const n=ZE(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}({...i,velocity:-OS(i.velocity||0)}),p=d||0,m=c/(2*Math.sqrt(l*u)),g=s-o,v=OS(Math.sqrt(l/u)),y=Math.abs(g)<5;let b;if(r||(r=y?.01:2),n||(n=y?.005:.5),m<1){const e=tx(v,m);b=t=>{const n=Math.exp(-m*v*t);return s-n*((p+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>s-Math.exp(-v*e)*(g+(p+v*g)*e);else{const e=v*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return s-n*((p+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:f&&h||null,next:e=>{const t=b(e);if(f)a.done=e>=h;else{let i=p;0!==e&&(i=m<1?GE(b,e,t):0);const o=Math.abs(i)<=r,l=Math.abs(s-t)<=n;a.done=o&&l}return a.value=a.done?s:t,a}}}function sx(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:h}=e;const d=t[0],f={done:!1,value:d},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=d+m,v=void 0===a?g:a(g);v!==g&&(m=v-d);const y=e=>-m*Math.exp(-e/i),b=e=>v+y(e),w=e=>{const t=y(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?v:n};let S,E;const x=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(S=e,E=ox({keyframes:[f.value,p(f.value)],velocity:GE(b,e,f.value),damping:o,stiffness:s,restDelta:u,restSpeed:h}))};return x(0),{calculatedDuration:null,next:e=>{let t=!1;return E||void 0!==S||(t=!0,w(e),x(e)),void 0!==S&&e>=S?E.next(e-S):(!t&&w(e),f)}}}const ax=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,lx=1e-7,cx=12;function ux(e,t,n,r){if(e===t&&n===r)return nS;const i=t=>function(e,t,n,r,i){let o,s,a=0;do{s=t+(n-t)/2,o=ax(s,r,i)-e,o>0?n=s:t=s}while(Math.abs(o)>lx&&++a<cx);return s}(t,0,1,e,n);return e=>0===e||1===e?e:ax(i(e),t,r)}const hx=ux(.42,0,1,1),dx=ux(0,0,.58,1),fx=ux(.42,0,.58,1),px=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,mx=e=>t=>1-e(1-t),gx=e=>1-Math.sin(Math.acos(e)),vx=mx(gx),yx=px(gx),bx=ux(.33,1.53,.69,.99),wx=mx(bx),Sx=px(wx),Ex={linear:nS,easeIn:hx,easeInOut:fx,easeOut:dx,circIn:gx,circInOut:yx,circOut:vx,backIn:wx,backInOut:Sx,backOut:bx,anticipate:e=>(e*=2)<1?.5*wx(e):.5*(2-Math.pow(2,-10*(e-1)))},xx=e=>{if(Array.isArray(e)){YS(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return ux(t,n,r,i)}return"string"===typeof e?(YS(void 0!==Ex[e],"Invalid easing type '".concat(e,"'")),Ex[e]):e},Tx=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},kx=(e,t,n)=>e+(t-e)*n;function _x(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Cx(e,t){return n=>n>0?t:e}const Ix=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},Px=[bE,yE,wE];function Ax(e){const t=(e=>Px.find((t=>t.test(e))))(e);if(QS(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")),!Boolean(t))return!1;let n=t.parse(e);return t===wE&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let o=0,s=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;o=_x(i,e,t+1/3),s=_x(i,e,t),a=_x(i,e,t-1/3)}else o=s=a=r;return{red:Math.round(255*o),green:Math.round(255*s),blue:Math.round(255*a),alpha:i}}(n)),n}const Rx=(e,t)=>{const n=Ax(e),r=Ax(t);if(!n||!r)return Cx(e,t);const i={...n};return e=>(i.red=Ix(n.red,r.red,e),i.green=Ix(n.green,r.green,e),i.blue=Ix(n.blue,r.blue,e),i.alpha=kx(n.alpha,r.alpha,e),yE.transform(i))},Dx=new Set(["none","hidden"]);function Nx(e,t){return n=>kx(e,t,n)}function Lx(e){return"number"===typeof e?Nx:"string"===typeof e?ow(e)?Cx:SE.test(e)?Rx:Fx:Array.isArray(e)?Ox:"object"===typeof e?SE.test(e)?Rx:Mx:Cx}function Ox(e,t){const n=[...e],r=n.length,i=e.map(((e,n)=>Lx(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function Mx(e,t){const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Lx(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Fx=(e,t)=>{const n=DE.createTransformer(t),r=IE(e),i=IE(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Dx.has(e)&&!i.values.length||Dx.has(t)&&!r.values.length?function(e,t){return Dx.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):mS(Ox(function(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const s=t.types[o],a=e.indexes[s][i[s]],l=null!==(n=e.values[a])&&void 0!==n?n:0;r[o]=l,i[s]++}return r}(r,i),i.values),n):(QS(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),Cx(e,t))};function jx(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return kx(e,t,n);return Lx(e)(e,t)}function Vx(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.length;if(YS(o===t.length,"Both input and output ranges must be the same length"),1===o)return()=>t[0];if(2===o&&e[0]===e[1])return()=>t[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=function(e,t,n){const r=[],i=n||jx,o=e.length-1;for(let s=0;s<o;s++){let n=i(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||nS:t;n=mS(e,n)}r.push(n)}return r}(t,r,i),a=s.length,l=t=>{let n=0;if(a>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=Tx(e[n],e[n+1],t);return s[n](r)};return n?t=>l(lw(e[0],e[o-1],t)):l}function Ux(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Tx(0,t,r);e.push(kx(n,1,i))}}(t,e.length-1),t}function Bx(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const o=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(xx):xx(i),s={done:!1,value:n[0]},a=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:Ux(n),t),l=Vx(a,n,{ease:Array.isArray(o)?o:(c=n,u=o,c.map((()=>u||fx)).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(s.value=l(e),s.done=e>=t,s)}}const zx=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>rS.update(t,!0),stop:()=>iS(t),now:()=>oS.isProcessing?oS.timestamp:KS.now()}},Hx={decay:sx,inertia:sx,tween:Bx,keyframes:Bx,spring:ox},Wx=e=>e/100;class qx extends WE{constructor(e){let{KeyframeResolver:t=pE,...n}=e;super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:r,motionValue:i,keyframes:o}=this.options,s=(e,t)=>this.onKeyframesResolved(e,t);r&&i&&i.owner?this.resolver=i.owner.resolveKeyframes(o,s,r,i):this.resolver=new t(o,s,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=this.options,s=Hx[t]||Bx;let a,l;s!==Bx&&"number"!==typeof e[0]&&(a=mS(Wx,jx(e[0],e[1])),e=[0,100]);const c=s({...this.options,keyframes:e});"mirror"===i&&(l=s({...this.options,keyframes:[...e].reverse(),velocity:-o})),null===c.calculatedDuration&&(c.calculatedDuration=function(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}(c));const{calculatedDuration:u}=c,h=u+r;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:a,calculatedDuration:u,resolvedDuration:h,totalDuration:h*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:o,mapPercentToKeyframes:s,keyframes:a,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return i.next(0);const{delay:h,repeat:d,repeatType:f,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-h*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let y=this.currentTime,b=i;if(d){const e=Math.min(this.currentTime,c)/u;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===f?(n=1-n,p&&(n-=p/u)):"mirror"===f&&(b=o)),y=lw(0,1,n)*u}const w=v?{done:!1,value:a[0]}:b.next(y);s&&(w.value=s(w.value));let{done:S}=w;v||null===l||(S=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const E=null===this.holdTime&&("finished"===this.state||"running"===this.state&&S);return E&&void 0!==r&&(w.value=HS(a,this.options,r)),m&&m(w.value),E&&this.finish(),w}get duration(){const{resolved:e}=this;return e?OS(e.calculatedDuration):0}get time(){return OS(this.currentTime)}set time(e){e=LS(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=OS(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=zx,onPlay:t}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const n=this.driver.now();null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime&&"finished"!==this.state||(this.startTime=n),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Kx=e=>Array.isArray(e)&&"number"===typeof e[0];function Gx(e){return Boolean(!e||"string"===typeof e&&e in Yx||Kx(e)||Array.isArray(e)&&e.every(Gx))}const Qx=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},Yx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qx([0,.65,.55,1]),circOut:Qx([.55,0,1,.45]),backIn:Qx([.31,.01,.66,-.59]),backOut:Qx([.33,1.53,.69,.99])};function Xx(e){return $x(e)||Yx.easeOut}function $x(e){return e?Kx(e)?Qx(e):Array.isArray(e)?e.map(Xx):Yx[e]:void 0}const Jx=zE((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),Zx=new Set(["opacity","clipPath","filter","transform"]);class eT extends WE{constructor(e){super(e);const{name:t,motionValue:n,keyframes:r}=this.options;this.resolver=new BE(r,((e,t)=>this.onKeyframesResolved(e,t)),t,n),this.resolver.scheduleResolve()}initPlayback(e,t){var n;let{duration:r=300,times:i,ease:o,type:s,motionValue:a,name:l}=this.options;if(!(null===(n=a.owner)||void 0===n?void 0:n.current))return!1;if("spring"===(c=this.options).type||"backgroundColor"===c.name||!Gx(c.ease)){const{onComplete:t,onUpdate:n,motionValue:a,...l}=this.options,c=function(e,t){const n=new qx({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let o=0;for(;!r.done&&o<2e4;)r=n.sample(o),i.push(r.value),o+=10;return{times:void 0,keyframes:i,duration:o-10,ease:"linear"}}(e,l);1===(e=c.keyframes).length&&(e[1]=e[0]),r=c.duration,i=c.times,o=c.ease,s="keyframes"}var c;const u=function(e,t,n){let{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=$x(a);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:"reverse"===s?"alternate":"normal"})}(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:o});return u.startTime=KS.now(),this.pendingTimeline?(u.timeline=this.pendingTimeline,this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:n}=this.options;a.set(HS(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:s,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return OS(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return OS(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=LS(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return nS;const{animation:n}=t;n.timeline=e,n.onfinish=null}else this.pendingTimeline=e;return nS}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:i,ease:o,times:s}=e;if("idle"!==t.playState&&"finished"!==t.playState){if(this.time){const{motionValue:e,onUpdate:t,onComplete:a,...l}=this.options,c=new qx({...l,keyframes:n,duration:r,type:i,ease:o,times:s,isGenerator:!0}),u=LS(this.time);e.setWithVelocity(c.sample(u-10).value,c.sample(u).value,10)}this.cancel()}}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:o,type:s}=e;return Jx()&&n&&Zx.has(n)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!r&&"mirror"!==i&&0!==o&&"inertia"!==s}}const tT=zE((()=>void 0!==window.ScrollTimeline));class nT{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e){const t=this.animations.map((t=>{if(!tT()||!t.attachTimeline)return t.pause(),function(e,t){let n;const r=()=>{const{currentTime:r}=t,i=(null===r?0:r.value)/100;n!==i&&e(i),n=i};return rS.update(r,!0),()=>iS(r)}((e=>{t.time=t.duration*e}),e);t.attachTimeline(e)}));return()=>{t.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const rT=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return s=>{const a=US(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c-=LS(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u,...h}=e;return!!Object.keys(h).length})(a)||(u={...u,...VS(e,u)}),u.duration&&(u.duration=LS(u.duration)),u.repeatDelay&&(u.repeatDelay=LS(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let h=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(u.duration=0,0===u.delay&&(h=!0)),(BS||yb)&&(h=!0,u.duration=0,u.delay=0),h&&!o&&void 0!==t.get()){const e=HS(u.keyframes,a);if(void 0!==e)return rS.update((()=>{u.onUpdate(e),u.onComplete()})),new nT([])}return!o&&eT.supports(u)?new eT(u):new qx(u)}};function iT(e){return Boolean(Zb(e)&&e.add)}function oT(e,t){-1===e.indexOf(t)&&e.push(t)}function sT(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class aT{constructor(){this.subscriptions=[]}add(e){return oT(this.subscriptions,e),()=>sT(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const lT={current:void 0};class cT{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="11.2.12",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=KS.now();t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=KS.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new aT);const n=this.events[e].add(t);return"change"===e?()=>{n(),rS.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return lT.current&&lT.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=KS.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return qE(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function uT(e,t){return new cT(e,t)}function hT(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,uT(n))}function dT(e){return e.getProps()[vb]}function fT(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function pT(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var o;let{transition:s=e.getDefaultTransition(),transitionEnd:a,...l}=t;const c=e.getValue("willChange");r&&(s=r);const u=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const t=e.getValue(d,null!==(o=e.latestValues[d])&&void 0!==o?o:null),r=l[d];if(void 0===r||h&&fT(h,d))continue;const i={delay:n,elapsed:0,...US(s||{},d)};let a=!1;if(window.HandoffAppearAnimations){const n=dT(e);if(n){const e=window.HandoffAppearAnimations(n,d,t,rS);null!==e&&(i.elapsed=e,a=!0)}}t.start(rT(d,t,r,e.shouldReduceMotion&&$b.has(d)?{type:!1}:i,e,a));const f=t.animation;f&&(iT(c)&&(c.add(d),f.then((()=>c.remove(d)))),u.push(f))}return a&&Promise.all(u).then((()=>{rS.update((()=>{a&&function(e,t){const n=NS(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o)hT(e,s,Jw(o[s]))}(e,a)}))})),u}function mT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const i=NS(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all(pT(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:s,staggerDirection:a}=o;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0;const s=[],a=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(gT).forEach(((e,r)=>{e.notify("AnimationStart",t),s.push(mT(e,t,{...o,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(s)}(e,t,i+r,s,a,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[e,t]="beforeChildren"===l?[s,a]:[a,s];return e().then((()=>t()))}return Promise.all([s(),a(n.delay)])}function gT(e,t){return e.sortNodePosition(t)}const vT=[...Lb].reverse(),yT=Lb.length;function bT(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>mT(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=mT(e,t,r);else{const i="function"===typeof t?NS(e,t,r.custom):t;n=Promise.all(pT(e,i,r))}return n.then((()=>{rS.postRender((()=>{e.notify("AnimationComplete",t)}))}))}(e,n,r)})))}function wT(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!DS(t,e)}function ST(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ET(){return{animate:ST(!0),whileInView:ST(),whileHover:ST(),whileTap:ST(),whileDrag:ST(),whileFocus:ST(),exit:ST()}}let xT=0;const TT={animation:{Feature:class extends SS{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=bT(e),n=ET(),r=!0;const i=t=>(n,r)=>{var i;const o=NS(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(o){const{transition:e,transitionEnd:t,...r}=o;n={...n,...r,...t}}return n};function o(o){const s=e.getProps(),a=e.getVariantContext(!0)||{},l=[],c=new Set;let u={},h=1/0;for(let t=0;t<yT;t++){const d=vT[t],f=n[d],p=void 0!==s[d]?s[d]:a[d],m=Db(p),g=d===o?f.isActive:null;!1===g&&(h=t);let v=p===a[d]&&p!==s[d]&&m;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),f.protectedKeys={...u},!f.isActive&&null===g||!p&&!f.prevProp||Nb(p)||"boolean"===typeof p)continue;let y=wT(f.prevProp,p)||d===o&&f.isActive&&!v&&m||t>h&&m,b=!1;const w=Array.isArray(p)?p:[p];let S=w.reduce(i(d),{});!1===g&&(S={});const{prevResolvedValues:E={}}=f,x={...E,...S},T=t=>{y=!0,c.has(t)&&(b=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in x){const t=S[e],n=E[e];if(u.hasOwnProperty(e))continue;let r=!1;r=Xw(t)&&Xw(n)?!DS(t,n):t!==n,r?void 0!==t&&null!==t?T(e):c.add(e):void 0!==t&&c.has(e)?T(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=S,f.isActive&&(u={...u,...S}),r&&e.blockInitialAnimation&&(y=!1),!y||v&&!b||l.push(...w.map((e=>({animation:e,options:{type:d}}))))}if(c.size){const t={};c.forEach((n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null})),l.push({animation:t})}let d=Boolean(l.length);return!r||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(d=!1),r=!1,d?t(l):Promise.resolve()}return{animateChanges:o,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const s=o(t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=ET(),r=!0}}}(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Nb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends SS{constructor(){super(...arguments),this.id=xT++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},kT=(e,t)=>Math.abs(e-t);class _T{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=PT(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=kT(e.x,t.x),r=kT(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=oS;this.history.push({...r,timestamp:i});const{onStart:o,onMove:s}=this.handlers;t||(o&&o(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=CT(t,this.transformPagePoint),rS.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const o=PT("pointercancel"===e.type?this.lastMoveEventInfo:CT(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,o),r&&r(e,o)},!uS(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const o=CT(hS(e),this.transformPagePoint),{point:s}=o,{timestamp:a}=oS;this.history=[{...s,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,PT(o,this.history)),this.removeListeners=mS(fS(this.contextWindow,"pointermove",this.handlePointerMove),fS(this.contextWindow,"pointerup",this.handlePointerUp),fS(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),iS(this.updatePoint)}}function CT(e,t){return t?{point:t(e.point)}:e}function IT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function PT(e,t){let{point:n}=e;return{point:n,delta:IT(n,RT(t)),offset:IT(n,AT(t)),velocity:DT(t,.1)}}function AT(e){return e[0]}function RT(e){return e[e.length-1]}function DT(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=RT(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>LS(t)));)n--;if(!r)return{x:0,y:0};const o=OS(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function NT(e){return e.max-e.min}function LT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function OT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=kx(t.min,t.max,e.origin),e.scale=NT(n)/NT(t),(LT(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=kx(n.min,n.max,e.origin)-e.originPoint,(LT(e.translate)||isNaN(e.translate))&&(e.translate=0)}function MT(e,t,n,r){OT(e.x,t.x,n.x,r?r.originX:void 0),OT(e.y,t.y,n.y,r?r.originY:void 0)}function FT(e,t,n){e.min=n.min+t.min,e.max=e.min+NT(t)}function jT(e,t,n){e.min=t.min-n.min,e.max=e.min+NT(t)}function VT(e,t,n){jT(e.x,t.x,n.x),jT(e.y,t.y,n.y)}function UT(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function BT(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const zT=.35;function HT(e,t,n){return{min:WT(e,t),max:WT(e,n)}}function WT(e,t){return"number"===typeof e?e:e[t]||0}const qT=()=>({x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}),KT=()=>({x:{min:0,max:0},y:{min:0,max:0}});function GT(e){return[e("x"),e("y")]}function QT(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function YT(e){return void 0===e||1===e}function XT(e){let{scale:t,scaleX:n,scaleY:r}=e;return!YT(t)||!YT(n)||!YT(r)}function $T(e){return XT(e)||JT(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function JT(e){return ZT(e.x)||ZT(e.y)}function ZT(e){return e&&"0%"!==e}function ek(e,t,n){return n+t*(e-n)}function tk(e,t,n,r,i){return void 0!==i&&(e=ek(e,i,r)),ek(e,n,r)+t}function nk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=tk(e.min,t,n,r,i),e.max=tk(e.max,t,n,r,i)}function rk(e,t){let{x:n,y:r}=t;nk(e.x,n.translate,n.scale,n.originPoint),nk(e.y,r.translate,r.scale,r.originPoint)}function ik(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function ok(e,t){e.min=e.min+t,e.max=e.max+t}function sk(e,t,n){let[r,i,o]=n;const s=void 0!==t[o]?t[o]:.5,a=kx(e.min,e.max,s);nk(e,t[r],t[i],a,t.scale)}const ak=["x","scaleX","originX"],lk=["y","scaleY","originY"];function ck(e,t){sk(e.x,t,ak),sk(e.y,t,lk)}function uk(e,t){return QT(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const hk=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},dk=new WeakMap;class fk{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=KT(),this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new _T(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(hS(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=bS(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),GT((e=>{let t=this.getAxisMotionValue(e).get()||0;if(bw.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=NT(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&rS.postRender((()=>i(e,t)));const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:s}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),o&&o(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>GT((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:hk(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&rS.postRender((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!pk(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?kx(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?kx(i,e,n.max):Math.min(e,i)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&kb(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:o}=t;return{x:UT(e.x,r,o),y:UT(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zT;return!1===e?e=0:!0===e&&(e=zT),{x:HT(e,"left","right"),y:HT(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&GT((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!kb(e))return!1;const n=e.current;YS(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=uk(e,n),{scroll:i}=t;return i&&(ok(r.x,i.offset.x),ok(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let o=function(e,t){return{x:BT(e.x,t.x),y:BT(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=QT(e))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{},l=GT((s=>{if(!pk(s,t,this.currentDirection))return;let l=a&&a[s]||{};o&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,h={type:"inertia",velocity:n?e[s]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(s,h)}));return Promise.all(l).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(rT(e,n,0,t,this.visualElement))}stopAnimation(){GT((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){GT((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){GT((t=>{const{drag:n}=this.getProps();if(!pk(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[t];i.set(e[t]-kx(n,o,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!kb(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};GT((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=NT(e),i=NT(t);return i>r?n=Tx(t.min,t.max-r,e.min):r>i&&(n=Tx(e.min,e.max-i,t.min)),lw(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),GT((t=>{if(!pk(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:o}=this.constraints[t];n.set(kx(i,o,r[t]))}))}addListeners(){if(!this.visualElement.current)return;dk.set(this.visualElement,this);const e=fS(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();kb(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),rS.read(t);const i=cS(window,"resize",(()=>this.scalePositionWithinConstraints())),o=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(GT((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=zT,dragMomentum:s=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function pk(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const mk=e=>(t,n)=>{e&&rS.postRender((()=>e(t,n)))};const gk={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vk(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const yk={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!ww.test(e))return e;e=parseFloat(e)}const n=vk(e,t.target.x),r=vk(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},bk={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,o=DE.parse(e);if(o.length>5)return i;const s=DE.createTransformer(e),a="number"!==typeof o[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;o[0+a]/=l,o[1+a]/=c;const u=kx(l,c,.5);return"number"===typeof o[2+a]&&(o[2+a]/=u),"number"===typeof o[3+a]&&(o[3+a]/=u),s(o)}};class wk extends e.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var o;o=Ek,Object.assign(Yb,o),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),gk.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o?(o.isPresent=i,r||e.layoutDependency!==t||void 0===t?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||rS.postRender((()=>{const e=o.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),xb.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Sk(t){const[n,r]=function(){const t=(0,e.useContext)(db);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,o=(0,e.useId)();return(0,e.useEffect)((()=>i(o)),[]),!n&&r?[!1,()=>r&&r(o)]:[!0]}(),i=(0,e.useContext)(zb);return(0,at.jsx)(wk,{...t,layoutGroup:i,switchLayoutGroup:(0,e.useContext)(_b),isPresent:n,safeToRemove:r})}const Ek={borderRadius:{...yk,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yk,borderTopRightRadius:yk,borderBottomLeftRadius:yk,borderBottomRightRadius:yk,boxShadow:bk},xk=["TopLeft","TopRight","BottomLeft","BottomRight"],Tk=xk.length,kk=e=>"string"===typeof e?parseFloat(e):e,_k=e=>"number"===typeof e||ww.test(e);function Ck(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Ik=Ak(0,.5,vx),Pk=Ak(.5,.95,nS);function Ak(e,t,n){return r=>r<e?0:r>t?1:n(Tx(e,t,r))}function Rk(e,t){e.min=t.min,e.max=t.max}function Dk(e,t){Rk(e.x,t.x),Rk(e.y,t.y)}function Nk(e,t,n,r,i){return e=ek(e-=t,1/n,r),void 0!==i&&(e=ek(e,1/i,r)),e}function Lk(e,t,n,r,i){let[o,s,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;bw.test(t)&&(t=parseFloat(t),t=kx(s.min,s.max,t/100)-s.min);if("number"!==typeof t)return;let a=kx(o.min,o.max,r);e===o&&(a-=t),e.min=Nk(e.min,t,n,a,i),e.max=Nk(e.max,t,n,a,i)}(e,t[o],t[s],t[a],t.scale,r,i)}const Ok=["x","scaleX","originX"],Mk=["y","scaleY","originY"];function Fk(e,t,n,r){Lk(e.x,t,Ok,n?n.x:void 0,r?r.x:void 0),Lk(e.y,t,Mk,n?n.y:void 0,r?r.y:void 0)}function jk(e){return 0===e.translate&&1===e.scale}function Vk(e){return jk(e.x)&&jk(e.y)}function Uk(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Bk(e){return NT(e.x)/NT(e.y)}class zk{constructor(){this.members=[]}add(e){oT(this.members,e),e.scheduleRender()}remove(e){if(sT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Hk(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,s=(null===n||void 0===n?void 0:n.z)||0;if((i||o||s)&&(r="translate3d(".concat(i,"px, ").concat(o,"px, ").concat(s,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:o,skewX:s,skewY:a}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),i&&(r+="rotateX(".concat(i,"deg) ")),o&&(r+="rotateY(".concat(o,"deg) ")),s&&(r+="skewX(".concat(s,"deg) ")),a&&(r+="skewY(".concat(a,"deg) "))}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(r+="scale(".concat(a,", ").concat(l,")")),r||"none"}const Wk=(e,t)=>e.depth-t.depth;class qk{constructor(){this.children=[],this.isDirty=!1}add(e){oT(this.children,e),this.isDirty=!0}remove(e){sT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Wk),this.isDirty=!1,this.children.forEach(e)}}const Kk=["","X","Y","Z"],Gk={visibility:"hidden"};let Qk=0;const Yk={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Xk(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function $k(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return!1;const{visualElement:t}=e.options;return!!t&&(!!dT(t)||!(!e.parent||e.parent.hasCheckedOptimisedAppear)&&$k(e.parent))}function Jk(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Qk++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{var e;this.projectionUpdateScheduled=!1,Yk.totalNodes=Yk.resolvedTargetDeltas=Yk.recalculatedProjection=0,this.nodes.forEach(t_),this.nodes.forEach(l_),this.nodes.forEach(c_),this.nodes.forEach(n_),e=Yk,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new qk)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new aT),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:o,visualElement:s}=this.options;if(s&&!s.current&&s.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(o||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=KS.now(),r=i=>{let{timestamp:o}=i;const s=o-n;s>=t&&(iS(r),e(s-t))};return rS.read(r,!0),()=>iS(r)}(r,250),gk.hasAnimatedSinceResize&&(gk.hasAnimatedSinceResize=!1,this.nodes.forEach(a_))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&s&&(i||o)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||s.getDefaultTransition()||m_,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=s.getProps(),c=!this.targetLayout||!Uk(this.targetLayout,i)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e={...US(o,"layout"),onPlay:a,onComplete:l};(s.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||a_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,iS(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(u_),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.HandoffCancelAllAnimations&&$k(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(i_);this.isUpdating||this.nodes.forEach(o_),this.isUpdating=!1,this.nodes.forEach(s_),this.nodes.forEach(Zk),this.nodes.forEach(e_),this.clearAllSnapshots();const e=KS.now();oS.delta=lw(0,1e3/60,e-oS.timestamp),oS.timestamp=e,oS.isProcessing=!0,sS.update.process(oS),sS.preRender.process(oS),sS.render.process(oS),oS.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(r_),this.sharedNodes.forEach(h_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rS.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rS.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=KT(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!o)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Vk(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||$T(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),y_((r=n).x),y_(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return KT();const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(ok(t.x,n.offset.x),ok(t.y,n.offset.y)),t}removeElementScroll(e){const t=KT();Dk(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:o}=r;if(r!==this.root&&i&&o.layoutScroll){if(i.isRoot){Dk(t,e);const{scroll:n}=this.root;n&&(ok(t.x,-n.offset.x),ok(t.y,-n.offset.y))}ok(t.x,i.offset.x),ok(t.y,i.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=KT();Dk(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&ck(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),$T(e.latestValues)&&ck(n,e.latestValues)}return $T(this.latestValues)&&ck(n,this.latestValues),n}removeTransform(e){const t=KT();Dk(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!$T(e.latestValues))continue;XT(e.latestValues)&&e.updateSnapshot();const r=KT();Dk(r,e.measurePageBox()),Fk(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return $T(this.latestValues)&&Fk(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==oS.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:o}=this.options;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=oS.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=KT(),this.relativeTargetOrigin=KT(),VT(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Dk(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var s,a,l;if(this.target||(this.target=KT(),this.targetWithTransforms=KT()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,a=this.relativeTarget,l=this.relativeParent.target,FT(s.x,a.x,l.x),FT(s.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Dk(this.target,this.layout.layoutBox),rk(this.target,this.targetDelta)):Dk(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=KT(),this.relativeTargetOrigin=KT(),VT(this.relativeTargetOrigin,this.target,e.target),Dk(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Yk.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!XT(this.parent.latestValues)&&!JT(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===oS.timestamp&&(r=!1),r)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;Dk(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let o,s;t.x=t.y=1;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const i=o.instance;i&&i.style&&"contents"===i.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ck(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,rk(e,s)),r&&$T(o.latestValues)&&ck(e,o.latestValues))}t.x=ik(t.x),t.y=ik(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms=KT());const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta=qT(),this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta=qT(),this.projectionDeltaWithTransform=qT());const c=this.projectionTransform;MT(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=Hk(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===s&&this.treeScale.y===a||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Yk.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},o=qT();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s=KT(),a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(p_));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;d_(o.x,e.x,n),d_(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(VT(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){f_(e.x,t.x,n.x,r),f_(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,s,n),h&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,h)&&(this.isProjectionDirty=!1),h||(h=KT()),Dk(h,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,r,i,o){i?(e.opacity=kx(0,void 0!==n.opacity?n.opacity:1,Ik(r)),e.opacityExit=kx(void 0!==t.opacity?t.opacity:1,0,Pk(r))):o&&(e.opacity=kx(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let s=0;s<Tk;s++){const i="border".concat(xk[s],"Radius");let o=Ck(t,i),a=Ck(n,i);void 0===o&&void 0===a||(o||(o=0),a||(a=0),0===o||0===a||_k(o)===_k(a)?(e[i]=Math.max(kx(kk(o),kk(a),r),0),(bw.test(a)||bw.test(o))&&(e[i]+="%")):e[i]=a)}(t.rotate||n.rotate)&&(e.rotate=kx(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(iS(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rS.update((()=>{gk.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=Zb(e)?e:uT(e);return r.start(rT("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&b_(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||KT();const t=NT(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=NT(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Dk(t,n),ck(t,i),MT(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new zk);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&Xk("z",e,r,this.animationValues);for(let i=0;i<Kk.length;i++)Xk("rotate".concat(Kk[i]),e,r,this.animationValues),Xk("skew".concat(Kk[i]),e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Gk;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Zw(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Zw(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!$T(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const s=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=Hk(this.projectionDeltaWithTransform,this.treeScale,s),i&&(r.transform=i(s,r.transform));const{x:a,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*a.origin,"% ").concat(100*l.origin,"% 0"),o.animationValues?r.opacity=o===this?null!==(n=null!==(t=s.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=o===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const c in Yb){if(void 0===s[c])continue;const{correct:e,applyTo:t}=Yb[c],n="none"===r.transform?s[c]:e(s[c],o);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=o===this?Zw(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(i_),this.root.sharedNodes.clear()}}}function Zk(e){e.updateLayout()}function e_(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;"size"===i?GT((e=>{const r=o?n.measuredBox[e]:n.layoutBox[e],i=NT(r);r.min=t[e].min,r.max=r.min+i})):b_(i,n.layoutBox,t)&&GT((r=>{const i=o?n.measuredBox[r]:n.layoutBox[r],s=NT(t[r]);i.max=i.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)}));const s=qT();MT(s,t,n.layoutBox);const a=qT();o?MT(a,e.applyTransform(r,!0),n.measuredBox):MT(a,t,n.layoutBox);const l=!Vk(s);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:o}=r;if(i&&o){const s=KT();VT(s,n.layoutBox,i.layoutBox);const a=KT();VT(a,t,o.layoutBox),Uk(s,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function t_(e){Yk.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function n_(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function r_(e){e.clearSnapshot()}function i_(e){e.clearMeasurements()}function o_(e){e.isLayoutDirty=!1}function s_(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function a_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function l_(e){e.resolveTargetDelta()}function c_(e){e.calcProjection()}function u_(e){e.resetSkewAndRotation()}function h_(e){e.removeLeadSnapshot()}function d_(e,t,n){e.translate=kx(t.translate,0,n),e.scale=kx(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function f_(e,t,n,r){e.min=kx(t.min,n.min,r),e.max=kx(t.max,n.max,r)}function p_(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const m_={duration:.45,ease:[.4,0,.1,1]},g_=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),v_=g_("applewebkit/")&&!g_("chrome/")?Math.round:nS;function y_(e){e.min=v_(e.min),e.max=v_(e.max)}function b_(e,t,n){return"position"===e||"preserve-aspect"===e&&!LT(Bk(t),Bk(n),.2)}const w_=Jk({attachResizeListener:(e,t)=>cS(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),S_={current:void 0},E_=Jk({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!S_.current){const e=new w_({});e.mount(window),e.setOptions({layoutScroll:!0}),S_.current=e}return S_.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),x_={pan:{Feature:class extends SS{constructor(){super(...arguments),this.removePointerDownListener=nS}onPointerDown(e){this.session=new _T(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:mk(e),onStart:mk(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&rS.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=fS(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends SS{constructor(e){super(e),this.removeGroupControls=nS,this.removeListeners=nS,this.controls=new fk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nS}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:E_,MeasureLayout:Sk}},T_={current:null},k_={current:!1};const __=new WeakMap,C_=[...aE,SE,DE],I_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],P_=Ob.length;class A_{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.resolveKeyframes=(e,t,n,r)=>new this.KeyframeResolver(e,t,n,r,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>rS.render(this.render,!1,!0);const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=Boolean(o),this.isControllingVariants=Mb(n),this.isVariantNode=Fb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in h){const e=h[d];void 0!==l[d]&&Zb(e)&&(e.set(l[d],!1),iT(u)&&u.add(d))}}mount(e){this.current=e,__.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),k_.current||function(){if(k_.current=!0,fb)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>T_.current=e.matches;e.addListener(t),t()}else T_.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||T_.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){__.delete(this.current),this.projection&&this.projection.unmount(),iS(this.notifyUpdate),iS(this.render),this.valueSubscriptions.forEach((e=>e())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){const n=$b.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&rS.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(()=>{r(),i(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Bb){const t=Bb[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):KT()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<I_.length;n++){const t=I_[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const o=t[i],s=n[i];if(Zb(o))e.addValue(i,o),iT(r)&&r.add(i);else if(Zb(s))e.addValue(i,uT(o,{owner:e})),iT(r)&&r.remove(i);else if(s!==o)if(e.hasValue(i)){const t=e.getValue(i);!0===t.liveStyle?t.jump(o):t.hasAnimated||t.set(o)}else{const t=e.getStaticValue(i);e.addValue(i,uT(void 0!==t?t:o,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<P_;t++){const n=Ob[t],r=this.props[n];(Db(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=uT(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==r&&null!==r&&("string"===typeof r&&(XS(r)||GS(r))?r=parseFloat(r):!(e=>C_.find(sE(e)))(r)&&DE.test(t)&&(r=VE(e,t)),this.setBaseTarget(e,Zb(r)?r.get():r)),Zb(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"===typeof n||"object"===typeof n){const i=Yw(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);i&&(r=i[e])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Zb(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new aT),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class R_ extends A_{constructor(){super(...arguments),this.KeyframeResolver=BE}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}}class D_ extends R_{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if($b.has(t)){const e=jE(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(rw(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return uk(e,n)}build(e,t,n,r){_w(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Kw(e,t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zb(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}renderInstance(e,t,n,r){Hw(e,t,n,r)}}class N_ extends R_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if($b.has(t)){const e=jE(t);return e&&e.default||0}return t=Ww.has(t)?t:gb(t),e.getAttribute(t)}measureInstanceViewportBox(){return KT()}scrapeMotionValuesFromProps(e,t,n){return Gw(e,t,n)}build(e,t,n,r){jw(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){qw(e,t,0,r)}mount(e){this.isSVGTag=Uw(e.tagName),super.mount(e)}}const L_=(t,n)=>Qb(t)?new N_(n,{enableHardwareAcceleration:!1}):new D_(n,{allowProjection:t!==e.Fragment,enableHardwareAcceleration:!0}),O_={...TT,...RS,...x_,...{layout:{ProjectionNode:E_,MeasureLayout:Sk}}},M_=Kb(((e,t)=>function(e,t,n,r){let{forwardMotionProps:i=!1}=t;return{...Qb(e)?aS:lS,preloadedFeatures:n,useRender:zw(i),createVisualElement:r,Component:e}}(e,t,O_,L_)));const F_=()=>{const[t,n]=(0,e.useState)({email:"",password:""}),r=We(),i=e=>{const r={...t,[e.target.name]:e.target.value};n(r)},[o,s]=(0,e.useState)({email:"",password:""}),a=async()=>{let e=!0;if(t.email?s((e=>({...e,email:""}))):(s((e=>({...e,email:"Please type your email"}))),e=!1),t.password?s((e=>({...e,password:""}))):(s((e=>({...e,password:"Please type your password"}))),e=!1),e)try{await function(e,t){return Yt(e).setPersistence(t)}(cb,Qv);const e=await function(e,t,n){return Fn(e.app)?Promise.reject($m(e)):Vv(Yt(e),Tv.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Bv(e),t}))}(cb,t.email,t.password),n=e.user,i=Em(Vp(lb,"usersInfo"),Tm("uid","==",n.uid));let o;(await Fm(i)).forEach((e=>{o=e.data()})),"customer"===o.userRole?r("/product"):r("/managerproduct")}catch(n){console.error("Error during login: ",n),alert("Error during login: ".concat(n.message))}};return(0,at.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#F3E5AB",width:"100%",height:"100vh",fontFamily:"Arial, sans-serif"},children:(0,at.jsxs)(M_.form,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},style:{backgroundColor:"#FFFFFF",padding:"40px",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",width:"400px",textAlign:"center"},onSubmit:e=>{e.preventDefault(),a()},children:[(0,at.jsx)("h2",{style:{marginBottom:"20px",fontWeight:"bold",color:"#8B4513"},children:"Log In to Your Account"}),(0,at.jsxs)(M_.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.3,duration:.5},children:[(0,at.jsx)("p",{style:{fontWeight:"bold",fontSize:"18px",color:"#6B4226"},children:"Email:"}),(0,at.jsx)("input",{name:"email",value:t.email,style:{width:"100%",height:"40px",marginBottom:"10px",borderRadius:"5px",border:"1px solid #CCC",padding:"0 10px"},onChange:i}),(0,at.jsx)("div",{style:{color:"red",marginBottom:"10px"},children:o.email})]}),(0,at.jsxs)(M_.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.6,duration:.5},children:[(0,at.jsx)("p",{style:{fontWeight:"bold",fontSize:"18px",color:"#6B4226"},children:"Password:"}),(0,at.jsx)("input",{type:"password",name:"password",value:t.password,style:{width:"100%",height:"40px",marginBottom:"20px",borderRadius:"5px",border:"1px solid #CCC",padding:"0 10px"},onChange:i}),(0,at.jsx)("div",{style:{color:"red",marginBottom:"20px"},children:o.password})]}),(0,at.jsx)(M_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},style:{width:"100%",height:"40px",backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold",marginBottom:"10px"},type:"submit",children:"Log In"}),(0,at.jsx)(M_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},style:{width:"100%",height:"40px",backgroundColor:"#6f4e37",color:"#FFF",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold",marginBottom:"10px"},onClick:()=>r("/introduction"),children:"Back to Home"}),(0,at.jsx)("div",{style:{marginTop:"10px"},children:(0,at.jsx)("a",{href:"#",style:{color:"#8B4513"},onClick:()=>r("/change"),children:"Forgot Password?"})})]})})},j_=(0,e.createContext)();const V_=function(t){let{children:n}=t;const[r,i]=(0,e.useState)(null);return(0,e.useEffect)((()=>{const e=cb.onAuthStateChanged((e=>{i(e)}));return()=>e()}),[]),(0,at.jsx)(j_.Provider,{value:{currentUser:r},children:n})},U_=t=>{let{children:n}=t;const r=We(),{currentUser:i}=(0,e.useContext)(j_);return(0,e.useEffect)((()=>{i||r("/introduction")}),[i]),(0,at.jsx)(at.Fragment,{children:n})},B_={home:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#DDB892",color:"#3E2723",textAlign:"center",fontFamily:"Roboto, sans-serif"},heading:{fontSize:"3em",marginBottom:"0.5em",fontFamily:"Lora, serif"},paragraph:{fontSize:"1.5em",marginBottom:"2em"},buttons:{display:"flex",gap:"1em"},button:{padding:"0.75em 1.5em",fontSize:"1em",color:"#fff",backgroundColor:"#6f4e37",border:"none",borderRadius:"5px",cursor:"pointer",transition:"background-color 0.3s ease",fontFamily:"Roboto, sans-serif"},buttonHover:{backgroundColor:"#3e2723"}},z_=()=>{const t=We(),[n,r]=(0,e.useState)(null);(0,e.useEffect)((()=>{cb.currentUser&&t("/product")}));return(0,at.jsxs)("div",{style:B_.home,children:[(0,at.jsx)(M_.h1,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:1}}},style:B_.heading,children:"Welcome to our Coffee Store"}),(0,at.jsx)(M_.p,{initial:"hidden",animate:"visible",variants:{hidden:{x:"-100%"},visible:{x:"0%",transition:{duration:1}}},style:B_.paragraph,children:"Order the drink you want!"}),(0,at.jsxs)("div",{style:B_.buttons,children:[(0,at.jsx)("button",{style:"signup"===n?{...B_.button,...B_.buttonHover}:B_.button,onMouseEnter:()=>r("signup"),onMouseLeave:()=>r(null),onClick:()=>t("/signup"),children:"Sign Up"}),(0,at.jsx)("button",{style:"login"===n?{...B_.button,...B_.buttonHover}:B_.button,onMouseEnter:()=>r("login"),onMouseLeave:()=>r(null),onClick:()=>t("/login"),children:"Log in"})]})]})},H_=()=>{const[t,n]=(0,e.useState)({email:"",password:"",fullname:""}),r=We();(0,e.useEffect)((()=>{const e=function(e,t,n,r){return Yt(e).onAuthStateChanged(t,n,r)}(cb,(e=>{if(e){const t=setInterval((()=>{e.reload().then((()=>{e.emailVerified&&(clearInterval(t),r("/product"))}))}),1e3);return()=>clearInterval(t)}}));return()=>e()}),[r]);const i=e=>{const r={...t,[e.target.name]:e.target.value};n(r)},[o,s]=(0,e.useState)({email:"",password:"",fullname:""});return(0,at.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#F3E5AB",width:"100%",height:"100vh",fontFamily:"Arial, sans-serif"},children:(0,at.jsxs)(M_.form,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},style:{backgroundColor:"#FFFFFF",padding:"40px",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",width:"400px",textAlign:"center"},onSubmit:async e=>{e.preventDefault();let n=!0;var r,i;if(t.fullname?s((e=>({...e,fullname:""}))):(s((e=>({...e,fullname:"Full name is required"}))),n=!1),r=t.email,/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(r)?s((e=>({...e,email:""}))):(s((e=>({...e,email:"Invalid email"}))),n=!1),i=t.password,/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(i)?s((e=>({...e,password:""}))):(s((e=>({...e,password:"Password must contain at least 8 characters, one capital letter, one lowercase letter, a number, and a special character"}))),n=!1),n)try{const e=await async function(e,t,n){if(Fn(e.app))return Promise.reject($m(e));const r=nv(e),i=cv(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Rv),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Bv(e),t})),s=await Dv._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(cb,t.email,t.password),n=e.user;await Um(Vp(lb,"usersInfo"),{fullname:t.fullname,email:t.email,userRole:"customer",uid:n.uid}),await zv(n),alert("Verification email sent. Please check your inbox.")}catch(o){console.error("Error during signup: ",o),alert("Error during signup: ".concat(o.message))}},children:[(0,at.jsx)("h2",{style:{marginBottom:"20px",fontWeight:"bold",color:"#8B4513"},children:"Join Our Coffee Store Member"}),(0,at.jsxs)(M_.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.3,duration:.5},children:[(0,at.jsx)("p",{style:{fontWeight:"bold",fontSize:"18px",color:"#6B4226"},children:"Full Name:"}),(0,at.jsx)("input",{name:"fullname",value:t.fullname,style:{width:"100%",height:"40px",marginBottom:"10px",borderRadius:"5px",border:"1px solid #CCC",padding:"0 10px"},onChange:i}),(0,at.jsx)("div",{style:{color:"red",marginBottom:"10px"},children:o.fullname})]}),(0,at.jsxs)(M_.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.6,duration:.5},children:[(0,at.jsx)("p",{style:{fontWeight:"bold",fontSize:"18px",color:"#6B4226"},children:"Email:"}),(0,at.jsx)("input",{name:"email",value:t.email,style:{width:"100%",height:"40px",marginBottom:"10px",borderRadius:"5px",border:"1px solid #CCC",padding:"0 10px"},onChange:i}),(0,at.jsx)("div",{style:{color:"red",marginBottom:"10px"},children:o.email})]}),(0,at.jsxs)(M_.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.9,duration:.5},children:[(0,at.jsx)("p",{style:{fontWeight:"bold",fontSize:"18px",color:"#6B4226"},children:"Password:"}),(0,at.jsx)("input",{type:"password",name:"password",value:t.password,style:{width:"100%",height:"40px",marginBottom:"20px",borderRadius:"5px",border:"1px solid #CCC",padding:"0 10px"},onChange:i}),(0,at.jsx)("div",{style:{color:"red",marginBottom:"20px"},children:o.password})]}),(0,at.jsx)(M_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},style:{width:"100%",height:"40px",backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold",marginBottom:"10px"},type:"submit",children:"Sign Up"}),(0,at.jsx)(M_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},style:{width:"100%",height:"40px",backgroundColor:"#6f4e37",color:"#FFF",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold",marginBottom:"10px"},onClick:()=>r("/introduction"),children:"Back to Home"}),(0,at.jsx)(M_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},style:{width:"100%",height:"40px",backgroundColor:"#6f4e37",color:"#FFF",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold"},onClick:()=>r("/login"),children:"Already have an account? Sign In"})]})})},W_=()=>{const t=ze(),[n,r]=(0,e.useState)([]),[i,o]=(0,e.useState)([]),[s,a]=(0,e.useState)(!1),[l,c]=(0,e.useState)(""),[u,h]=(0,e.useState)(""),[d,f]=(0,e.useState)(!1),[p,m]=(0,e.useState)([]),[g,v]=(0,e.useState)("All"),y=We(),[b,w]=(0,e.useState)({address:"",phoneNumber:""});(0,e.useEffect)((()=>{(async()=>{if(!cb.currentUser)return void y("/introduction");const e=Em(Vp(lb,"categoriesInfo"));let t=(await Fm(e)).docs.map((e=>({id:e.id,...e.data()})));m(t);const n=Em(Vp(lb,"productsInfo"));let i=(await Fm(n)).docs.map((e=>({id:e.id,...e.data()})));r(i)})()}),[y]);const S=()=>i.reduce(((e,t)=>e+t.productPrice*t.quantity),0);(0,e.useEffect)((()=>{if(t.state&&t.state.order){const{order:e}=t.state;a(!0),c(e.address),h(e.phoneNumber),o(e.cart)}}),[t.state]);const E="All"===g?n:n.filter((e=>e.productCategory===g));return(0,at.jsxs)("div",{style:{backgroundColor:"#F3E5AB",minHeight:"100vh",padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,at.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"20px",position:"relative"},children:(0,at.jsxs)("div",{style:{position:"relative"},children:[(0,at.jsx)(M_.button,{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold",position:"relative",zIndex:1},onClick:()=>f(!d),whileHover:{scale:1.1},whileTap:{scale:.9},children:"Menu"}),d&&(0,at.jsxs)("div",{style:{position:"absolute",top:"50px",right:"0",backgroundColor:"#FFF",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",borderRadius:"10px",padding:"10px",display:"flex",flexDirection:"column"},children:[(0,at.jsx)(M_.button,{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold",marginBottom:"10px"},onClick:()=>y("/product"),whileHover:{scale:1.1},whileTap:{scale:.9},children:"Cart"}),(0,at.jsx)(M_.button,{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold",marginBottom:"10px"},onClick:()=>y("/order"),whileHover:{scale:1.1},whileTap:{scale:.9},children:"Orders"}),(0,at.jsx)(M_.button,{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold",marginBottom:"10px"},onClick:async()=>{try{await cb.signOut(),y("/introduction")}catch(e){console.error("Error logging out:",e.message)}},whileHover:{scale:1.1},whileTap:{scale:.9},children:"Log Out"})]})]})}),(0,at.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,at.jsx)("button",{onClick:()=>v("All"),style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold",marginRight:"10px",transition:"transform 0.2s"},onMouseOver:e=>e.currentTarget.style.transform="scale(1.1)",onMouseOut:e=>e.currentTarget.style.transform="scale(1)",children:"All"}),p.map((e=>(0,at.jsx)("button",{onClick:()=>v(e.categoryName),style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold",marginRight:"10px",transition:"transform 0.2s"},onMouseOver:e=>e.currentTarget.style.transform="scale(1.1)",onMouseOut:e=>e.currentTarget.style.transform="scale(1)",children:e.categoryName},e.id)))]}),(0,at.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:E.map((e=>(0,at.jsxs)("div",{style:{backgroundColor:"#FFF",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",padding:"20px",margin:"10px",flex:"1 1 calc(25% - 40px)",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,at.jsx)("img",{src:e.productImage,alt:e.productName,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"10px",marginBottom:"10px"}}),(0,at.jsx)("h2",{style:{fontSize:"20px",margin:"10px 0"},children:e.productName}),(0,at.jsxs)("p",{style:{fontSize:"18px",color:"#555"},children:["$",e.productPrice]}),(0,at.jsx)(M_.button,{onClick:()=>(e=>{const t=i.find((t=>t.id===e.id));o(t?i.map((t=>t.id===e.id?{...t,quantity:t.quantity+1}:t)):[...i,{...e,quantity:1}])})(e),style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold",marginTop:"10px"},whileHover:{scale:1.1},whileTap:{scale:.9},children:"Add to Cart"})]},e.id)))}),s&&(0,at.jsx)("div",{style:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,at.jsxs)("div",{style:{backgroundColor:"#FFF",borderRadius:"10px",padding:"20px",width:"400px"},children:[(0,at.jsx)("h2",{children:"Checkout"}),(0,at.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,at.jsx)("label",{children:"Address:"}),(0,at.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),style:{width:"100%",padding:"10px",marginBottom:"5px",borderRadius:"5px",border:"1px solid #ccc"}}),b.address&&(0,at.jsx)("span",{style:{color:"red",fontSize:"12px"},children:b.address})]}),(0,at.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,at.jsx)("label",{children:"Phone Number:"}),(0,at.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),style:{width:"100%",padding:"10px",marginBottom:"5px",borderRadius:"5px",border:"1px solid #ccc"}}),b.phoneNumber&&(0,at.jsx)("span",{style:{color:"red",fontSize:"12px"},children:b.phoneNumber})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("h3",{children:"Cart Items"}),(0,at.jsx)("ul",{children:i.map((e=>(0,at.jsxs)("li",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[(0,at.jsxs)("span",{children:[e.productName," (x",e.quantity,")"]}),(0,at.jsxs)("span",{children:["$",(e.productPrice*e.quantity).toFixed(2)]})]},e.id)))}),(0,at.jsxs)("h3",{children:["Total: $",S().toFixed(2)]})]}),(0,at.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,at.jsx)(M_.button,{onClick:async()=>{let e=!0;if(cb.currentUser){if(l?w((e=>({...e,address:""}))):(w((e=>({...e,address:"Please fill your address"}))),e=!1),u?w((e=>({...e,phoneNumber:""}))):(w((e=>({...e,phoneNumber:"Please fill your phone number"}))),e=!1),e){const e={userId:cb.currentUser.uid,address:l,phoneNumber:u,cart:i,totalPrice:S(),createdDate:new Date,status:"Processing"};try{await Um(Vp(lb,"ordersInfo"),e),alert("Order placed successfully!"),o([]),a(!1)}catch(t){console.error("Error placing order:",t.message)}}}else y("/introduction")},style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold",marginTop:"10px"},whileHover:{scale:1.1},whileTap:{scale:.9},children:"Confirm Order"}),(0,at.jsx)(M_.button,{onClick:()=>a(!1),style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold",marginTop:"10px"},whileHover:{scale:1.1},whileTap:{scale:.9},children:"Close"})]})]})})]})},q_=()=>{const[t,n]=(0,e.useState)(""),r=We();return(0,at.jsx)("div",{style:{backgroundColor:"#F3E5AB",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"Arial, sans-serif"},children:(0,at.jsxs)(M_.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},style:{maxWidth:"400px",margin:"50px",padding:"20px",border:"1px solid #ccc",borderRadius:"10px",backgroundColor:"#FFFFFF",textAlign:"center",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},children:[(0,at.jsx)("h2",{style:{marginTop:"0",marginBottom:"20px",fontWeight:"bold",color:"#8B4513"},children:"Change Password"}),(0,at.jsxs)("form",{children:[(0,at.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,at.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#6B4226"},children:"Email:"}),(0,at.jsx)("input",{style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #CCC"},onChange:e=>n(e.target.value)})]}),(0,at.jsx)(M_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},style:{width:"100%",padding:"10px",borderRadius:"5px",border:"none",backgroundColor:"#8B4513",color:"#FFF",cursor:"pointer",fontWeight:"bold"},type:"button",onClick:async()=>{try{await async function(e,t,n){const r=nv(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Uv(r,i,n),await cv(r,i,"getOobCode",vv)}(cb,t),alert("Password Reset Email Sent")}catch(e){console.error("Error sending password reset email:",e.message),alert("Error: ".concat(e.message))}},children:"Send Change Password Email"})]}),(0,at.jsx)(M_.button,{whileHover:{scale:1.05},whileTap:{scale:.95},style:{marginTop:"20px",width:"100%",padding:"10px",borderRadius:"5px",border:"none",backgroundColor:"#6f4e37",color:"#FFF",cursor:"pointer",fontWeight:"bold"},onClick:()=>r("/login"),children:"Back to Login Page"})]})})},K_=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)([]),[o,s]=(0,e.useState)(null),[a,l]=(0,e.useState)(!1),c=We(),[u,h]=(0,e.useState)(""),[d,f]=(0,e.useState)(""),[p,m]=(0,e.useState)([]);(0,e.useEffect)((()=>{(async()=>{const e=Em(Vp(lb,"productsInfo")),t=(await Fm(e)).docs.map((e=>({id:e.id,...e.data()})));i(t)})()}),[]),(0,e.useEffect)((()=>{(async()=>{if(cb.currentUser){const e=Em(Vp(lb,"ordersInfo"),Tm("userId","==",cb.currentUser.uid)),t=(await Fm(e)).docs.map((e=>({id:e.id,...e.data()})));n(t)}})()}),[]);const g=(e,t)=>{const n=p.map((n=>n.id===e&&t>=0?{...n,quantity:t}:n));m(n)};return(0,at.jsxs)("div",{style:{backgroundColor:"#F3E5AB",minHeight:"100vh",padding:"20px",fontFamily:"Arial, sans-serif",position:"relative"},children:[(0,at.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"20px",zIndex:1},children:[(0,at.jsx)(M_.button,{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold"},onClick:()=>l(!a),whileHover:{scale:1.1},whileTap:{scale:.9},children:"Menu"}),a&&(0,at.jsxs)("div",{style:{position:"absolute",top:"50px",right:"0",backgroundColor:"#FFF",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",borderRadius:"10px",padding:"10px",display:"flex",flexDirection:"column",zIndex:2},children:[(0,at.jsx)(M_.button,{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold",marginBottom:"10px"},onClick:()=>c("/product"),whileHover:{scale:1.1},whileTap:{scale:.9},children:"Cart"}),(0,at.jsx)(M_.button,{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold",marginBottom:"10px"},onClick:()=>c("/order"),whileHover:{scale:1.1},whileTap:{scale:.9},children:"Orders"}),(0,at.jsx)(M_.button,{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold",marginBottom:"10px"},onClick:async()=>{try{await cb.signOut(),c("/introduction")}catch(e){console.error("Error logging out:",e.message)}},whileHover:{scale:1.1},whileTap:{scale:.9},children:"Log Out"})]})]}),(0,at.jsx)("h2",{style:{color:"#8B4513",marginBottom:"20px"},children:"Your Orders"}),(0,at.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:t.length>0?t.map((e=>(0,at.jsxs)(M_.div,{style:{backgroundColor:"#FFF",padding:"20px",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",cursor:"pointer",position:"relative"},onClick:()=>(e=>{s(e),h(e.address),f(e.phoneNumber),m(e.products||[])})(e),whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,at.jsxs)("p",{style:{margin:0,color:"#8B4513",fontWeight:"bold"},children:["Order ID: ",e.id,"  (",e.status,")"]}),(0,at.jsxs)("p",{style:{margin:0},children:["Total Price: $",e.totalPrice.toFixed(2)]}),(0,at.jsxs)("p",{style:{margin:0},children:["Date: ",new Date(1e3*e.createdDate.seconds).toLocaleDateString()]}),(0,at.jsx)(M_.button,{style:{backgroundColor:"#FF6347",color:"#FFF",border:"none",borderRadius:"5px",padding:"5px 10px",cursor:"pointer",fontWeight:"bold",position:"absolute",top:"10px",right:"10px"},onClick:r=>{r.stopPropagation(),(async e=>{try{await Vm(Up(lb,"ordersInfo",e)),n(t.filter((t=>t.id!==e))),alert("Order deleted successfully!")}catch(r){console.error("Error deleting order:",r.message)}})(e.id)},whileHover:{scale:1.1},whileTap:{scale:.9},children:"Delete"})]},e.id))):(0,at.jsx)("p",{style:{color:"#8B4513"},children:"No orders found."})}),o&&(0,at.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:3},children:(0,at.jsxs)("div",{style:{backgroundColor:"#FFF",padding:"20px",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",width:"400px"},children:[(0,at.jsx)("h3",{style:{marginTop:0,marginBottom:"10px",color:"#8B4513"},children:"Edit Order"}),(0,at.jsx)("input",{type:"text",placeholder:"Address",value:u,onChange:e=>h(e.target.value),style:{width:"100%",marginBottom:"10px",padding:"10px",borderRadius:"5px",border:"1px solid #8B4513"}}),(0,at.jsx)("input",{type:"text",placeholder:"Phone Number",value:d,onChange:e=>f(e.target.value),style:{width:"100%",marginBottom:"10px",padding:"10px",borderRadius:"5px",border:"1px solid #8B4513"}}),(0,at.jsx)("h4",{style:{color:"#8B4513"},children:"Products:"}),p.map((e=>(0,at.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,at.jsx)("span",{children:o.cart[0]}),(0,at.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,at.jsx)(M_.button,{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"5px 10px",cursor:"pointer",fontWeight:"bold"},onClick:()=>g(e.id,e.quantity-1),whileHover:{scale:1.1},whileTap:{scale:.9},children:"-"}),(0,at.jsx)("span",{children:e.quantity}),(0,at.jsx)(M_.button,{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"5px 10px",cursor:"pointer",fontWeight:"bold"},onClick:()=>g(e.id,e.quantity+1),whileHover:{scale:1.1},whileTap:{scale:.9},children:"+"})]})]},e.id))),(0,at.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px"},children:[(0,at.jsx)(M_.button,{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold"},onClick:async()=>{try{await jm(Up(lb,"ordersInfo",o.id),{address:u,phoneNumber:d,products:p}),alert("Order updated successfully!"),s(null)}catch(e){console.error("Error updating order:",e.message)}},whileHover:{scale:1.1},whileTap:{scale:.9},children:"Confirm"}),(0,at.jsx)(M_.button,{style:{backgroundColor:"#FF6347",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold"},onClick:()=>s(null),whileHover:{scale:1.1},whileTap:{scale:.9},children:"Close"})]})]})})]})},G_=()=>{const t=We(),[n,r]=(0,e.useState)([]),[i,o]=(0,e.useState)([]),[s,a]=(0,e.useState)(""),[l,c]=(0,e.useState)({productName:"",productPrice:"",productImg:"",category:""}),[u,h]=(0,e.useState)(null),[d,f]=(0,e.useState)(null);(0,e.useEffect)((()=>{(async()=>{try{const e=Vp(lb,"productsInfo"),t=(await Fm(e)).docs.map((e=>({id:e.id,...e.data()})));r(t)}catch(e){console.error("Error fetching products:",e.message)}})(),(async()=>{try{const e=Vp(lb,"categoriesInfo"),t=(await Fm(e)).docs.map((e=>({id:e.id,...e.data()})));o(t)}catch(e){console.error("Error fetching categories:",e.message)}})()}),[]);const p=async()=>{try{const e=Up(lb,"productsInfo",u.id);await jm(e,u),r(n.map((e=>e.id===u.id?{...e,...u}:e))),h(null),f(null)}catch(e){console.error("Error updating product:",e.message)}},m=e=>{const t=e.target.files[0],n=new FileReader;n.onloadend=()=>{f(n.result),h({...u,productImg:n.result})},t&&n.readAsDataURL(t)};return(0,at.jsxs)("div",{style:{backgroundColor:"#F3E5AB",minHeight:"100vh",padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,at.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,at.jsx)("h2",{style:{color:"#8B4513",marginBottom:"0"},children:"Manage Products"}),(0,at.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,at.jsx)("button",{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold"},onClick:()=>t("/managerproduct"),children:"Products"}),(0,at.jsx)("button",{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold"},onClick:()=>t("/managerorder"),children:"Orders"}),(0,at.jsx)("button",{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold"},onClick:()=>t("/managerrevenue"),children:"Revenue"}),(0,at.jsx)("button",{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold"},onClick:async()=>{try{await cb.signOut(),t("/introduction")}catch(e){console.error("Error logging out:",e.message)}},children:"Log Out"})]})]}),(0,at.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,at.jsx)("input",{type:"text",placeholder:"Product Name",value:l.productName,onChange:e=>c({...l,productName:e.target.value}),style:{padding:"10px",marginRight:"10px",borderRadius:"5px",border:"1px solid #CCC"}}),(0,at.jsx)("input",{type:"text",placeholder:"Product Price",value:l.productPrice,onChange:e=>c({...l,productPrice:e.target.value}),style:{padding:"10px",marginRight:"10px",borderRadius:"5px",border:"1px solid #CCC"}}),(0,at.jsx)("input",{type:"file",onChange:e=>{const t=e.target.files[0],n=new FileReader;n.onloadend=()=>{c({...l,productImg:n.result})},t&&n.readAsDataURL(t)},style:{marginBottom:"10px"}}),l.productImg&&(0,at.jsx)("img",{src:l.productImg,alt:"Product",style:{width:"100px",height:"100px",objectFit:"cover",marginBottom:"10px"}}),(0,at.jsxs)("select",{value:l.category,onChange:e=>c({...l,category:e.target.value}),style:{padding:"10px",marginRight:"10px",borderRadius:"5px",border:"1px solid #CCC"},children:[(0,at.jsx)("option",{value:"",disabled:!0,children:"Select Category"}),i.map((e=>(0,at.jsx)("option",{value:e.categoryName,children:e.categoryName},e.id)))]}),(0,at.jsx)("button",{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold"},onClick:async()=>{try{const e=Vp(lb,"productsInfo"),t=await Um(e,l);r([...n,{id:t.id,...l}]),c({productName:"",productPrice:"",productImg:"",category:""})}catch(e){console.error("Error adding product:",e.message)}},children:"Add Product"})]}),(0,at.jsx)("div",{children:n.map((e=>(0,at.jsx)(M_.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},style:{backgroundColor:"#FFFFFF",padding:"20px",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",marginBottom:"10px"},children:(null===u||void 0===u?void 0:u.id)===e.id?(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("input",{type:"text",value:u.productName,onChange:e=>h({...u,productName:e.target.value}),style:{padding:"10px",marginBottom:"10px",borderRadius:"5px",border:"1px solid #CCC"}}),(0,at.jsx)("input",{type:"text",value:u.productPrice,onChange:e=>h({...u,productPrice:e.target.value}),style:{padding:"10px",marginBottom:"10px",borderRadius:"5px",border:"1px solid #CCC"}}),(0,at.jsx)("input",{type:"file",onChange:m,style:{marginBottom:"10px"}}),d&&(0,at.jsx)("img",{src:d,alt:"Product",style:{width:"100px",height:"100px",objectFit:"cover",marginBottom:"10px"}}),(0,at.jsx)("button",{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"5px 10px",cursor:"pointer",fontWeight:"bold",marginRight:"5px"},onClick:p,children:"Save"}),(0,at.jsx)("button",{style:{backgroundColor:"#FFF",color:"#8B4513",border:"1px solid #8B4513",borderRadius:"5px",padding:"5px 10px",cursor:"pointer",fontWeight:"bold"},onClick:()=>h(null),children:"Cancel"})]}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("h3",{style:{marginTop:"0",marginBottom:"10px",color:"#8B4513"},children:e.productName}),(0,at.jsxs)("p",{style:{marginBottom:"10px"},children:["Price: $",e.productPrice]}),(0,at.jsxs)("p",{style:{marginBottom:"10px"},children:["Category: ",e.category]}),(0,at.jsx)("img",{src:e.productImg,alt:"Product",style:{width:"100px",height:"100px",objectFit:"cover",marginBottom:"10px"}}),(0,at.jsxs)("div",{children:[(0,at.jsx)("button",{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"5px 10px",cursor:"pointer",fontWeight:"bold",marginRight:"5px"},onClick:()=>h({...e}),children:"Edit"}),(0,at.jsx)("button",{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"5px",cursor:"pointer",fontWeight:"bold",marginRight:"5px"},onClick:()=>(async e=>{try{await Vm(Up(lb,"productsInfo",e)),r(n.filter((t=>t.id!==e)))}catch(t){console.error("Error deleting product:",t.message)}})(e.id),children:"Delete"})]})]})},e.id)))}),(0,at.jsxs)("div",{style:{marginTop:"20px"},children:[(0,at.jsx)("h3",{style:{color:"#8B4513"},children:"Manage Categories"}),(0,at.jsx)("input",{type:"text",placeholder:"New Category Name",value:s,onChange:e=>a(e.target.value),style:{padding:"10px",marginRight:"10px",borderRadius:"5px",border:"1px solid #CCC"}}),(0,at.jsx)("button",{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold"},onClick:async()=>{try{const e=Vp(lb,"categoryInfo"),t=await Um(e,{categoryName:s});o([...i,{id:t.id,categoryName:s}]),a("")}catch(e){console.error("Error adding category:",e.message)}},children:"Add Category"}),(0,at.jsx)("div",{style:{marginTop:"10px"},children:i.map((e=>(0,at.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px"},children:[(0,at.jsx)("span",{style:{marginRight:"10px"},children:e.categoryName}),(0,at.jsx)("button",{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"5px 10px",cursor:"pointer",fontWeight:"bold"},onClick:()=>(async e=>{try{await Vm(Up(lb,"categoryInfo",e)),o(i.filter((t=>t.id!==e)))}catch(t){console.error("Error deleting category:",t.message)}})(e.id),children:"Delete"})]},e.id)))})]})]})},Q_=()=>{const t=We(),[n,r]=(0,e.useState)([]);(0,e.useEffect)((()=>{(async()=>{try{const e=Vp(lb,"ordersInfo"),t=(await Fm(e)).docs.map((e=>({id:e.id,...e.data()})));r(t)}catch(e){console.error("Error fetching orders:",e.message)}})()}),[]);return(0,at.jsxs)("div",{style:{backgroundColor:"#F3E5AB",minHeight:"100vh",padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,at.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,at.jsx)("h2",{style:{color:"#8B4513",marginBottom:"0"},children:"Manage Orders"}),(0,at.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,at.jsx)("button",{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold"},onClick:()=>t("/managerproduct"),children:"Products"}),(0,at.jsx)("button",{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold"},onClick:()=>t("/managerorder"),children:"Orders"}),(0,at.jsx)("button",{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold"},onClick:()=>t("/managerrevenue"),children:"Revenue"}),(0,at.jsx)("button",{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold"},onClick:async()=>{try{await cb.signOut(),t("/introduction")}catch(e){console.error("Error logging out:",e.message)}},children:"Log Out"})]})]}),(0,at.jsx)("div",{children:n.map((e=>(0,at.jsxs)(M_.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},style:{backgroundColor:"#FFFFFF",padding:"20px",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",marginBottom:"10px"},children:[(0,at.jsxs)("h3",{style:{marginTop:"0",marginBottom:"10px",color:"#8B4513"},children:["Order ID: ",e.id]}),(0,at.jsxs)("p",{style:{marginBottom:"10px"},children:["User ID: ",e.userId]}),(0,at.jsxs)("p",{style:{marginBottom:"10px"},children:["Address: ",e.address]}),(0,at.jsxs)("p",{style:{marginBottom:"10px"},children:["Phone Number: ",e.phoneNumber]}),(0,at.jsxs)("p",{style:{marginBottom:"10px"},children:["Total Price: $",e.totalPrice.toFixed(2)]}),(0,at.jsxs)("p",{style:{marginBottom:"10px"},children:["Status:",(0,at.jsxs)("select",{value:e.status,onChange:t=>(async(e,t)=>{try{const i=Up(lb,"ordersInfo",e);await jm(i,{status:t}),r(n.map((n=>n.id===e?{...n,status:t}:n)))}catch(i){console.error("Error updating order status:",i.message)}})(e.id,t.target.value),style:{padding:"5px",marginLeft:"5px"},children:[(0,at.jsx)("option",{value:"Processing",children:"Processing"}),(0,at.jsx)("option",{value:"Packing",children:"Packing"}),(0,at.jsx)("option",{value:"Shipping",children:"Shipping"}),(0,at.jsx)("option",{value:"Delivered",children:"Delivered"})]})]})]},e.id)))})]})},Y_=()=>{const t=We(),[n,r]=(0,e.useState)([]);(0,e.useEffect)((()=>{(async()=>{try{const e=Vp(lb,"ordersInfo"),t=await Fm(e),n={};t.forEach((e=>{const t=e.data(),r=t.createdDate.toDate().toLocaleDateString(),i=t.totalPrice;n[r]?n[r]+=i:n[r]=i}));const i=Object.entries(n).map((e=>{let[t,n]=e;return{date:t,total:n}}));r(i)}catch(e){console.error("Error fetching revenue:",e.message)}})()}),[]);return(0,at.jsxs)("div",{style:{backgroundColor:"#F3E5AB",minHeight:"100vh",padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,at.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,at.jsx)("h2",{style:{color:"#8B4513",marginBottom:"0"},children:"Manage Revenue"}),(0,at.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,at.jsx)("button",{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold"},onClick:()=>t("/managerproduct"),children:"Products"}),(0,at.jsx)("button",{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold"},onClick:()=>t("/managerorder"),children:"Orders"}),(0,at.jsx)("button",{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold"},onClick:()=>t("/managerrevenue"),children:"Revenue"}),(0,at.jsx)("button",{style:{backgroundColor:"#8B4513",color:"#FFF",border:"none",borderRadius:"5px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold"},onClick:async()=>{try{await cb.signOut(),t("/introduction")}catch(e){console.error("Error logging out:",e.message)}},children:"Log Out"})]})]}),(0,at.jsxs)("div",{children:[(0,at.jsx)("h3",{children:"Daily Revenue:"}),(0,at.jsx)("ul",{children:n.map(((e,t)=>(0,at.jsxs)("li",{children:[e.date,": $",e.total.toFixed(2)]},t)))})]})]})},X_=function(e,t){return ee({basename:null==t?void 0:t.basename,future:dt({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(n={window:null==t?void 0:t.window},void 0===n&&(n={}),f((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:h(t)}),null,n)),hydrationData:(null==t?void 0:t.hydrationData)||ft(),routes:e,mapRouteProperties:st,window:null==t?void 0:t.window}).initialize();var n}([{path:"/",element:(0,at.jsx)(U_,{children:(0,at.jsx)(lt,{})})},{path:"/introduction",element:(0,at.jsx)(z_,{})},{path:"/signup",element:(0,at.jsx)(H_,{})},{path:"/login",element:(0,at.jsx)(F_,{})},{path:"/product",element:(0,at.jsx)(W_,{})},{path:"/change",element:(0,at.jsx)(q_,{})},{path:"/order",element:(0,at.jsx)(K_,{})},{path:"/managerproduct",element:(0,at.jsx)(G_,{})},{path:"/managerorder",element:(0,at.jsx)(Q_,{})},{path:"/managerrevenue",element:(0,at.jsx)(Y_,{})}]);r.createRoot(document.getElementById("root")).render((0,at.jsx)(V_,{children:(0,at.jsx)(St,{router:X_})})),ct()})()})();
//# sourceMappingURL=main.21f982e4.js.map